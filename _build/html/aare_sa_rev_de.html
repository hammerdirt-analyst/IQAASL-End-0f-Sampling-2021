
<!DOCTYPE html>

<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>3. Aare</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/translations.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Stichwortverzeichnis" href="genindex.html" />
    <link rel="search" title="Suche" href="search.html" />
    <link rel="prev" title="2. Alpen und der Jura" href="alpes_valaisannes_rev_de.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="de">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/iqaaslogo.png" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="titlepage_de.html">
                    Identification, quantification and analysis of observable anthropogenic litter along Swiss lake systems
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Zusammenfassung
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="lakes_rivers_rev_de.html">
   1. Seen und Fliessgew√§sser
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="alpes_valaisannes_rev_de.html">
   2. Alpen und der Jura
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   3. Aare
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/hammerdirt-analyst/IQAASL-End-0f-Sampling-2021/main?urlpath=tree/docs/aare_sa_rev_de.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/hammerdirt-analyst/IQAASL-End-0f-Sampling-2021"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/hammerdirt-analyst/IQAASL-End-0f-Sampling-2021/issues/new?title=Issue%20on%20page%20%2Faare_sa_rev_de.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/aare_sa_rev_de.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#erhebungsorte-und-landnutzungsprofile">
   3.1. Erhebungsorte und Landnutzungsprofile
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#landnutzungsprofil-der-erhebungsorte">
     3.1.1. Landnutzungsprofil der Erhebungsorte
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kumulative-gesamtmengen-nach-gewasser">
     3.1.2. Kumulative Gesamtmengen nach Gew√§sser
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#verteilung-der-erhebungsergebnisse">
     3.1.3. Verteilung der Erhebungsergebnisse
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#zusammengefasste-daten-und-materialarten">
     3.1.4. Zusammengefasste Daten und Materialarten
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#die-am-haufigsten-gefundenen-objekte">
   3.2. Die am h√§ufigsten gefundenen Objekte
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#die-am-haufigsten-gefundenen-objekte-nach-gewasser">
     3.2.1. Die am h√§ufigsten gefundenen Objekte nach Gew√§sser
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#die-am-haufigsten-gefundenen-objekte-im-monatlichen-durchschnitt">
     3.2.2. Die am h√§ufigsten gefundenen Objekte im monatlichen Durchschnitt
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#erhebungsergebnisse-und-landnutzung">
   3.3. Erhebungsergebnisse und Landnutzung
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#verwendungszweck-der-gefundenen-objekte">
   3.4. Verwendungszweck der gefundenen Objekte
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fliessgewasser">
   3.5. Fliessgew√§sser
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#die-an-fliessgewassern-am-haufigsten-gefundenen-objekte">
     3.5.1. Die an Fliessgew√§ssern am h√§ufigsten gefundenen Objekte
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#anhang">
   3.6. Anhang
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#schaumstoffe-und-kunststoffe-nach-grosse">
     3.6.1. Schaumstoffe und Kunststoffe nach Gr√∂sse
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#die-erhebungsorte">
     3.6.2. Die Erhebungsorte
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#inventar-der-objekte">
     3.6.3. Inventar der Objekte
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Aare</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#erhebungsorte-und-landnutzungsprofile">
   3.1. Erhebungsorte und Landnutzungsprofile
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#landnutzungsprofil-der-erhebungsorte">
     3.1.1. Landnutzungsprofil der Erhebungsorte
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kumulative-gesamtmengen-nach-gewasser">
     3.1.2. Kumulative Gesamtmengen nach Gew√§sser
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#verteilung-der-erhebungsergebnisse">
     3.1.3. Verteilung der Erhebungsergebnisse
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#zusammengefasste-daten-und-materialarten">
     3.1.4. Zusammengefasste Daten und Materialarten
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#die-am-haufigsten-gefundenen-objekte">
   3.2. Die am h√§ufigsten gefundenen Objekte
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#die-am-haufigsten-gefundenen-objekte-nach-gewasser">
     3.2.1. Die am h√§ufigsten gefundenen Objekte nach Gew√§sser
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#die-am-haufigsten-gefundenen-objekte-im-monatlichen-durchschnitt">
     3.2.2. Die am h√§ufigsten gefundenen Objekte im monatlichen Durchschnitt
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#erhebungsergebnisse-und-landnutzung">
   3.3. Erhebungsergebnisse und Landnutzung
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#verwendungszweck-der-gefundenen-objekte">
   3.4. Verwendungszweck der gefundenen Objekte
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fliessgewasser">
   3.5. Fliessgew√§sser
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#die-an-fliessgewassern-am-haufigsten-gefundenen-objekte">
     3.5.1. Die an Fliessgew√§ssern am h√§ufigsten gefundenen Objekte
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#anhang">
   3.6. Anhang
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#schaumstoffe-und-kunststoffe-nach-grosse">
     3.6.1. Schaumstoffe und Kunststoffe nach Gr√∂sse
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#die-erhebungsorte">
     3.6.2. Die Erhebungsorte
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#inventar-der-objekte">
     3.6.3. Inventar der Objekte
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1"># This is a report using the data from IQAASL.</span>
<span class="c1"># IQAASL was a project funded by the Swiss Confederation</span>
<span class="c1"># It produces a summary of litter survey results for a defined region.</span>
<span class="c1"># These charts serve as the models for the development of plagespropres.ch</span>
<span class="c1"># The data is gathered by volunteers.</span>
<span class="c1"># Please remember all copyrights apply, please give credit when applicable</span>
<span class="c1"># The repo is maintained by the community effective January 01, 2022</span>
<span class="c1"># There is ample opportunity to contribute, learn and teach</span>
<span class="c1"># contact dev@hammerdirt.ch</span>

<span class="c1"># Dies ist ein Bericht, der die Daten von IQAASL verwendet.</span>
<span class="c1"># IQAASL war ein von der Schweizerischen Eidgenossenschaft finanziertes Projekt.</span>
<span class="c1"># Es erstellt eine Zusammenfassung der Ergebnisse der Littering-Umfrage f√ºr eine bestimmte Region.</span>
<span class="c1"># Diese Grafiken dienten als Vorlage f√ºr die Entwicklung von plagespropres.ch.</span>
<span class="c1"># Die Daten werden von Freiwilligen gesammelt.</span>
<span class="c1"># Bitte denken Sie daran, dass alle Copyrights gelten, bitte geben Sie den Namen an, wenn zutreffend.</span>
<span class="c1"># Das Repo wird ab dem 01. Januar 2022 von der Community gepflegt.</span>
<span class="c1"># Es gibt reichlich Gelegenheit, etwas beizutragen, zu lernen und zu lehren.</span>
<span class="c1"># Kontakt dev@hammerdirt.ch</span>

<span class="c1"># Il s&#39;agit d&#39;un rapport utilisant les donn√©es de IQAASL.</span>
<span class="c1"># IQAASL √©tait un projet financ√© par la Conf√©d√©ration suisse.</span>
<span class="c1"># Il produit un r√©sum√© des r√©sultats de l&#39;enqu√™te sur les d√©chets sauvages pour une r√©gion d√©finie.</span>
<span class="c1"># Ces tableaux ont servi de mod√®les pour le d√©veloppement de plagespropres.ch</span>
<span class="c1"># Les donn√©es sont recueillies par des b√©n√©voles.</span>
<span class="c1"># N&#39;oubliez pas que tous les droits d&#39;auteur s&#39;appliquent, veuillez indiquer le cr√©dit lorsque cela est possible.</span>
<span class="c1"># Le d√©p√¥t est maintenu par la communaut√© √† partir du 1er janvier 2022.</span>
<span class="c1"># Il y a de nombreuses possibilit√©s de contribuer, d&#39;apprendre et d&#39;enseigner.</span>
<span class="c1"># contact dev@hammerdirt.ch</span>

<span class="c1"># sys, file and nav packages:</span>
<span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="nn">dt</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">time</span>
<span class="kn">from</span> <span class="nn">babel.dates</span> <span class="kn">import</span> <span class="n">format_date</span><span class="p">,</span> <span class="n">format_datetime</span><span class="p">,</span> <span class="n">format_time</span><span class="p">,</span> <span class="n">get_month_names</span>
<span class="kn">import</span> <span class="nn">locale</span>

<span class="c1"># math packages:</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">stats</span>
<span class="kn">from</span> <span class="nn">statsmodels.distributions.empirical_distribution</span> <span class="kn">import</span> <span class="n">ECDF</span>

<span class="c1"># charting:</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.dates</span> <span class="k">as</span> <span class="nn">mdates</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">ticker</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">colors</span>
<span class="kn">from</span> <span class="nn">matplotlib.colors</span> <span class="kn">import</span> <span class="n">LinearSegmentedColormap</span>
<span class="kn">from</span> <span class="nn">matplotlib.gridspec</span> <span class="kn">import</span> <span class="n">GridSpec</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># home brew utitilties</span>
<span class="kn">import</span> <span class="nn">resources.chart_kwargs</span> <span class="k">as</span> <span class="nn">ck</span>
<span class="kn">import</span> <span class="nn">resources.sr_ut</span> <span class="k">as</span> <span class="nn">sut</span>

<span class="c1"># images and display</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Markdown</span> <span class="k">as</span> <span class="n">md</span>
<span class="kn">from</span> <span class="nn">myst_nb</span> <span class="kn">import</span> <span class="n">glue</span>

<span class="c1"># set the locale to the language desired</span>
<span class="n">date_lang</span> <span class="o">=</span>  <span class="s1">&#39;de_DE.utf8&#39;</span>
<span class="n">language</span> <span class="o">=</span> <span class="s2">&quot;DE&quot;</span>
<span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_ALL</span><span class="p">,</span> <span class="n">date_lang</span><span class="p">)</span>

<span class="c1"># the date is in iso standard:</span>
<span class="n">date_format</span> <span class="o">=</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span>

<span class="c1"># it gets changed to german format</span>
<span class="n">german_date_format</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2">.%m.%Y&quot;</span>

<span class="c1"># set some parameters:</span>
<span class="n">start_date</span> <span class="o">=</span> <span class="s2">&quot;2020-03-01&quot;</span>
<span class="n">end_date</span> <span class="o">=</span><span class="s2">&quot;2021-05-31&quot;</span>
<span class="n">start_end</span> <span class="o">=</span> <span class="p">[</span><span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">]</span>

<span class="c1"># The fail rate is 50%, that is objects that</span>
<span class="c1"># are found in more than 50% of the samples</span>
<span class="c1"># are considered common or among the most common</span>
<span class="n">a_fail_rate</span> <span class="o">=</span> <span class="mi">50</span>

<span class="c1"># the units of the repor</span>
<span class="n">unit_label</span> <span class="o">=</span> <span class="s2">&quot;p/100 m&quot;</span>

<span class="c1"># charting and colors</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">&quot;whitegrid&quot;</span><span class="p">)</span>
<span class="n">table_row</span> <span class="o">=</span> <span class="s2">&quot;saddlebrown&quot;</span>

<span class="c1"># colors for gradients</span>
<span class="n">cmap2</span> <span class="o">=</span> <span class="n">ck</span><span class="o">.</span><span class="n">cmap2</span>
<span class="n">colors_palette</span> <span class="o">=</span> <span class="n">ck</span><span class="o">.</span><span class="n">colors_palette</span>

<span class="c1">## !! Begin Note book variables !!</span>

<span class="c1"># Changing these variables produces different reports</span>
<span class="c1"># Call the map image for the area of interest</span>
<span class="n">bassin_map</span> <span class="o">=</span> <span class="s2">&quot;resources/maps/survey_areas/aare_scaled.jpeg&quot;</span>

<span class="c1"># the label for the aggregation of all data in the region</span>
<span class="n">top</span> <span class="o">=</span> <span class="s2">&quot;Alle Erhebungsgebiete&quot;</span>

<span class="c1"># define the feature level and components</span>
<span class="c1"># the feature of interest is the Aare (aare) at the river basin (river_bassin) level.</span>
<span class="c1"># the label for charting is called &#39;name&#39;</span>
<span class="n">this_feature</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;slug&#39;</span><span class="p">:</span><span class="s1">&#39;aare&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s2">&quot;Erhebungsgebiet Aare&quot;</span><span class="p">,</span> <span class="s1">&#39;level&#39;</span><span class="p">:</span><span class="s1">&#39;river_bassin&#39;</span><span class="p">}</span>

<span class="c1"># these are the smallest aggregated components</span>
<span class="c1"># choices are water_name_slug=lake or river, city or location at the scale of a river bassin </span>
<span class="c1"># water body or lake maybe the most appropriate</span>
<span class="n">this_level</span> <span class="o">=</span> <span class="s1">&#39;water_name_slug&#39;</span>

<span class="c1"># identify the lakes of interest for the survey area</span>
<span class="n">lakes_of_interest</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;neuenburgersee&quot;</span><span class="p">,</span> <span class="s2">&quot;thunersee&quot;</span><span class="p">,</span> <span class="s2">&quot;bielersee&quot;</span><span class="p">,</span> <span class="s2">&quot;brienzersee&quot;</span><span class="p">]</span>

<span class="c1"># !! End note book variables !!</span>

<span class="c1"># column names for the dimensions table output</span>
<span class="n">dims_table_columns</span><span class="o">=</span><span class="p">{</span>
    <span class="s2">&quot;samples&quot;</span><span class="p">:</span><span class="s2">&quot;Erhebungen&quot;</span><span class="p">,</span>
    <span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;Objekte&quot;</span><span class="p">,</span>
    <span class="s2">&quot;total_w&quot;</span><span class="p">:</span><span class="s2">&quot;Gesamt-kg&quot;</span><span class="p">,</span>
    <span class="s2">&quot;mac_plast_w&quot;</span><span class="p">:</span><span class="s2">&quot;kg Plastik&quot;</span><span class="p">,</span>
    <span class="s2">&quot;area&quot;</span><span class="p">:</span><span class="s2">&quot;m¬≤&quot;</span><span class="p">,</span>
    <span class="s2">&quot;length&quot;</span><span class="p">:</span><span class="s2">&quot;Meter&quot;</span>
<span class="p">}</span>

<span class="c1"># !! explanatory variabales, code definitions, language specific</span>

<span class="c1"># Survey location details (GPS, city, land use)</span>
<span class="n">dfBeaches</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;resources/beaches_with_land_use_rates.csv&quot;</span><span class="p">)</span>

<span class="c1"># Object code definitions, labels and material type</span>
<span class="n">dfCodes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;resources/codes_with_group_names_2015.csv&quot;</span><span class="p">)</span>

<span class="c1"># Survey dimensions and weights</span>
<span class="n">dfDims</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;resources/corrected_dims.csv&quot;</span><span class="p">)</span>

<span class="c1"># set the index of the beach data to location slug</span>
<span class="n">dfBeaches</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;slug&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># set the index of code data to code</span>
<span class="n">dfCodes</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># the surveyor designated the object as aluminum instead of metal</span>
<span class="n">dfCodes</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;G708&quot;</span><span class="p">,</span> <span class="s2">&quot;material&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Metal&quot;</span>

<span class="c1"># language specific</span>
<span class="c1"># importing german code descriptions</span>
<span class="n">de_codes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;resources/codes_german_Version_1.csv&quot;</span><span class="p">)</span>
<span class="n">de_codes</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># use the german translation of the code descriptions</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">dfCodes</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
    <span class="n">dfCodes</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">de_codes</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="s2">&quot;german&quot;</span><span class="p">]</span>
    
<span class="c1"># there are long code descriptions that may need to be shortened for display</span>
<span class="n">codes_to_change</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">&quot;G704&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;Seilbahnb√ºrste&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;Gfrags&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;Fragmentierte Kunststoffst√ºcke&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;G30&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;Snack-Verpackungen&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;G124&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;Kunststoff-oder Schaumstoffprodukte&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;G87&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;Abdeckklebeband / Verpackungsklebeband&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;G3&quot;</span><span class="p">,</span><span class="s2">&quot;description&quot;</span><span class="p">,</span><span class="s2">&quot;Einkaufstaschen, Shoppingtaschen&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;G33&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;Einwegartikel; Tassen/Becher &amp; Deckel&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;G31&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;Schleckstengel, Stengel von Lutscher&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;G211&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;Sonstiges medizinisches Material&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;G904&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;Feuerwerksk√∂rper; Raketenkappen&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;G940&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;Schaumstoff EVA (flexibler Kunststoff)&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;G178&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;Kronkorken, Lasche von Dose/Ausfreisslachen&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;G74&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;Schaumstoffverpackungen/Isolierung&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;G941&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;Verpackungsfolien, nicht f√ºr Lebensmittel&quot;</span><span class="p">]</span>
<span class="p">]</span>

<span class="c1"># apply changes</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">codes_to_change</span><span class="p">:</span>
    <span class="n">dfCodes</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">shorten_the_value</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">dfCodes</span><span class="p">)</span>
    
<span class="c1"># translate the material column to german</span>
<span class="n">dfCodes</span><span class="p">[</span><span class="s2">&quot;material&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dfCodes</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">sut</span><span class="o">.</span><span class="n">mat_ge</span><span class="p">[</span><span class="n">x</span><span class="p">])</span> 

<span class="c1"># make a map to the code descriptions</span>
<span class="n">code_description_map</span> <span class="o">=</span> <span class="n">dfCodes</span><span class="o">.</span><span class="n">description</span>

<span class="c1"># make a map to the code materials</span>
<span class="n">code_material_map</span> <span class="o">=</span> <span class="n">dfCodes</span><span class="o">.</span><span class="n">material</span>
</pre></div>
</div>
</div>
</div>
<section class="tex2jax_ignore mathjax_ignore" id="aare">
<span id="aaresa"></span><h1><span class="section-number">3. </span>Aare<a class="headerlink" href="#aare" title="Link zu dieser √úberschrift">#</a></h1>
<div class="cell tag_remove-input docutils container">
</div>
<figure class="align-default" id="aare-survey-area-map">
<img alt="_images/aare_scaled.jpeg" src="_images/aare_scaled.jpeg" />
<figcaption>
<p><span class="caption-number">Abb. 3.1 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#aare-survey-area-map" title="Link zu diesem Bild">#</a></p>
</figcaption>
</figure>
<p><a class="reference internal" href="#aare-survey-area-map"><span class="std std-numref">Abbildung 3.1:</span></a> Karte des Erhebungsgebiets M√§rz 2020 bis Mai 2021. Der Durchmesser der Punktsymbole entspricht dem Median der Abfallobjekte pro 100 Meter (p/100¬†m) am jeweiligen Erhebungsort.</p>
<section id="erhebungsorte-und-landnutzungsprofile">
<h2><span class="section-number">3.1. </span>Erhebungsorte und Landnutzungsprofile<a class="headerlink" href="#erhebungsorte-und-landnutzungsprofile" title="Link zu dieser √úberschrift">#</a></h2>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">thereIsData</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">atype</span><span class="o">=</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="p">)):</span>
    <span class="c1"># checkes that the provided data is a certain type</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">atype</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">data</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;There is no data or it is not the right type: is_instance(</span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">atype</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">loadData</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="c1"># loads data from a .csv</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="n">thereIsData</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span> <span class="n">atype</span><span class="o">=</span><span class="p">(</span><span class="nb">str</span><span class="p">,))</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>        
    <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The file could not be read, is this the right file extension?&quot;</span><span class="p">)</span>
        <span class="k">raise</span>
    <span class="k">return</span> <span class="n">a</span>

<span class="k">def</span> <span class="nf">changeColumnNames</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">{}):</span>
    <span class="c1"># changes the column names of a data frame</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">thereIsData</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">atype</span><span class="o">=</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="p">))</span>
    <span class="n">cols</span> <span class="o">=</span> <span class="n">thereIsData</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">columns</span><span class="p">,</span> <span class="n">atype</span><span class="o">=</span><span class="p">(</span><span class="nb">dict</span><span class="p">,</span> <span class="p">))</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The columns did not go with the data&quot;</span><span class="p">)</span>
        <span class="k">raise</span>
    <span class="k">return</span> <span class="n">a</span>

<span class="k">def</span> <span class="nf">makeEventIdColumn</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">feature_level</span><span class="p">,</span> <span class="n">these_features</span><span class="o">=</span><span class="p">[],</span> <span class="n">index_name</span><span class="o">=</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="n">index_prefix</span><span class="o">=</span><span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="n">index_suffix</span><span class="o">=</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="c1"># Combines the location and date column into one str: &quot;slug-date&quot;</span>
    <span class="c1"># makes it possible ot group records by event</span>
    <span class="c1"># converts string dates to timestamps and localizes to UTC</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">thereIsData</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">atype</span><span class="o">=</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="p">))</span>
    <span class="n">feature_level</span> <span class="o">=</span> <span class="n">thereIsData</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">feature_level</span><span class="p">,</span> <span class="n">atype</span><span class="o">=</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="p">))</span>
    <span class="n">these_features</span> <span class="o">=</span> <span class="n">thereIsData</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">these_features</span><span class="p">,</span> <span class="n">atype</span><span class="o">=</span><span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">))</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="n">sliced_data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="n">feature_level</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">these_features</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>    
        <span class="n">sliced_data</span><span class="p">[</span><span class="n">index_name</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">sliced_data</span><span class="p">[</span><span class="n">index_prefix</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">sliced_data</span><span class="p">[</span><span class="n">index_suffix</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">))</span>
        <span class="n">sliced_data</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">sliced_data</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">],</span> <span class="nb">format</span><span class="o">=</span><span class="n">date_format</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz_localize</span><span class="p">(</span><span class="s1">&#39;UTC&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The pandas implementation did not function&quot;</span><span class="p">)</span>
        <span class="k">raise</span>
    
    <span class="k">return</span> <span class="n">sliced_data</span>
    
<span class="k">def</span> <span class="nf">featureData</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">feature_level</span><span class="p">,</span> <span class="n">these_features</span><span class="o">=</span><span class="p">[],</span> <span class="n">columns</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;EN&quot;</span><span class="p">):</span>
    <span class="c1"># makes the feature data to be explored    </span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">loadData</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="n">columns</span> <span class="o">!=</span> <span class="kc">False</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">changeColumnNames</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">language</span> <span class="o">==</span> <span class="s2">&quot;DE&quot;</span><span class="p">:</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;groupname&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;groupname&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">sut</span><span class="o">.</span><span class="n">group_names_de</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">makeEventIdColumn</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">feature_level</span><span class="p">,</span> <span class="n">these_features</span><span class="o">=</span><span class="n">these_features</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">a</span><span class="p">,</span> <span class="n">data</span>

<span class="k">def</span> <span class="nf">convert_case</span><span class="p">(</span><span class="n">str_camelcase</span><span class="p">):</span>
    <span class="c1"># This function takes in a string in camelCase and converts it to snake_case</span>
    <span class="n">str_camelcase</span> <span class="o">=</span> <span class="n">thereIsData</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">str_camelcase</span><span class="p">,</span> <span class="n">atype</span><span class="o">=</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="p">))</span>
    <span class="n">str_snake_case</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">ele</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">str_camelcase</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">ele</span><span class="o">.</span><span class="n">islower</span><span class="p">():</span>
            <span class="n">str_snake_case</span> <span class="o">=</span> <span class="n">str_snake_case</span> <span class="o">+</span> <span class="n">ele</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">str_snake_case</span> <span class="o">=</span> <span class="n">str_snake_case</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span> <span class="o">+</span> <span class="n">ele</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">str_snake_case</span>


<span class="k">def</span> <span class="nf">checkInitiateAttribute</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">atype</span><span class="o">=</span><span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">),</span> <span class="n">a_method</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="c1"># check the data type of the requested element against the required data type</span>
    <span class="c1"># if check the data is returned, else &lt;a_method&gt; will be applied to &lt;data&gt;</span>
    <span class="c1"># and checked again.    </span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">check</span><span class="p">,</span> <span class="n">atype</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">check</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">new_data</span> <span class="o">=</span> <span class="n">a_method</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="n">check_again</span> <span class="o">=</span> <span class="n">checkInitiateAttribute</span><span class="p">(</span><span class="n">check</span><span class="o">=</span><span class="n">new_data</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">new_data</span><span class="p">,</span> <span class="n">atype</span><span class="o">=</span><span class="n">atype</span><span class="p">,</span> <span class="n">a_method</span><span class="o">=</span><span class="n">a_method</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">check_again</span>
            
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;neither the data nor the method worked&quot;</span><span class="p">)</span>
            <span class="k">raise</span>
            
<span class="k">def</span> <span class="nf">uniqueValues</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="c1"># method to pass pd.series.unique as a variable</span>
    <span class="k">return</span> <span class="n">data</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">dateToYearAndMonth</span><span class="p">(</span><span class="n">python_date_object</span><span class="p">,</span> <span class="n">fmat</span><span class="o">=</span><span class="s1">&#39;wide&#39;</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="n">a_date</span> <span class="o">=</span> <span class="n">thereIsData</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">python_date_object</span><span class="p">,</span> <span class="n">atype</span><span class="o">=</span><span class="p">(</span><span class="n">datetime</span><span class="p">,</span> <span class="p">))</span>
    <span class="n">amonth</span> <span class="o">=</span> <span class="n">a_date</span><span class="o">.</span><span class="n">month</span>
    <span class="n">a_year</span> <span class="o">=</span> <span class="n">a_date</span><span class="o">.</span><span class="n">year</span>
    <span class="n">amonth_foreign</span> <span class="o">=</span> <span class="n">get_month_names</span><span class="p">(</span><span class="n">fmat</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="n">lang</span><span class="p">)[</span><span class="n">amonth</span><span class="p">]</span>
    
    <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">amonth_foreign</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">a_year</span><span class="si">}</span><span class="s1">&#39;</span>
    
<span class="k">def</span> <span class="nf">thousandsSeparator</span><span class="p">(</span><span class="n">aninteger</span><span class="p">,</span> <span class="n">lang</span><span class="p">):</span>
    
    <span class="n">astring</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{:,}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">aninteger</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="n">lang</span> <span class="o">==</span> <span class="s2">&quot;DE&quot;</span><span class="p">:</span>
        <span class="n">astring</span> <span class="o">=</span> <span class="n">astring</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>        
        
    <span class="k">return</span> <span class="n">astring</span>


<span class="k">class</span> <span class="nc">Beaches</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;The dimendsional and geo data for each survey location&quot;&quot;&quot;</span>
    <span class="n">df_beaches</span> <span class="o">=</span> <span class="n">dfBeaches</span>
    

<span class="k">class</span> <span class="nc">AdministrativeSummary</span><span class="p">(</span><span class="n">Beaches</span><span class="p">):</span>
       
    <span class="n">col_nunique_qty</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;city&quot;</span><span class="p">]</span>
    <span class="n">col_sum_qty</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">]</span>
    <span class="n">col_population</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;city&quot;</span><span class="p">,</span> <span class="s2">&quot;population&quot;</span><span class="p">]</span>
    <span class="n">col_sum_pop</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;population&quot;</span><span class="p">]</span>
    <span class="n">col_nunique_city</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;city&quot;</span><span class="p">]</span>
    <span class="n">locations_of_interest</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">lakes_of_interest</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">rivers_of_interest</span> <span class="o">=</span> <span class="kc">None</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">label</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>    
        
    <span class="k">def</span> <span class="nf">locationsOfInterest</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>        
        <span class="n">data</span> <span class="o">=</span> <span class="n">thereIsData</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">))</span>
        <span class="n">locations</span> <span class="o">=</span> <span class="n">checkInitiateAttribute</span><span class="p">(</span><span class="n">check</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">locations_of_interest</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">atype</span><span class="o">=</span><span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">),</span> <span class="n">a_method</span><span class="o">=</span><span class="n">uniqueValues</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                
        <span class="bp">self</span><span class="o">.</span><span class="n">locations_of_interest</span> <span class="o">=</span> <span class="n">locations</span>
    
    <span class="k">def</span> <span class="nf">resultsObject</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col_nunique</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">col_sum</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">thereIsData</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">))</span>
        
        <span class="k">if</span> <span class="ow">not</span> <span class="n">col_nunique</span><span class="p">:</span>
            <span class="n">col_nunique</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">col_nunique_qty</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">col_sum</span><span class="p">:</span>
            <span class="n">col_sum</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">col_sum_qty</span>
            
        <span class="n">t</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_table_values</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">col_nunique</span><span class="o">=</span><span class="n">col_nunique</span><span class="p">,</span> <span class="n">col_sum</span><span class="o">=</span><span class="n">col_sum</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">t</span>
    
    <span class="k">def</span> <span class="nf">populationKeys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">thereIsData</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">))</span>
        <span class="n">locs</span> <span class="o">=</span> <span class="n">checkInitiateAttribute</span><span class="p">(</span><span class="n">check</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">locations_of_interest</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">atype</span><span class="o">=</span><span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">),</span> <span class="n">a_method</span><span class="o">=</span><span class="n">uniqueValues</span><span class="p">)</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="n">popmap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">df_beaches</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">locs</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">col_population</span><span class="p">]</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;that did not work&quot;</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">popmap</span>
    
    <span class="k">def</span> <span class="nf">lakesOfInterest</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">thereIsData</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">))</span>
        <span class="n">locs</span> <span class="o">=</span> <span class="n">checkInitiateAttribute</span><span class="p">(</span><span class="n">check</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">locations_of_interest</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">atype</span><span class="o">=</span><span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">),</span> <span class="n">a_method</span><span class="o">=</span><span class="n">uniqueValues</span><span class="p">)</span>
        
               
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lakes_of_interest</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">df_beaches</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">locs</span><span class="p">))</span><span class="o">&amp;</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">df_beaches</span><span class="o">.</span><span class="n">water</span> <span class="o">==</span> <span class="s2">&quot;l&quot;</span><span class="p">)</span>
            <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">df_beaches</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask</span><span class="p">][</span><span class="s2">&quot;water_name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lakes_of_interest</span> <span class="o">=</span> <span class="n">d</span>
            <span class="k">return</span> <span class="n">d</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lakes_of_interest</span>
        
    <span class="k">def</span> <span class="nf">riversOfInterest</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>        
        <span class="n">data</span> <span class="o">=</span> <span class="n">thereIsData</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">))</span>        
        <span class="n">locs</span> <span class="o">=</span> <span class="n">checkInitiateAttribute</span><span class="p">(</span><span class="n">check</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">locations_of_interest</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">atype</span><span class="o">=</span><span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">),</span> <span class="n">a_method</span><span class="o">=</span><span class="n">uniqueValues</span><span class="p">)</span>      
        
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rivers_of_interest</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">df_beaches</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">locs</span><span class="p">))</span><span class="o">&amp;</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">df_beaches</span><span class="o">.</span><span class="n">water</span> <span class="o">==</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>
            <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">df_beaches</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask</span><span class="p">][</span><span class="s2">&quot;water_name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rivers_of_interest</span> <span class="o">=</span> <span class="n">d</span>
            <span class="k">return</span> <span class="n">d</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rivers_of_interest</span>
        
    <span class="k">def</span> <span class="nf">summaryObject</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>        
        <span class="n">t</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resultsObject</span><span class="p">()</span>
        <span class="n">pop_values</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_table_values</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">populationKeys</span><span class="p">(),</span> <span class="n">col_nunique</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">col_nunique_city</span><span class="p">,</span> <span class="n">col_sum</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">col_sum_pop</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">locationsOfInterest</span><span class="p">()</span>
        <span class="n">t</span><span class="p">[</span><span class="s2">&quot;locations_of_interest&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">locations_of_interest</span>
       
        <span class="n">t</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">pop_values</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">t</span>

<span class="c1"># the survey data</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;resources/checked_sdata_eos_2020_21.csv&quot;</span>
<span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;% to agg&quot;</span><span class="p">:</span><span class="s2">&quot;</span><span class="si">% a</span><span class="s2">gg&quot;</span><span class="p">,</span> <span class="s2">&quot;% to recreation&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">% r</span><span class="s2">ecreation&quot;</span><span class="p">,</span> <span class="s2">&quot;% to woods&quot;</span><span class="p">:</span><span class="s2">&quot;% woods&quot;</span><span class="p">,</span> <span class="s2">&quot;% to buildings&quot;</span><span class="p">:</span><span class="s2">&quot;% buildings&quot;</span><span class="p">,</span> <span class="s2">&quot;p/100m&quot;</span><span class="p">:</span><span class="s2">&quot;p/100 m&quot;</span><span class="p">}</span>
<span class="n">fd</span><span class="p">,</span> <span class="n">a_data</span> <span class="o">=</span> <span class="n">featureData</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">this_feature</span><span class="p">[</span><span class="s2">&quot;level&quot;</span><span class="p">],</span> <span class="n">these_features</span><span class="o">=</span><span class="p">[</span><span class="n">this_feature</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]],</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;DE&quot;</span><span class="p">)</span>


<span class="c1"># collects the summarized values for all the data in the region</span>
<span class="n">summary_data</span> <span class="o">=</span> <span class="n">AdministrativeSummary</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">fd</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">this_feature</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>

<span class="c1"># collects the names of the survey location</span>
<span class="n">a_summary</span> <span class="o">=</span> <span class="n">summary_data</span><span class="o">.</span><span class="n">summaryObject</span><span class="p">()</span>

<span class="n">rivers</span> <span class="o">=</span> <span class="n">summary_data</span><span class="o">.</span><span class="n">riversOfInterest</span><span class="p">()</span>
<span class="n">lakes</span> <span class="o">=</span> <span class="n">summary_data</span><span class="o">.</span><span class="n">lakesOfInterest</span><span class="p">()</span>
        
<span class="c1"># string objects for display</span>
<span class="n">obj_string</span> <span class="o">=</span> <span class="n">thousandsSeparator</span><span class="p">(</span><span class="n">a_summary</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">],</span> <span class="n">language</span><span class="p">)</span>
<span class="n">surv_string</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{:,}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">a_summary</span><span class="p">[</span><span class="s2">&quot;loc_date&quot;</span><span class="p">])</span>
<span class="n">pop_string</span> <span class="o">=</span> <span class="n">thousandsSeparator</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">a_summary</span><span class="p">[</span><span class="s2">&quot;population&quot;</span><span class="p">]),</span> <span class="n">language</span><span class="p">)</span>

<span class="c1"># make strings</span>
<span class="n">date_quantity_context</span> <span class="o">=</span> <span class="sa">F</span><span class="s2">&quot;Im Zeitraum von </span><span class="si">{</span><span class="n">dateToYearAndMonth</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">start_date</span><span class="p">,</span> <span class="n">date_format</span><span class="p">),</span> <span class="n">lang</span><span class="o">=</span><span class="n">date_lang</span><span class="p">)</span><span class="si">}</span><span class="s2">  bis </span><span class="si">{</span><span class="n">dateToYearAndMonth</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">end_date</span><span class="p">,</span> <span class="n">date_format</span><span class="p">),</span> <span class="n">lang</span><span class="o">=</span> <span class="n">date_lang</span><span class="p">)</span><span class="si">}</span><span class="s2"> wurden im Rahmen von </span><span class="si">{</span><span class="n">surv_string</span><span class="si">}</span><span class="s2"> Datenerhebungen insgesamt </span><span class="si">{</span><span class="n">obj_string</span> <span class="si">}</span><span class="s2"> Objekte entfernt und identifiziert.&quot;</span>
<span class="n">geo_context</span> <span class="o">=</span> <span class="sa">F</span><span class="s2">&quot;Die Ergebnisse des </span><span class="si">{</span><span class="n">this_feature</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> umfassen </span><span class="si">{</span><span class="n">a_summary</span><span class="p">[</span><span class="s1">&#39;location&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> Orte, </span><span class="si">{</span><span class="n">a_summary</span><span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> Gemeinden und eine Gesamtbev√∂lkerung von etwa </span><span class="si">{</span><span class="n">pop_string</span><span class="si">}</span><span class="s2"> Einwohnenden.&quot;</span>

<span class="c1"># lists of landmarks of interest</span>
<span class="n">munis_joined</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">summary_data</span><span class="o">.</span><span class="n">populationKeys</span><span class="p">()[</span><span class="s2">&quot;city&quot;</span><span class="p">]))</span>
<span class="n">lakes_joined</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">lakes</span><span class="p">))</span>
<span class="n">rivers_joined</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">rivers</span><span class="p">))</span>

<span class="c1"># put that all together:</span>
<span class="n">lake_string</span> <span class="o">=</span> <span class="sa">F</span><span class="s2">&quot;&quot;&quot;</span>
<span class="si">{</span><span class="n">date_quantity_context</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">geo_context</span> <span class="si">}</span><span class="s2"></span>

<span class="s2">*Seen:*</span><span class="se">\n\n</span><span class="s2">&gt;</span><span class="si">{</span><span class="n">lakes_joined</span><span class="si">}</span><span class="s2"></span>

<span class="s2">*Fliessgew√§sser:*</span><span class="se">\n\n</span><span class="s2">&gt;</span><span class="si">{</span><span class="n">rivers_joined</span><span class="si">}</span><span class="s2"></span>

<span class="s2">*Gemeinden:*</span><span class="se">\n\n</span><span class="s2">&gt;</span><span class="si">{</span><span class="n">munis_joined</span><span class="si">}</span><span class="s2"></span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="n">md</span><span class="p">(</span><span class="n">lake_string</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<p>Im Zeitraum von M√§rz 2020  bis Mai 2021 wurden im Rahmen von 140 Datenerhebungen insgesamt 13 847 Objekte entfernt und identifiziert. Die Ergebnisse des Erhebungsgebiet Aare umfassen 51 Orte, 35 Gemeinden und eine Gesamtbev√∂lkerung von etwa 493 799 Einwohnenden.</p>
<p><em>Seen:</em></p>
<blockquote>
<div><p>Bielersee, Brienzersee, Neuenburgersee, Thunersee</p>
</div></blockquote>
<p><em>Fliessgew√§sser:</em></p>
<blockquote>
<div><p>Aare, Aare|Nidau-B√ºren-Kanal, Emme, La Thi√®le, Sch√ºss</p>
</div></blockquote>
<p><em>Gemeinden:</em></p>
<blockquote>
<div><p>Aarau, Beatenberg, Bern, Biel/Bienne, Boudry, Brienz (BE), Brugg, Br√ºgg, Burgdorf, B√∂nigen, Cheyres-Ch√¢bles, Cudrefin, Erlach, Estavayer, Gals, Gebenstorf, Grandson, Hauterive (NE), Kallnach, K√∂niz, Le Landeron, Ligerz, Luterbach, L√ºscherz, Neuch√¢tel, Nidau, Port, Rubigen, Solothurn, Spiez, Thun, Unterseen, Vinelz, Walperswil, Yverdon-les-Bains</p>
</div></blockquote>
</div>
</div>
<section id="landnutzungsprofil-der-erhebungsorte">
<h3><span class="section-number">3.1.1. </span>Landnutzungsprofil der Erhebungsorte<a class="headerlink" href="#landnutzungsprofil-der-erhebungsorte" title="Link zu dieser √úberschrift">#</a></h3>
<p>Das Landnutzungsprofil zeigt, welche Nutzungen innerhalb eines Radius von 1500¬†m um jeden Erhebungsort dominieren. Fl√§chen werden einer von den folgenden vier Kategorien zugewiesen:</p>
<ul class="simple">
<li><p>Fl√§che, die von Geb√§uden eingenommen wird in %</p></li>
<li><p>Fl√§che, die dem Wald vorbehalten ist in %</p></li>
<li><p>Fl√§che, die f√ºr Aktivit√§ten im Freien genutzt wird in %</p></li>
<li><p>Fl√§che, die von der Landwirtschaft genutzt wird in %</p></li>
</ul>
<p>Strassen (inkl. Wege) werden als Gesamtzahl der Strassenkilometer innerhalb eines Radius von 1500¬†m angegeben.</p>
<p>Es wird zudem angegeben, wie viele Fl√ºsse innerhalb eines Radius von 1500¬†m um den Erhebungsort herum in das Gew√§sser m√ºnden.</p>
<p>Das Verh√§ltnis der gefundenen Abfallobjekte unterscheidet sich je nach Landnutzungsprofil. Das Verh√§ltnis gibt daher einen Hinweis auf die √∂kologischen und wirtschaftlichen Bedingungen um den Erhebungsort.</p>
<p>F√ºr weitere Informationen siehe <em><span class="xref myst">17 Landnutzungsprofil</span></em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># land use characteristics</span>
<span class="c1"># the ratio of samples with respect to the different land use characteristics for each survey area</span>
<span class="c1"># the data to use is the unique combinations of loc_date and the land_use charcteristics of each location</span>
<span class="c1"># land use explanatory variables are in the :</span>
<span class="c1"># land_use_columns = [&quot;% buildings&quot;, &quot;% recreation&quot;, &quot;% agg&quot;, &quot;% woods&quot;, &quot;streets km&quot;, &quot;intersects&quot;]</span>

<span class="k">def</span> <span class="nf">empiricalCDF</span><span class="p">(</span><span class="n">anarray</span><span class="p">):</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">thereIsData</span><span class="p">(</span><span class="n">anarray</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">))</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
    <span class="n">x</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>

<span class="k">def</span> <span class="nf">ecdfOfaColumn</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">thereIsData</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,))</span>
    <span class="n">col</span> <span class="o">=</span> <span class="n">thereIsData</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">))</span>
    
    <span class="n">anarray</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
    
    <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">empiricalCDF</span><span class="p">(</span><span class="n">anarray</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;column&quot;</span><span class="p">:</span><span class="n">col</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="n">x</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="n">y</span><span class="p">}</span> 
    


<span class="k">class</span> <span class="nc">LandUseProfile</span><span class="p">:</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">index_column</span><span class="o">=</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="n">aggregation_level</span><span class="o">=</span><span class="n">this_feature</span><span class="p">[</span><span class="s2">&quot;level&quot;</span><span class="p">],</span> <span class="n">feature_of_interest</span><span class="o">=</span><span class="n">this_feature</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">],</span> <span class="n">land_use_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;% buildings&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% r</span><span class="s2">ecreation&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% a</span><span class="s2">gg&quot;</span><span class="p">,</span> <span class="s2">&quot;% woods&quot;</span><span class="p">,</span> <span class="s2">&quot;streets km&quot;</span><span class="p">,</span> <span class="s2">&quot;intersects&quot;</span><span class="p">],</span>  <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">land_use_columns</span> <span class="o">=</span> <span class="n">land_use_columns</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">aggregation_level</span> <span class="o">=</span> <span class="n">aggregation_level</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index_column</span><span class="o">=</span> <span class="n">index_column</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">feature_of_interest</span> <span class="o">=</span> <span class="n">feature_of_interest</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        
    <span class="k">def</span> <span class="nf">byIndexColumn</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">thereIsData</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">atype</span><span class="o">=</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="p">))</span>
        <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">index_column</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">aggregation_level</span><span class="p">,</span> <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">land_use_columns</span><span class="p">]</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">columns</span><span class="p">]</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>
        
        <span class="k">return</span> <span class="n">d</span>
    
    <span class="k">def</span> <span class="nf">featureOfInterest</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">thereIsData</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">atype</span><span class="o">=</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="p">))</span>
        <span class="n">d_indexed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">byIndexColumn</span><span class="p">()</span>
        <span class="n">d</span> <span class="o">=</span><span class="n">d_indexed</span><span class="p">[</span><span class="n">d_indexed</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">aggregation_level</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">feature_of_interest</span><span class="p">]</span>
        
        <span class="k">return</span> <span class="n">d</span>

<span class="n">land_use_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;% buildings&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% r</span><span class="s2">ecreation&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% a</span><span class="s2">gg&quot;</span><span class="p">,</span> <span class="s2">&quot;% woods&quot;</span><span class="p">,</span> <span class="s2">&quot;streets km&quot;</span><span class="p">,</span> <span class="s2">&quot;intersects&quot;</span><span class="p">]</span>    
<span class="n">project_profile</span> <span class="o">=</span> <span class="n">LandUseProfile</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">a_data</span><span class="p">)</span><span class="o">.</span><span class="n">byIndexColumn</span><span class="p">()</span>
<span class="n">feature_profile</span> <span class="o">=</span> <span class="n">LandUseProfile</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">fd</span><span class="p">)</span><span class="o">.</span><span class="n">featureOfInterest</span><span class="p">()</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span> <span class="n">sharey</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">matplotlib.ticker</span> <span class="kn">import</span> <span class="n">MultipleLocator</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">land_use_columns</span><span class="p">):</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">i</span><span class="o">%</span><span class="k">2</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">i</span><span class="o">%</span><span class="k">3</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="n">r</span><span class="p">,</span><span class="n">c</span><span class="p">]</span>
    
    <span class="c1"># the value of landuse feature n for the survey area:</span>
    <span class="n">data</span><span class="o">=</span><span class="n">feature_profile</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
    <span class="n">xs</span><span class="p">,</span> <span class="n">ys</span> <span class="o">=</span> <span class="n">empiricalCDF</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>   
    <span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">xs</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">ys</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">summary_data</span><span class="o">.</span><span class="n">label</span><span class="p">)</span>
    
    <span class="c1"># the value of the land use feature n for all the data</span>
    <span class="n">testx</span><span class="p">,</span> <span class="n">testy</span> <span class="o">=</span> <span class="n">empiricalCDF</span><span class="p">(</span><span class="n">project_profile</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">testx</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">testy</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">top</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;magenta&quot;</span><span class="p">)</span>
    
    <span class="c1"># get the median from the data</span>
    <span class="n">the_median</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    
    <span class="c1"># plot the median and drop horzontal and vertical lines</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">([</span><span class="n">the_median</span><span class="p">],</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Median&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">vlines</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">the_median</span><span class="p">,</span> <span class="n">ymin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span><span class="n">xmax</span><span class="o">=</span><span class="n">the_median</span><span class="p">,</span> <span class="n">xmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>            
            <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Ratio of samples&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">MultipleLocator</span><span class="p">(</span><span class="mf">.1</span><span class="p">))</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">ticker</span><span class="o">.</span><span class="n">PercentFormatter</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;%&quot;</span><span class="p">))</span>        
    <span class="k">else</span><span class="p">:</span>
        <span class="k">pass</span>      
    
    <span class="n">handles</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>    
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">sut</span><span class="o">.</span><span class="n">luse_ge</span><span class="o">.</span><span class="n">values</span><span class="p">())[</span><span class="n">i</span><span class="p">],</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k</span><span class="p">)</span>
    
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">top</span><span class="o">=</span><span class="mf">.9</span><span class="p">,</span> <span class="n">hspace</span><span class="o">=</span><span class="mf">.3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s2">&quot;Landnutzung im Umkries von 1 500 m um den Erhebungsort&quot;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">.5</span><span class="p">,</span><span class="mf">.94</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span> 

<span class="n">glue</span><span class="p">(</span><span class="s2">&quot;aare_survey_area_landuse&quot;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<figure class="align-default" id="aare-survey-area-landuse">
<div class="cell_output docutils container">
<img alt="_images/aare_sa_rev_de_7_0.png" src="_images/aare_sa_rev_de_7_0.png" />
</div>
<figcaption>
<p><span class="caption-number">Abb. 3.2 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#aare-survey-area-landuse" title="Link zu diesem Bild">#</a></p>
</figcaption>
</figure>
<p><a class="reference internal" href="#aare-survey-area-landuse"><span class="std std-numref">Abbildung 3.2:</span></a> Landnutzungsprofil der Erhebungsorte. Verteilung der Erhebungen in Bezug auf die Landnutzung. LWS = Landwirtschaft</p>
</section>
<section id="kumulative-gesamtmengen-nach-gewasser">
<h3><span class="section-number">3.1.2. </span>Kumulative Gesamtmengen nach Gew√§sser<a class="headerlink" href="#kumulative-gesamtmengen-nach-gewasser" title="Link zu dieser √úberschrift">#</a></h3>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># aggregate the dimensional data</span>
<span class="n">agg_dims</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;total_w&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;mac_plast_w&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;area&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">}</span>

<span class="n">dims_parameters</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">this_level</span><span class="o">=</span><span class="n">this_level</span><span class="p">,</span> 
                       <span class="n">locations</span><span class="o">=</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">(),</span> 
                       <span class="n">start_end</span><span class="o">=</span><span class="n">start_end</span><span class="p">,</span> 
                       <span class="n">agg_dims</span><span class="o">=</span><span class="n">agg_dims</span><span class="p">)</span>

<span class="n">dims_table</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">gather_dimensional_data</span><span class="p">(</span><span class="n">dfDims</span><span class="p">,</span> <span class="o">**</span><span class="n">dims_parameters</span><span class="p">)</span>

<span class="c1"># map the qauntity to the dimensional data</span>
<span class="n">q_map</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">this_level</span><span class="p">)</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># collect the number of samples from the survey total data:</span>
<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">dims_table</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
    <span class="n">dims_table</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;samples&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fd</span><span class="p">[</span><span class="n">fd</span><span class="p">[</span><span class="n">this_level</span><span class="p">]</span> <span class="o">==</span> <span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">loc_date</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
    <span class="n">dims_table</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">q_map</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>

<span class="c1"># map the proper name of the lake to the slug value</span>
<span class="n">wname_wname</span> <span class="o">=</span> <span class="n">dfBeaches</span><span class="p">[[</span><span class="s2">&quot;water_name_slug&quot;</span><span class="p">,</span><span class="s2">&quot;water_name&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;water_name_slug&quot;</span><span class="p">)</span>
<span class="n">comp_labels</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span><span class="n">wname_wname</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">fd</span><span class="p">[</span><span class="n">this_level</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()}</span>

<span class="c1"># add the proper names for display</span>
<span class="n">dims_table</span><span class="p">[</span><span class="s2">&quot;water_feature&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dims_table</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">comp_labels</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<span class="n">dims_table</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;water_feature&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>   

<span class="c1"># get the sum of all survey areas</span>
<span class="n">dims_table</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">this_feature</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]]</span><span class="o">=</span> <span class="n">dims_table</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">numeric_only</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># for display</span>
<span class="n">dims_table</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">dims_table</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">dims_table_columns</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># format kilos and text strings</span>
<span class="n">dims_table</span><span class="p">[</span><span class="s2">&quot;kg Plastik&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dims_table</span><span class="p">[</span><span class="s2">&quot;kg Plastik&quot;</span><span class="p">]</span><span class="o">/</span><span class="mi">1000</span>
<span class="n">dims_table</span><span class="p">[[</span><span class="s2">&quot;m¬≤&quot;</span><span class="p">,</span> <span class="s2">&quot;Meter&quot;</span><span class="p">,</span> <span class="s2">&quot;Erhebungen&quot;</span><span class="p">,</span> <span class="s2">&quot;Objekte&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">dims_table</span><span class="p">[[</span><span class="s2">&quot;m¬≤&quot;</span><span class="p">,</span> <span class="s2">&quot;Meter&quot;</span><span class="p">,</span> <span class="s2">&quot;Erhebungen&quot;</span><span class="p">,</span> <span class="s2">&quot;Objekte&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">thousandsSeparator</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">language</span><span class="p">))</span>
<span class="n">dims_table</span><span class="p">[[</span><span class="s2">&quot;kg Plastik&quot;</span><span class="p">,</span> <span class="s2">&quot;Gesamt-kg&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">dims_table</span><span class="p">[[</span><span class="s2">&quot;kg Plastik&quot;</span><span class="p">,</span> <span class="s2">&quot;Gesamt-kg&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>

<span class="c1"># make table</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">dims_table</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">colLabels</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">colLabels</span><span class="p">)</span><span class="o">*</span><span class="mf">1.8</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">*</span><span class="mf">.7</span><span class="p">))</span>
<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>

<span class="n">table_one</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_a_table</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">colLabels</span><span class="o">=</span><span class="n">colLabels</span><span class="p">,</span> <span class="n">colWidths</span><span class="o">=</span><span class="p">[</span><span class="mf">.28</span><span class="p">,</span> <span class="o">*</span><span class="p">[</span><span class="mf">.12</span><span class="p">]</span><span class="o">*</span><span class="mi">6</span><span class="p">],</span> <span class="n">a_color</span><span class="o">=</span><span class="n">table_row</span><span class="p">)</span>
<span class="n">table_one</span><span class="o">.</span><span class="n">get_celld</span><span class="p">()[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">glue</span><span class="p">(</span><span class="s2">&quot;aare_survey_area_dimensional_summary&quot;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<figure class="align-default" id="aare-survey-area-dimensional-summary">
<div class="cell_output docutils container">
<img alt="_images/aare_sa_rev_de_10_0.png" src="_images/aare_sa_rev_de_10_0.png" />
</div>
<figcaption>
<p><span class="caption-number">Abb. 3.3 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#aare-survey-area-dimensional-summary" title="Link zu diesem Bild">#</a></p>
</figcaption>
</figure>
<p><a class="reference internal" href="#aare-survey-area-dimensional-summary"><span class="std std-numref">Abbildung 3.3:</span></a> Die kumulierten Gewichte und Merkmale f√ºr das Erhebungsgebiet Aare nach Gew√§ssern.</p>
</section>
<section id="verteilung-der-erhebungsergebnisse">
<h3><span class="section-number">3.1.3. </span>Verteilung der Erhebungsergebnisse<a class="headerlink" href="#verteilung-der-erhebungsergebnisse" title="Link zu dieser √úberschrift">#</a></h3>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># the surveys to chart</span>
<span class="c1"># common aggregations: sum the pcs/m and quantity per event and location</span>
<span class="n">agg_pcs_quantity</span> <span class="o">=</span> <span class="p">{</span><span class="n">unit_label</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">}</span>

<span class="c1"># daily survey totals</span>
<span class="n">dt_all</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;location&quot;</span><span class="p">,</span><span class="n">this_level</span><span class="p">,</span> <span class="s2">&quot;city&quot;</span><span class="p">,</span><span class="s2">&quot;date&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_quantity</span><span class="p">)</span>
<span class="n">fd_dindex</span> <span class="o">=</span> <span class="n">dt_all</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Daily totals from all other locations</span>
<span class="n">ots</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">level_to_exclude</span><span class="o">=</span><span class="n">this_feature</span><span class="p">[</span><span class="s2">&quot;level&quot;</span><span class="p">],</span> <span class="n">components_to_exclude</span><span class="o">=</span><span class="n">fd</span><span class="p">[</span><span class="n">this_feature</span><span class="p">[</span><span class="s2">&quot;level&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="n">dts_date</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">the_other_surveys</span><span class="p">(</span><span class="n">a_data</span><span class="p">,</span> <span class="o">**</span><span class="n">ots</span><span class="p">)</span>
<span class="n">dts_date</span> <span class="o">=</span> <span class="n">dts_date</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;date&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">dts_date</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">dts_date</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz_localize</span><span class="p">(</span><span class="s1">&#39;UTC&#39;</span><span class="p">)</span>   

<span class="c1"># scale the chart as needed to accomodate for extreme values</span>
<span class="n">y_lim</span> <span class="o">=</span> <span class="mi">95</span>
<span class="n">y_limit</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">dts_date</span><span class="p">[</span><span class="n">unit_label</span><span class="p">],</span> <span class="n">y_lim</span><span class="p">)</span>

<span class="c1"># label for the chart that alerts to the scale</span>
<span class="n">not_included</span> <span class="o">=</span> <span class="sa">F</span><span class="s2">&quot;Werte gr√∂sser als </span><span class="si">{</span><span class="n">thousandsSeparator</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">y_limit</span><span class="p">,</span><span class="mi">0</span><span class="p">)),</span> <span class="n">language</span><span class="p">)</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">unit_label</span><span class="si">}</span><span class="s2"> werden nicht gezeigt.&quot;</span>

<span class="n">chart_notes</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">*__Links:__ </span><span class="si">{</span><span class="n">this_feature</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">dateToYearAndMonth</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">start_date</span><span class="p">,</span> <span class="n">date_format</span><span class="p">),</span> <span class="n">lang</span><span class="o">=</span><span class="n">date_lang</span><span class="p">)</span><span class="si">}</span><span class="s2"> bis </span><span class="si">{</span><span class="n">dateToYearAndMonth</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">end_date</span><span class="p">,</span> <span class="n">date_format</span><span class="p">),</span> <span class="n">lang</span><span class="o">=</span><span class="n">date_lang</span><span class="p">)</span><span class="si">}</span><span class="s2">, n = </span><span class="si">{</span><span class="n">a_summary</span><span class="p">[</span><span class="s2">&quot;loc_date&quot;</span><span class="p">]</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">not_included</span><span class="si">}</span><span class="s2"> __Rechts:__ empirische Verteilungsfunktion im </span><span class="si">{</span><span class="n">this_feature</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span><span class="si">}</span><span class="s2">.*</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="c1"># months locator, can be confusing</span>
<span class="c1"># https://matplotlib.org/stable/api/dates_api.html</span>
<span class="n">months</span> <span class="o">=</span> <span class="n">mdates</span><span class="o">.</span><span class="n">MonthLocator</span><span class="p">(</span><span class="n">interval</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">months_fmt</span> <span class="o">=</span> <span class="n">mdates</span><span class="o">.</span><span class="n">DateFormatter</span><span class="p">(</span><span class="s2">&quot;%b&quot;</span><span class="p">)</span>
<span class="n">days</span> <span class="o">=</span> <span class="n">mdates</span><span class="o">.</span><span class="n">DayLocator</span><span class="p">(</span><span class="n">interval</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>

<span class="c1"># get the monthly or quarterly results for the feature</span>
<span class="n">rsmp</span> <span class="o">=</span> <span class="n">fd_dindex</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;date&quot;</span><span class="p">)</span>
<span class="n">resample_plot</span><span class="p">,</span> <span class="n">rate</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">quarterly_or_monthly_values</span><span class="p">(</span><span class="n">rsmp</span><span class="p">,</span> <span class="n">this_feature</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span> <span class="n">vals</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">quarterly</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;ticino&quot;</span><span class="p">])</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># feature surveys</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">dts_date</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">dts_date</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">top</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span>  <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="c1"># all other surveys</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">fd_dindex</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">fd_dindex</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">this_feature</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">34</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="c1"># monthly or quaterly plot</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">resample_plot</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">resample_plot</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">resample_plot</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">this_feature</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">: monatlicher Medianwert&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;magenta&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">y_limit</span> <span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span><span class="n">days</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">months_fmt</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="c1"># the cumlative distributions:</span>
<span class="n">axtwo</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="c1"># the feature of interest</span>
<span class="n">feature_ecd</span> <span class="o">=</span> <span class="n">ECDF</span><span class="p">(</span><span class="n">dt_all</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>    
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">feature_ecd</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">feature_ecd</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;darkblue&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axtwo</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">this_feature</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>

<span class="c1"># the other features</span>
<span class="n">other_features</span> <span class="o">=</span> <span class="n">ECDF</span><span class="p">(</span><span class="n">dts_date</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">other_features</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">other_features</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;magenta&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">top</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axtwo</span><span class="p">)</span>

<span class="n">axtwo</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>
<span class="n">axtwo</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Verh√§ltnis der Erhebungen&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="n">glue</span><span class="p">(</span><span class="s1">&#39;aare_survey_area_sample_totals&#39;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<figure class="align-default" id="aare-survey-area-sample-totals">
<div class="cell_output docutils container">
<img alt="_images/aare_sa_rev_de_13_0.png" src="_images/aare_sa_rev_de_13_0.png" />
</div>
<figcaption>
<p><span class="caption-number">Abb. 3.4 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#aare-survey-area-sample-totals" title="Link zu diesem Bild">#</a></p>
</figcaption>
</figure>
<p><a class="reference internal" href="#aare-survey-area-sample-totals"><span class="std std-numref">Abbildung 3.4:</span></a> <strong>Links:</strong> Erhebungsgebiet Aare, M√§rz 2020 bis Mai 2021, n = 140. Werte gr√∂sser als 1 766 p/100 m werden nicht gezeigt. <strong>Rechts:</strong> empirische Verteilungsfunktion im Erhebungsgebiet Aare.</p>
</section>
<section id="zusammengefasste-daten-und-materialarten">
<h3><span class="section-number">3.1.4. </span>Zusammengefasste Daten und Materialarten<a class="headerlink" href="#zusammengefasste-daten-und-materialarten" title="Link zu dieser √úberschrift">#</a></h3>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># figure caption</span>
<span class="n">summary_of_survey_totals</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">*__Links:__ Zusammenfassung der Daten aller Erhebungen </span><span class="si">{</span><span class="n">this_feature</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span><span class="si">}</span><span class="s2">. __Rechts:__ Gefundene Materialarten im </span><span class="si">{</span><span class="n">this_feature</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span><span class="si">}</span><span class="s2"> in St√ºckzahlen und als prozentuale Anteile (st√ºckzahlbezogen).*</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="c1"># get the basic statistics from pd.describe</span>
<span class="n">cs</span> <span class="o">=</span> <span class="n">dt_all</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># change the names</span>
<span class="n">csx</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">change_series_index_labels</span><span class="p">(</span><span class="n">cs</span><span class="p">,</span> <span class="n">sut</span><span class="o">.</span><span class="n">create_summary_table_index</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s2">&quot;DE&quot;</span><span class="p">))</span>

<span class="n">combined_summary</span> <span class="o">=</span><span class="p">[(</span><span class="n">x</span><span class="p">,</span> <span class="n">thousandsSeparator</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">csx</span><span class="p">[</span><span class="n">x</span><span class="p">]),</span> <span class="n">language</span><span class="p">))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">csx</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>

<span class="n">agg_pcs_median</span> <span class="o">=</span> <span class="p">{</span><span class="n">unit_label</span><span class="p">:</span><span class="s2">&quot;median&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">}</span>

<span class="c1"># cumulative statistics for each code</span>
<span class="n">code_totals</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">the_aggregated_object_values</span><span class="p">(</span>
    <span class="n">fd</span><span class="p">,</span>
    <span class="n">agg</span><span class="o">=</span><span class="n">agg_pcs_median</span><span class="p">,</span>
    <span class="n">description_map</span><span class="o">=</span><span class="n">code_description_map</span><span class="p">,</span> 
    <span class="n">material_map</span><span class="o">=</span><span class="n">code_material_map</span>
<span class="p">)</span>

<span class="c1"># the materials table</span>
<span class="n">fd_mat_totals</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">the_ratio_object_to_total</span><span class="p">(</span><span class="n">code_totals</span><span class="p">)</span>
<span class="n">fd_mat_totals</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">fmt_pct_of_total</span><span class="p">(</span><span class="n">fd_mat_totals</span><span class="p">)</span>

<span class="c1"># applly new column names for printing</span>
<span class="n">cols_to_use</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;material&quot;</span><span class="p">:</span><span class="s2">&quot;Material&quot;</span><span class="p">,</span><span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;Gesamt&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">:</span><span class="s2">&quot;</span><span class="si">% G</span><span class="s2">esamt&quot;</span><span class="p">}</span>
<span class="n">fd_mat_t</span> <span class="o">=</span> <span class="n">fd_mat_totals</span><span class="p">[</span><span class="n">cols_to_use</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span><span class="o">.</span><span class="n">values</span>
<span class="n">fd_mat_t</span> <span class="o">=</span> <span class="p">[(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">thousandsSeparator</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">language</span><span class="p">),</span> <span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">fd_mat_t</span><span class="p">]</span>

<span class="c1"># make tables</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>

<span class="c1"># summary table</span>
<span class="c1"># names for the table columns</span>
<span class="n">a_col</span> <span class="o">=</span> <span class="p">[</span><span class="n">this_feature</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span> <span class="s2">&quot;total&quot;</span><span class="p">]</span>

<span class="n">axone</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">axone</span><span class="p">)</span>

<span class="n">table_two</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_a_table</span><span class="p">(</span><span class="n">axone</span><span class="p">,</span> <span class="n">combined_summary</span><span class="p">,</span>  <span class="n">colLabels</span><span class="o">=</span><span class="n">a_col</span><span class="p">,</span> <span class="n">colWidths</span><span class="o">=</span><span class="p">[</span><span class="mf">.5</span><span class="p">,</span><span class="mf">.25</span><span class="p">,</span><span class="mf">.25</span><span class="p">],</span>  <span class="n">bbox</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="o">**</span><span class="p">{</span><span class="s2">&quot;loc&quot;</span><span class="p">:</span><span class="s2">&quot;lower center&quot;</span><span class="p">})</span>
<span class="n">table_two</span><span class="o">.</span><span class="n">get_celld</span><span class="p">()[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="n">table_two</span><span class="o">.</span><span class="n">set_fontsize</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>

<span class="c1"># material table</span>
<span class="n">axtwo</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">axtwo</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">axtwo</span><span class="p">)</span>

<span class="n">table_three</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_a_table</span><span class="p">(</span><span class="n">axtwo</span><span class="p">,</span> <span class="n">fd_mat_t</span><span class="p">,</span>  <span class="n">colLabels</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">cols_to_use</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span> <span class="n">colWidths</span><span class="o">=</span><span class="p">[</span><span class="mf">.4</span><span class="p">,</span> <span class="mf">.3</span><span class="p">,</span><span class="mf">.3</span><span class="p">],</span>  <span class="n">bbox</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="o">**</span><span class="p">{</span><span class="s2">&quot;loc&quot;</span><span class="p">:</span><span class="s2">&quot;lower center&quot;</span><span class="p">})</span>
<span class="n">table_three</span><span class="o">.</span><span class="n">get_celld</span><span class="p">()[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="n">glue</span><span class="p">(</span><span class="s1">&#39;aare_survey_area_sample_material_tables&#39;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p><a class="reference internal" href="#aare-survey-area-sample-material-tables"><span class="std std-numref">Abbildung 3.5:</span></a> <strong>Links</strong>: Zusammenfassung der Daten aller Erhebungen Erhebungsgebiet Aare. <strong>Rechts:</strong> Gefundene Materialarten im Erhebungsgebiet Aare in St√ºckzahlen und als prozentuale Anteile (st√ºckzahlbezogen).</p>
<figure class="align-default" id="aare-survey-area-sample-material-tables">
<div class="cell_output docutils container">
<img alt="_images/aare_sa_rev_de_16_0.png" src="_images/aare_sa_rev_de_16_0.png" />
</div>
<figcaption>
<p><span class="caption-number">Abb. 3.5 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#aare-survey-area-sample-material-tables" title="Link zu diesem Bild">#</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="die-am-haufigsten-gefundenen-objekte">
<h2><span class="section-number">3.2. </span>Die am h√§ufigsten gefundenen Objekte<a class="headerlink" href="#die-am-haufigsten-gefundenen-objekte" title="Link zu dieser √úberschrift">#</a></h2>
<p>Die am h√§ufigsten gefundenen Objekte sind die zehn mengenm√§ssig am meisten vorkommenden Objekte und/oder Objekte, die in mindestens 50¬†% aller Datenerhebungen identifiziert wurden (H√§ufigkeitsrate)</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># the top ten by quantity</span>
<span class="n">most_abundant</span> <span class="o">=</span> <span class="n">code_totals</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>

<span class="c1"># the most common</span>
<span class="n">most_common</span> <span class="o">=</span> <span class="n">code_totals</span><span class="p">[</span><span class="n">code_totals</span><span class="p">[</span><span class="s2">&quot;fail rate&quot;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">a_fail_rate</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># merge with most_common and drop duplicates</span>
<span class="n">m_common</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">most_abundant</span><span class="p">,</span> <span class="n">most_common</span><span class="p">])</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>

<span class="c1"># get percent of total</span>
<span class="n">m_common_percent_of_total</span> <span class="o">=</span> <span class="n">m_common</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">/</span><span class="n">code_totals</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="n">rb_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">*__Unten__: H√§ufigste Objekte im </span><span class="si">{</span><span class="n">this_feature</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">: d.¬†h. Objekte mit einer H√§ufigkeitsrate von mindestens 50¬†% und/oder Top Ten nach Anzahl. Zusammengenommen machen die h√§ufigsten Objekte </span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">m_common_percent_of_total</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="si">}</span><span class="s2">% aller gefundenen Objekte aus. Anmerkung: p/100¬†m = Medianwert der Erhebung.*</span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="n">md</span><span class="p">(</span><span class="n">rb_string</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<p><em><strong>Unten</strong>: H√§ufigste Objekte im Erhebungsgebiet Aare: d.¬†h. Objekte mit einer H√§ufigkeitsrate von mindestens 50¬†% und/oder Top Ten nach Anzahl. Zusammengenommen machen die h√§ufigsten Objekte 67% aller gefundenen Objekte aus. Anmerkung: p/100¬†m = Medianwert der Erhebung.</em></p>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># format values for table</span>
<span class="n">m_common</span><span class="p">[</span><span class="s2">&quot;item&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">m_common</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">code_description_map</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<span class="n">m_common</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">m_common</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
<span class="n">m_common</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">m_common</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">thousandsSeparator</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">language</span><span class="p">))</span>
<span class="n">m_common</span><span class="p">[</span><span class="s2">&quot;fail rate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">m_common</span><span class="p">[</span><span class="s2">&quot;fail rate&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
<span class="n">m_common</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span> <span class="o">=</span> <span class="n">m_common</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># table header rows</span>
<span class="n">cols_to_use</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;item&quot;</span><span class="p">:</span><span class="s2">&quot;Objekt&quot;</span><span class="p">,</span><span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;Gesamt&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">:</span><span class="s2">&quot;</span><span class="si">% G</span><span class="s2">esamt&quot;</span><span class="p">,</span> <span class="s2">&quot;fail rate&quot;</span><span class="p">:</span><span class="s2">&quot;fail-rate&quot;</span><span class="p">,</span> <span class="n">unit_label</span><span class="p">:</span><span class="n">unit_label</span><span class="p">}</span>

<span class="n">most_common_table</span> <span class="o">=</span> <span class="n">m_common</span><span class="p">[</span><span class="n">cols_to_use</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span><span class="o">.</span><span class="n">values</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">m_common</span><span class="p">)</span><span class="o">*</span><span class="mf">.7</span><span class="p">))</span>

<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">axs</span><span class="p">)</span>

<span class="n">table_four</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_a_table</span><span class="p">(</span><span class="n">axs</span><span class="p">,</span> <span class="n">most_common_table</span><span class="p">,</span>  <span class="n">colLabels</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">cols_to_use</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span> <span class="n">colWidths</span><span class="o">=</span><span class="p">[</span><span class="mf">.52</span><span class="p">,</span> <span class="mf">.12</span><span class="p">,</span><span class="mf">.12</span><span class="p">,</span><span class="mf">.12</span><span class="p">,</span> <span class="mf">.12</span><span class="p">],</span>  <span class="n">bbox</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="o">**</span><span class="p">{</span><span class="s2">&quot;loc&quot;</span><span class="p">:</span><span class="s2">&quot;lower center&quot;</span><span class="p">})</span>
<span class="n">table_four</span><span class="o">.</span><span class="n">get_celld</span><span class="p">()[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="n">table_four</span><span class="o">.</span><span class="n">set_fontsize</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">glue</span><span class="p">(</span><span class="s1">&#39;aare_survey_area_most_common_tables&#39;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<figure class="align-default" id="aare-survey-area-most-common-tables">
<div class="cell_output docutils container">
<img alt="_images/aare_sa_rev_de_21_0.png" src="_images/aare_sa_rev_de_21_0.png" />
</div>
<figcaption>
<p><span class="caption-number">Abb. 3.6 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#aare-survey-area-most-common-tables" title="Link zu diesem Bild">#</a></p>
</figcaption>
</figure>
<section id="die-am-haufigsten-gefundenen-objekte-nach-gewasser">
<h3><span class="section-number">3.2.1. </span>Die am h√§ufigsten gefundenen Objekte nach Gew√§sser<a class="headerlink" href="#die-am-haufigsten-gefundenen-objekte-nach-gewasser" title="Link zu dieser √úberschrift">#</a></h3>
<div class="cell tag_remove-input docutils container">
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># aggregated survey totals for the most common codes for all the water features</span>
<span class="n">m_common_st</span> <span class="o">=</span> <span class="n">fd</span><span class="p">[</span><span class="n">fd</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">m_common</span><span class="o">.</span><span class="n">index</span><span class="p">)]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="n">this_level</span><span class="p">,</span> <span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;code&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_quantity</span><span class="p">)</span>
<span class="n">m_common_ft</span> <span class="o">=</span> <span class="n">m_common_st</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="n">this_level</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>

<span class="c1"># proper name of water feature for display</span>
<span class="n">m_common_ft</span><span class="p">[</span><span class="s2">&quot;f_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">m_common_ft</span><span class="p">[</span><span class="n">this_level</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">comp_labels</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>

<span class="c1"># map the desctiption to the code</span>
<span class="n">m_common_ft</span><span class="p">[</span><span class="s2">&quot;item&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">m_common_ft</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">code_description_map</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>

<span class="c1"># pivot that</span>
<span class="n">m_c_p</span> <span class="o">=</span> <span class="n">m_common_ft</span><span class="p">[[</span><span class="s2">&quot;item&quot;</span><span class="p">,</span> <span class="n">unit_label</span><span class="p">,</span> <span class="s2">&quot;f_name&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;f_name&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s2">&quot;item&quot;</span><span class="p">)</span>

<span class="c1"># quash the hierarchal column index</span>
<span class="n">m_c_p</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">m_c_p</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># the aggregated totals for the survey area</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">aggregate_to_group_name</span><span class="p">(</span><span class="n">fd</span><span class="p">[</span><span class="n">fd</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">m_common</span><span class="o">.</span><span class="n">index</span><span class="p">)],</span> <span class="n">column</span><span class="o">=</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">this_feature</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;med&quot;</span><span class="p">,</span> <span class="n">unit_label</span><span class="o">=</span><span class="n">unit_label</span><span class="p">)</span>

<span class="n">m_c_p</span><span class="p">[</span><span class="n">this_feature</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]]</span><span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">change_series_index_labels</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span><span class="n">code_description_map</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">index</span><span class="p">})</span>

<span class="c1"># the aggregated totals of all the data</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">aggregate_to_group_name</span><span class="p">(</span><span class="n">a_data</span><span class="p">[(</span><span class="n">a_data</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">m_common</span><span class="o">.</span><span class="n">index</span><span class="p">))],</span> <span class="n">column</span><span class="o">=</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">top</span><span class="p">,</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;med&quot;</span><span class="p">,</span> <span class="n">unit_label</span><span class="o">=</span><span class="n">unit_label</span><span class="p">)</span>
<span class="n">m_c_p</span><span class="p">[</span><span class="n">top</span><span class="p">]</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">change_series_index_labels</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span><span class="n">code_description_map</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">index</span><span class="p">})</span>

<span class="c1"># chart that</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span>  <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">m_c_p</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="o">*</span><span class="mf">.9</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">m_c_p</span><span class="p">)</span><span class="o">*</span><span class="mf">.9</span><span class="p">))</span>
<span class="n">axone</span> <span class="o">=</span> <span class="n">ax</span>

<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">m_c_p</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axone</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap2</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">annot_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;fontsize&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">},</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;.1f&quot;</span><span class="p">,</span> <span class="n">square</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cbar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">.1</span><span class="p">,</span> <span class="n">linecolor</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="n">axone</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>

<span class="n">glue</span><span class="p">(</span><span class="s1">&#39;aare_survey_area_most_common_heat_map&#39;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p><a class="reference internal" href="#aare-survey-area-most-common-heat-map"><span class="std std-numref">Abbildung 3.7:</span></a> Median (p/100¬†m) der h√§ufigsten Objekte im Erhebungsgebiet Aare.</p>
<figure class="align-default" id="aare-survey-area-most-common-heat-map">
<div class="cell_output docutils container">
<img alt="_images/aare_sa_rev_de_25_0.png" src="_images/aare_sa_rev_de_25_0.png" />
</div>
<figcaption>
<p><span class="caption-number">Abb. 3.7 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#aare-survey-area-most-common-heat-map" title="Link zu diesem Bild">#</a></p>
</figcaption>
</figure>
</section>
<section id="die-am-haufigsten-gefundenen-objekte-im-monatlichen-durchschnitt">
<h3><span class="section-number">3.2.2. </span>Die am h√§ufigsten gefundenen Objekte im monatlichen Durchschnitt<a class="headerlink" href="#die-am-haufigsten-gefundenen-objekte-im-monatlichen-durchschnitt" title="Link zu dieser √úberschrift">#</a></h3>
<div class="cell tag_hide-input tag_remove-input docutils container">
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># collect the survey results of the most common objects</span>
<span class="n">m_common_m</span> <span class="o">=</span> <span class="n">fd</span><span class="p">[(</span><span class="n">fd</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">m_common</span><span class="o">.</span><span class="n">index</span><span class="p">))]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;date&quot;</span><span class="p">,</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="s2">&quot;groupname&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_quantity</span><span class="p">)</span>
<span class="n">m_common_m</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># set the order of the chart, group the codes by groupname columns</span>
<span class="n">an_order</span> <span class="o">=</span> <span class="n">m_common_m</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;code&quot;</span><span class="p">,</span><span class="s2">&quot;groupname&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;groupname&quot;</span><span class="p">)[</span><span class="s2">&quot;code&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># a manager dict for the monthly results of each code</span>
<span class="n">mgr</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c1"># get the monhtly results for each code:</span>
<span class="k">for</span> <span class="n">a_group</span> <span class="ow">in</span> <span class="n">an_order</span><span class="p">:</span>
    <span class="c1"># resample by month</span>
    <span class="n">a_plot</span> <span class="o">=</span> <span class="n">m_common_m</span><span class="p">[(</span><span class="n">m_common_m</span><span class="o">.</span><span class="n">code</span><span class="o">==</span><span class="n">a_group</span><span class="p">)][</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s2">&quot;M&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">this_group</span> <span class="o">=</span> <span class="p">{</span><span class="n">a_group</span><span class="p">:</span><span class="n">a_plot</span><span class="p">}</span>
    <span class="n">mgr</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">this_group</span><span class="p">)</span>

<span class="n">months</span><span class="o">=</span><span class="p">{</span>
    <span class="mi">0</span><span class="p">:</span><span class="s2">&quot;Jan&quot;</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">:</span><span class="s2">&quot;Feb&quot;</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">:</span><span class="s2">&quot;Mar&quot;</span><span class="p">,</span>
    <span class="mi">3</span><span class="p">:</span><span class="s2">&quot;Apr&quot;</span><span class="p">,</span>
    <span class="mi">4</span><span class="p">:</span><span class="s2">&quot;May&quot;</span><span class="p">,</span>
    <span class="mi">5</span><span class="p">:</span><span class="s2">&quot;Jun&quot;</span><span class="p">,</span>
    <span class="mi">6</span><span class="p">:</span><span class="s2">&quot;Jul&quot;</span><span class="p">,</span>
    <span class="mi">7</span><span class="p">:</span><span class="s2">&quot;Aug&quot;</span><span class="p">,</span>
    <span class="mi">8</span><span class="p">:</span><span class="s2">&quot;Sep&quot;</span><span class="p">,</span>
    <span class="mi">9</span><span class="p">:</span><span class="s2">&quot;Oct&quot;</span><span class="p">,</span>
    <span class="mi">10</span><span class="p">:</span><span class="s2">&quot;Nov&quot;</span><span class="p">,</span>
    <span class="mi">11</span><span class="p">:</span><span class="s2">&quot;Dec&quot;</span>
<span class="p">}</span>

<span class="c1"># convenience function to lable x axis</span>
<span class="k">def</span> <span class="nf">new_month</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">11</span><span class="p">:</span>
        <span class="n">this_month</span> <span class="o">=</span> <span class="n">x</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">this_month</span><span class="o">=</span><span class="n">x</span><span class="o">-</span><span class="mi">12</span>    
    <span class="k">return</span> <span class="n">this_month</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">7</span><span class="p">))</span>

<span class="c1"># define a bottom</span>
<span class="n">bottom</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">mgr</span><span class="p">[</span><span class="s2">&quot;G27&quot;</span><span class="p">])</span>

<span class="c1"># the monhtly survey average for all objects and locations</span>
<span class="c1"># makes the backdrop of the barchart</span>
<span class="n">monthly_fd</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;date&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_quantity</span><span class="p">)</span>
<span class="n">monthly_fd</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">m_fd</span> <span class="o">=</span> <span class="n">monthly_fd</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s2">&quot;M&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># define the xaxis</span>
<span class="n">this_x</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">x</span> <span class="ow">in</span>  <span class="nb">enumerate</span><span class="p">(</span><span class="n">m_fd</span><span class="o">.</span><span class="n">index</span><span class="p">)]</span>

<span class="c1"># plot the monthly total survey average</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">this_x</span><span class="p">,</span> <span class="n">m_fd</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(),</span> <span class="n">color</span><span class="o">=</span><span class="n">table_row</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;teal&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Monatsdurschnitt&quot;</span><span class="p">)</span> 

<span class="c1"># plot the monthly survey average of the most common objects</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">a_group</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">an_order</span><span class="p">):</span> 
    
    <span class="c1"># define the axis</span>
    <span class="n">this_x</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">x</span> <span class="ow">in</span>  <span class="nb">enumerate</span><span class="p">(</span><span class="n">mgr</span><span class="p">[</span><span class="n">a_group</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">)]</span>
    
    <span class="c1"># collect the month</span>
    <span class="n">this_month</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">month</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">mgr</span><span class="p">[</span><span class="n">a_group</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">)]</span>
    
    <span class="c1"># if i == 0 laydown the first bars</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">this_x</span><span class="p">,</span> <span class="n">mgr</span><span class="p">[</span><span class="n">a_group</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(),</span> <span class="n">label</span><span class="o">=</span><span class="n">a_group</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors_palette</span><span class="p">[</span><span class="n">a_group</span><span class="p">],</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span> <span class="p">)</span> 
    <span class="c1"># else use the previous results to define the bottom</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">bottom</span> <span class="o">+=</span> <span class="n">mgr</span><span class="p">[</span><span class="n">an_order</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>        
        <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">this_x</span><span class="p">,</span> <span class="n">mgr</span><span class="p">[</span><span class="n">a_group</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(),</span> <span class="n">bottom</span><span class="o">=</span><span class="n">bottom</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">a_group</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors_palette</span><span class="p">[</span><span class="n">a_group</span><span class="p">],</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
        
<span class="c1"># collect the handles and labels from the legend</span>
<span class="n">handles</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>

<span class="c1"># set the location of the x ticks</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">ticker</span><span class="o">.</span><span class="n">FixedLocator</span><span class="p">([</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">this_x</span><span class="p">))]))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>

<span class="c1"># label the xticks by month</span>
<span class="n">axisticks</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_xticks</span><span class="p">()</span>
<span class="n">labelsx</span> <span class="o">=</span> <span class="p">[</span><span class="n">sut</span><span class="o">.</span><span class="n">months_de</span><span class="p">[</span><span class="n">new_month</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span>  <span class="n">this_month</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">ticks</span><span class="o">=</span><span class="n">axisticks</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labelsx</span><span class="p">)</span>

<span class="c1"># make the legend</span>
<span class="c1"># swap out codes for descriptions</span>
<span class="n">new_labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">code_description_map</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">labels</span><span class="p">[</span><span class="mi">1</span><span class="p">:]]</span>
<span class="n">new_labels</span> <span class="o">=</span> <span class="n">new_labels</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="c1"># insert a label for the monthly average</span>
<span class="n">new_labels</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;Monatsdurschnitt&quot;</span><span class="p">)</span>
<span class="n">handles</span> <span class="o">=</span> <span class="p">[</span><span class="n">handles</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="o">*</span><span class="n">handles</span><span class="p">[</span><span class="mi">1</span><span class="p">:][::</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
    
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="o">=</span><span class="n">handles</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">new_labels</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">.05</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper center&quot;</span><span class="p">,</span>  <span class="n">ncol</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>

<span class="n">glue</span><span class="p">(</span><span class="s1">&#39;aare_survey_area_monthly_results&#39;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p><a class="reference internal" href="#aare-survey-area-monthly-results"><span class="std std-numref">Abbildung 3.8:</span></a> Erhebungsgebiet Aare, monatliche Durchschnittsergebnisse p/100¬†m.</p>
<figure class="align-default" id="aare-survey-area-monthly-results">
<div class="cell_output docutils container">
<img alt="_images/aare_sa_rev_de_30_0.png" src="_images/aare_sa_rev_de_30_0.png" />
</div>
<figcaption>
<p><span class="caption-number">Abb. 3.8 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#aare-survey-area-monthly-results" title="Link zu diesem Bild">#</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="erhebungsergebnisse-und-landnutzung">
<h2><span class="section-number">3.3. </span>Erhebungsergebnisse und Landnutzung<a class="headerlink" href="#erhebungsergebnisse-und-landnutzung" title="Link zu dieser √úberschrift">#</a></h2>
<p>Das Landnutzungsprofil ist eine Darstellung der Art und des Umfangs der wirtschaftlichen Aktivit√§t und der Umweltbedingungen rund um den Erhebungsort. Die Schl√ºsselindikatoren aus den Ergebnissen der Datenerhebungen werden mit dem Landnutzungsprofil f√ºr einen Radius von 1500¬†m um den Erhebungsort verglichen.</p>
<p>Eine Assoziation ist eine Beziehung zwischen den Ergebnissen der Datenerhebungen und dem Landnutzungsprofil, die nicht auf Zufall beruht. Das Ausmass der Beziehung ist weder definiert noch linear.</p>
<p>Die Rangkorrelation ist ein nicht-parametrischer Test, um festzustellen, ob ein statistisch signifikanter Zusammenhang zwischen der Landnutzung und den bei einer Abfallobjekte-Erhebung identifizierten Objekten besteht.</p>
<p>Die verwendete Methode ist der Spearmans Rho oder Spearmans geordneter Korrelationskoeffizient. Die Testergebnisse werden bei p &lt; 0,05 f√ºr alle g√ºltigen Erhebungen an Seen im Untersuchungsgebiet ausgewertet.</p>
<ol class="simple">
<li><p>Rot/Rosa steht f√ºr eine positive Assoziation</p></li>
<li><p>Gelb steht f√ºr eine negative Assoziation</p></li>
<li><p>Weiss bedeutet, dass keine statistische Grundlage f√ºr die Annahme eines Zusammenhangs besteht</p></li>
</ol>
<div class="cell tag_hide-input tag_remove-input docutils container">
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># chart the results of test for association</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">m_common</span><span class="o">.</span><span class="n">index</span><span class="p">),</span><span class="nb">len</span><span class="p">(</span><span class="n">land_use_columns</span><span class="p">),</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">land_use_columns</span><span class="p">)</span><span class="o">+</span><span class="mi">7</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">m_common</span><span class="o">.</span><span class="n">index</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="n">sharey</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="p">)</span>

<span class="c1"># the test is conducted on the survey results for each code</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">code</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">m_common</span><span class="o">.</span><span class="n">index</span><span class="p">):</span>
    <span class="c1"># slice the data</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">corr_data</span><span class="p">[</span><span class="n">corr_data</span><span class="o">.</span><span class="n">code</span> <span class="o">==</span> <span class="n">code</span><span class="p">]</span>
    
    <span class="c1"># run the test on for each land use feature</span>
    <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">land_use_columns</span><span class="p">):</span>       
        <span class="c1"># assign ax and set some parameters</span>
        <span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span><span class="n">bottom</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">top</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">labelbottom</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">labelleft</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        
        <span class="c1"># check the axis and set titles and labels       </span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">pass</span>
        
        <span class="k">if</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">code_description_map</span><span class="p">[</span><span class="n">code</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="c1"># run test</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">corr</span><span class="p">,</span> <span class="n">a_p</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_plot_with_spearmans</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">unit_label</span><span class="o">=</span><span class="n">unit_label</span><span class="p">)</span>
        
        <span class="c1"># if siginficant set adjust color to direction</span>
        <span class="k">if</span> <span class="n">a_p</span> <span class="o">&lt;</span> <span class="mf">0.05</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">corr</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s2">&quot;salmon&quot;</span><span class="p">)</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s2">&quot;palegoldenrod&quot;</span><span class="p">)</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">hspace</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">glue</span><span class="p">(</span><span class="s1">&#39;aare_survey_area_spearmans&#39;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<figure class="align-default" id="aare-survey-area-spearmans">
<div class="cell_output docutils container">
<img alt="_images/aare_sa_rev_de_35_0.png" src="_images/aare_sa_rev_de_35_0.png" />
</div>
<figcaption>
<p><span class="caption-number">Abb. 3.9 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#aare-survey-area-spearmans" title="Link zu diesem Bild">#</a></p>
</figcaption>
</figure>
<p><a class="reference internal" href="#aare-survey-area-spearmans"><span class="std std-numref">Abbildung 3.9:</span></a> Ausgewertete Korrelationen der am h√§ufigsten gefundenen Objekte in Bezug auf das Landnutzungsprofil im Erhebungsgebiet Aare. F√ºr alle g√ºltigen Erhebungen an Seen n¬†=¬†118. <em><strong>Legende:</strong> wenn p &gt; 0,05 = weiss, wenn p &lt; 0,05 und Rho &gt; 0 = rot, wenn p &lt; 0,05 und Rho &lt; 0 = gelb</em></p>
</section>
<section id="verwendungszweck-der-gefundenen-objekte">
<h2><span class="section-number">3.4. </span>Verwendungszweck der gefundenen Objekte<a class="headerlink" href="#verwendungszweck-der-gefundenen-objekte" title="Link zu dieser √úberschrift">#</a></h2>
<p>Der Verwendungszweck basiert auf der Verwendung des Objekts, bevor es weggeworfen wurde, oder auf der Artikelbeschreibung, wenn die urspr√ºngliche Verwendung unbestimmt ist. Identifizierte Objekte werden einer der 260 vordefinierten Kategorien zugeordnet. Die Kategorien werden je nach Verwendung oder Artikelbeschreibung gruppiert.</p>
<ul class="simple">
<li><p>Abwasser: Objekte, die aus Kl√§ranlagen freigesetzt werden, sprich Objekte, die wahrscheinlich √ºber die Toilette entsorgt werden</p></li>
<li><p>Mikroplastik (&lt; 5‚ÄØmm): fragmentierte Kunststoffe und Kunststoffharze aus der Vorproduktion</p></li>
<li><p>Infrastruktur: Artikel im Zusammenhang mit dem Bau und der Instandhaltung von Geb√§uden, Strassen und der Wasser-/Stromversorgung</p></li>
<li><p>Essen und Trinken: alle Materialien, die mit dem Konsum von Essen und Trinken in Zusammenhang stehen</p></li>
<li><p>Landwirtschaft: Materialien z.‚ÄØB. f√ºr Mulch und Reihenabdeckungen, Gew√§chsh√§user, Bodenbegasung, Ballenverpackungen. Einschliesslich Hartkunststoffe f√ºr landwirtschaftliche Z√§une, Blument√∂pfe usw.</p></li>
<li><p>Tabakwaren: haupts√§chlich Zigarettenfilter, einschliesslich aller mit dem Rauchen verbundenen Materialien</p></li>
<li><p>Freizeit und Erholung: Objekte, die mit Sport und Freizeit zu tun haben, z.‚ÄØB. Angeln, Jagen, Wandern usw.</p></li>
<li><p>Verpackungen ausser Lebensmittel und Tabak: Verpackungsmaterial, das nicht lebensmittel- oder tabakbezogen ist</p></li>
<li><p>Plastikfragmente: Plastikteile unbestimmter Herkunft oder Verwendung</p></li>
<li><p>Pers√∂nliche Gegenst√§nde: Accessoires, Hygieneartikel und Kleidung</p></li>
</ul>
<p>Im Anhang (Kapitel 3.6.3) befindet sich die vollst√§ndige Liste der identifizierten Objekte, einschliesslich Beschreibungen und Gruppenklassifizierung. Das Kapitel <span class="xref myst">16 Codegruppen</span> beschreibt jede Codegruppe im Detail und bietet eine umfassende Liste aller Objekte in einer Gruppe.</p>
<div class="cell tag_remove-input docutils container">
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># code groups results aggregated by survey</span>
<span class="n">groups</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;groupname&quot;</span><span class="p">]</span>
<span class="n">cg_t</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="n">this_level</span><span class="p">,</span><span class="o">*</span><span class="n">groups</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_quantity</span><span class="p">)</span>

<span class="c1"># the total per water feature</span>
<span class="n">cg_tq</span> <span class="o">=</span> <span class="n">cg_t</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">this_level</span><span class="p">)</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># get the fail rates for each group per survey</span>
<span class="n">cg_t</span><span class="p">[</span><span class="s2">&quot;fail&quot;</span><span class="p">]</span><span class="o">=</span><span class="kc">False</span>
<span class="n">cg_t</span><span class="p">[</span><span class="s2">&quot;fail&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cg_t</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

<span class="c1"># aggregate all that for each municipality</span>
<span class="n">agg_this</span> <span class="o">=</span> <span class="p">{</span><span class="n">unit_label</span><span class="p">:</span><span class="s2">&quot;median&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;fail&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;loc_date&quot;</span><span class="p">:</span><span class="s2">&quot;nunique&quot;</span><span class="p">}</span> 
<span class="n">cg_t</span> <span class="o">=</span> <span class="n">cg_t</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="n">this_level</span><span class="p">,</span> <span class="s2">&quot;groupname&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_this</span><span class="p">)</span>

<span class="c1"># assign survey area total to each record</span>
<span class="k">for</span> <span class="n">a_feature</span> <span class="ow">in</span> <span class="n">cg_tq</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
    <span class="n">cg_t</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">cg_t</span><span class="p">[</span><span class="n">this_level</span><span class="p">]</span> <span class="o">==</span> <span class="n">a_feature</span><span class="p">,</span> <span class="s2">&quot;f_total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cg_tq</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">a_feature</span><span class="p">]</span>

<span class="c1"># get the percent of total for each group for each survey area</span>
<span class="n">cg_t</span><span class="p">[</span><span class="s2">&quot;pt&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">cg_t</span><span class="o">.</span><span class="n">quantity</span><span class="o">/</span><span class="n">cg_t</span><span class="o">.</span><span class="n">f_total</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># pivot that</span>
<span class="n">data_table</span> <span class="o">=</span> <span class="n">cg_t</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">this_level</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s2">&quot;groupname&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s2">&quot;pt&quot;</span><span class="p">)</span>

<span class="c1"># repeat for the survey area</span>
<span class="n">data_table</span><span class="p">[</span><span class="n">this_feature</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="p">]</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">aggregate_to_group_name</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="n">unit_label</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s2">&quot;groupname&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">this_feature</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="p">,</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;pt&quot;</span><span class="p">)</span>

<span class="c1"># repeat for all the data</span>
<span class="n">data_table</span><span class="p">[</span><span class="n">top</span><span class="p">]</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">aggregate_to_group_name</span><span class="p">(</span><span class="n">a_data</span><span class="p">,</span> <span class="n">unit_label</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s2">&quot;groupname&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">top</span><span class="p">,</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;pt&quot;</span><span class="p">)</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">data_table</span>
<span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="n">x</span><span class="p">:</span><span class="n">wname_wname</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

<span class="n">axone</span> <span class="o">=</span> <span class="n">ax</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">data</span> <span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axone</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap2</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">annot_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;fontsize&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">},</span> <span class="n">cbar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;.0%&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">.1</span><span class="p">,</span> <span class="n">square</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">linecolor</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>

<span class="n">axone</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">labeltop</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">labelbottom</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="n">axone</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="n">axone</span><span class="o">.</span><span class="n">get_yticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>

<span class="n">glue</span><span class="p">(</span><span class="s1">&#39;aare_survey_area_codegroup_percent&#39;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<figure class="align-default" id="aare-survey-area-codegroup-percent">
<div class="cell_output docutils container">
<img alt="_images/aare_sa_rev_de_39_0.png" src="_images/aare_sa_rev_de_39_0.png" />
</div>
<figcaption>
<p><span class="caption-number">Abb. 3.10 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#aare-survey-area-codegroup-percent" title="Link zu diesem Bild">#</a></p>
</figcaption>
</figure>
<p><a class="reference internal" href="#aare-survey-area-codegroup-percent"><span class="std std-numref">Abbildung 3.10:</span></a> Verwendungszweck oder Beschreibung der identifizierten Objekte in % der Gesamtzahl nach Gew√§sser im Erhebungsgebiet Aare. Fragmentierte Objekte, die nicht eindeutig identifiziert werden k√∂nnen, werden weiterhin nach ihrer Gr√∂sse klassifiziert.</p>
<div class="cell tag_hide-input tag_remove-input docutils container">
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># median p/50m of all the water features</span>
<span class="n">data_table</span> <span class="o">=</span> <span class="n">cg_t</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;water_name_slug&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s2">&quot;groupname&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="n">unit_label</span><span class="p">)</span>

<span class="c1"># the survey area columns</span>
<span class="n">data_table</span><span class="p">[</span><span class="n">this_feature</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="p">]</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">aggregate_to_group_name</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="n">unit_label</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s2">&quot;groupname&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">this_feature</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="p">,</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;med&quot;</span><span class="p">)</span>

<span class="c1"># column for all the surveys</span>
<span class="n">data_table</span><span class="p">[</span><span class="n">top</span><span class="p">]</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">aggregate_to_group_name</span><span class="p">(</span><span class="n">a_data</span><span class="p">,</span> <span class="n">unit_label</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s2">&quot;groupname&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">top</span><span class="p">,</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;med&quot;</span><span class="p">)</span>

<span class="c1"># merge with data_table</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">data_table</span>
<span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="n">x</span><span class="p">:</span><span class="n">wname_wname</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

<span class="n">axone</span> <span class="o">=</span> <span class="n">ax</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">data</span> <span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axone</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap2</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">annot_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;fontsize&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">},</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;g&quot;</span><span class="p">,</span> <span class="n">cbar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">.1</span><span class="p">,</span> <span class="n">square</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">linecolor</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>

<span class="n">axone</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">labeltop</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">labelbottom</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="n">axone</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="n">axone</span><span class="o">.</span><span class="n">get_yticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">glue</span><span class="p">(</span><span class="s1">&#39;aare_survey_area_codegroup_pcsm&#39;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<figure class="align-default" id="aare-survey-area-codegroup-pcsm">
<div class="cell_output docutils container">
<img alt="_images/aare_sa_rev_de_42_0.png" src="_images/aare_sa_rev_de_42_0.png" />
</div>
<figcaption>
<p><span class="caption-number">Abb. 3.11 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#aare-survey-area-codegroup-pcsm" title="Link zu diesem Bild">#</a></p>
</figcaption>
</figure>
<p><a class="reference internal" href="#aare-survey-area-codegroup-pcsm"><span class="std std-numref">Abbildung 3.11:</span></a> Verwendungszweck der gefundenen Objekte Median p/100¬†m im Erhebungsgebiet Aare. Fragmentierte Objekte, die nicht eindeutig identifiziert werden k√∂nnen, werden weiterhin nach ihrer Gr√∂sse klassifiziert.</p>
</section>
<section id="fliessgewasser">
<h2><span class="section-number">3.5. </span>Fliessgew√§sser<a class="headerlink" href="#fliessgewasser" title="Link zu dieser √úberschrift">#</a></h2>
<div class="cell tag_hide-input tag_remove-input docutils container">
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cs</span> <span class="o">=</span> <span class="n">r_smps</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># add project totals</span>
<span class="n">cs</span><span class="p">[</span><span class="s2">&quot;total objects&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">r_smps</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># change the names</span>
<span class="n">csx</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">change_series_index_labels</span><span class="p">(</span><span class="n">cs</span><span class="p">,</span> <span class="n">sut</span><span class="o">.</span><span class="n">create_summary_table_index</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s2">&quot;DE&quot;</span><span class="p">))</span>

<span class="n">combined_summary</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">fmt_combined_summary</span><span class="p">(</span><span class="n">csx</span><span class="p">,</span> <span class="n">nf</span><span class="o">=</span><span class="p">[])</span>

<span class="c1"># make the charts</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>

<span class="n">aspec</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_gridspec</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">aspec</span><span class="p">[:,</span> <span class="p">:</span><span class="mi">6</span><span class="p">])</span>

<span class="n">line_label</span> <span class="o">=</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">rate</span><span class="si">}</span><span class="s2"> median:</span><span class="si">{</span><span class="n">top</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">l_smps</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Lake surveys&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">r_smps</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">34</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;River surveys&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="n">y_limit</span> <span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span><span class="n">days</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">months_fmt</span><span class="p">)</span>

<span class="n">a_col</span> <span class="o">=</span> <span class="p">[</span><span class="n">this_feature</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span> <span class="s2">&quot;total&quot;</span><span class="p">]</span>

<span class="n">axone</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">aspec</span><span class="p">[:,</span> <span class="mi">7</span><span class="p">:])</span>
<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">axone</span><span class="p">)</span>

<span class="n">table_five</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_a_table</span><span class="p">(</span><span class="n">axone</span><span class="p">,</span> <span class="n">combined_summary</span><span class="p">,</span>  <span class="n">colLabels</span><span class="o">=</span><span class="n">a_col</span><span class="p">,</span> <span class="n">colWidths</span><span class="o">=</span><span class="p">[</span><span class="mf">.75</span><span class="p">,</span><span class="mf">.25</span><span class="p">],</span>  <span class="n">bbox</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="o">**</span><span class="p">{</span><span class="s2">&quot;loc&quot;</span><span class="p">:</span><span class="s2">&quot;lower center&quot;</span><span class="p">})</span>
<span class="n">table_five</span><span class="o">.</span><span class="n">get_celld</span><span class="p">()[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>

<span class="n">glue</span><span class="p">(</span><span class="s1">&#39;aare_survey_area_rivers_summary&#39;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<figure class="align-default" id="aare-survey-area-rivers-summary">
<div class="cell_output docutils container">
<img alt="_images/aare_sa_rev_de_46_0.png" src="_images/aare_sa_rev_de_46_0.png" />
</div>
<figcaption>
<p><span class="caption-number">Abb. 3.12 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#aare-survey-area-rivers-summary" title="Link zu diesem Bild">#</a></p>
</figcaption>
</figure>
<p><a class="reference internal" href="#aare-survey-area-rivers-summary"><span class="std std-numref">Abbildung 3.12:</span></a> <strong>Links:</strong> Erhebungsgebiet Aare Fliessgew√§sser, M√§rz 2020 bis Mai 2021, n = 22. Werte gr√∂sser als 1 766 p/100 m werden nicht gezeigt. <strong>Rechts:</strong> Zusammenfassung der Daten.</p>
<section id="die-an-fliessgewassern-am-haufigsten-gefundenen-objekte">
<h3><span class="section-number">3.5.1. </span>Die an Fliessgew√§ssern am h√§ufigsten gefundenen Objekte<a class="headerlink" href="#die-an-fliessgewassern-am-haufigsten-gefundenen-objekte" title="Link zu dieser √úberschrift">#</a></h3>
<div class="cell tag_hide-input tag_remove-input docutils container">
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># the most common items rivers</span>
<span class="n">r_codes</span> <span class="o">=</span> <span class="n">rivers</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;code&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;fail&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="n">unit_label</span><span class="p">:</span><span class="s2">&quot;median&quot;</span><span class="p">})</span>
<span class="n">r_codes</span><span class="p">[</span><span class="s2">&quot;Fail rate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">r_codes</span><span class="o">.</span><span class="n">fail</span><span class="o">/</span><span class="n">r_smps</span><span class="o">.</span><span class="n">loc_date</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;int&quot;</span><span class="p">)</span>

<span class="c1"># top ten</span>
<span class="n">r_byq</span> <span class="o">=</span> <span class="n">r_codes</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">index</span>

<span class="c1"># most common</span>
<span class="n">r_byfail</span> <span class="o">=</span> <span class="n">r_codes</span><span class="p">[</span><span class="n">r_codes</span><span class="p">[</span><span class="s2">&quot;Fail rate&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">49.99</span><span class="p">]</span><span class="o">.</span><span class="n">index</span>
<span class="n">r_most_common</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">r_byq</span><span class="p">)</span> <span class="o">|</span> <span class="nb">set</span><span class="p">(</span><span class="n">r_byfail</span><span class="p">))</span>

<span class="c1"># format for display</span>
<span class="n">r_mc</span><span class="o">=</span> <span class="n">r_codes</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">r_most_common</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">r_mc</span><span class="p">[</span><span class="s2">&quot;item&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">r_mc</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">code_description_map</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<span class="n">r_mc</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">r_mc</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span><span class="o">=</span><span class="p">((</span><span class="n">r_mc</span><span class="o">.</span><span class="n">quantity</span><span class="o">/</span><span class="n">r_codes</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;int&quot;</span><span class="p">)</span>
<span class="n">r_mc</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">r_mc</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
<span class="n">r_mc</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">r_mc</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:,}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="n">r_mc</span><span class="p">[</span><span class="s2">&quot;Fail rate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">r_mc</span><span class="p">[</span><span class="s2">&quot;Fail rate&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
<span class="n">r_mc</span><span class="p">[</span><span class="s2">&quot;p/50m&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">r_mc</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">r_mc</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">cols_to_use</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">data</span><span class="o">=</span><span class="n">r_mc</span><span class="p">[[</span><span class="s2">&quot;Objekt&quot;</span><span class="p">,</span><span class="s2">&quot;Gesamt&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% G</span><span class="s2">esamt&quot;</span><span class="p">,</span> <span class="s2">&quot;Fail rate&quot;</span><span class="p">,</span> <span class="n">unit_label</span><span class="p">]]</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">*</span><span class="mf">.8</span><span class="p">))</span>

<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">axs</span><span class="p">)</span>

<span class="n">table_six</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_a_table</span><span class="p">(</span><span class="n">axs</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>  <span class="n">colLabels</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">),</span> <span class="n">colWidths</span><span class="o">=</span><span class="p">[</span><span class="mf">.48</span><span class="p">,</span> <span class="mf">.13</span><span class="p">,</span><span class="mf">.13</span><span class="p">,</span><span class="mf">.13</span><span class="p">,</span> <span class="mf">.13</span><span class="p">],</span> <span class="o">**</span><span class="p">{</span><span class="s2">&quot;loc&quot;</span><span class="p">:</span><span class="s2">&quot;lower center&quot;</span><span class="p">})</span>
<span class="n">table_six</span><span class="o">.</span><span class="n">get_celld</span><span class="p">()[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>



<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">glue</span><span class="p">(</span><span class="s1">&#39;aare_survey_area_rivers_most_common&#39;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<figure class="align-default" id="aare-survey-area-rivers-most-common">
<div class="cell_output docutils container">
<img alt="_images/aare_sa_rev_de_50_0.png" src="_images/aare_sa_rev_de_50_0.png" />
</div>
<figcaption>
<p><span class="caption-number">Abb. 3.13 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#aare-survey-area-rivers-most-common" title="Link zu diesem Bild">#</a></p>
</figcaption>
</figure>
<p><a class="reference internal" href="#aare-survey-area-rivers-most-common"><span class="std std-numref">Abbildung 3.13:</span></a> H√§ufigste Objekte p/100¬†m an Fliessgew√§ssern im Erhebungsgebiet Aare: Medianwert der Erhebung.</p>
</section>
</section>
<section id="anhang">
<h2><span class="section-number">3.6. </span>Anhang<a class="headerlink" href="#anhang" title="Link zu dieser √úberschrift">#</a></h2>
<section id="schaumstoffe-und-kunststoffe-nach-grosse">
<h3><span class="section-number">3.6.1. </span>Schaumstoffe und Kunststoffe nach Gr√∂sse<a class="headerlink" href="#schaumstoffe-und-kunststoffe-nach-grosse" title="Link zu dieser √úberschrift">#</a></h3>
<p>Die folgende Tabelle enth√§lt die Komponenten ¬´Gfoam¬ª und ¬´Gfrag¬ª, die f√ºr die Analyse gruppiert wurden. Objekte, die als Schaumstoffe gekennzeichnet sind, werden als Gfoam gruppiert und umfassen alle gesch√§umten Polystyrol-Kunststoffe &gt; 0,5¬†cm. Kunststoffteile und Objekte aus kombinierten Kunststoff- und Schaumstoffmaterialien &gt; 0,5¬†cm werden f√ºr die Analyse als Gfrags gruppiert.</p>
<div class="cell tag_remove-input docutils container">
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># collect the data before aggregating foams for all locations in the survye area</span>
<span class="c1"># group by loc_date and code</span>
<span class="c1"># Combine the different sizes of fragmented plastics and styrofoam</span>
<span class="c1"># the codes for the foams</span>
<span class="n">before_agg</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;resources/checked_before_agg_sdata_eos_2020_21.csv&quot;</span><span class="p">)</span>
<span class="n">some_foams</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;G81&quot;</span><span class="p">,</span> <span class="s2">&quot;G82&quot;</span><span class="p">,</span> <span class="s2">&quot;G83&quot;</span><span class="p">,</span> <span class="s2">&quot;G74&quot;</span><span class="p">]</span>
<span class="n">before_agg</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;p/100m&quot;</span><span class="p">:</span><span class="n">unit_label</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># the codes for the fragmented plastics</span>
<span class="n">some_frag_plas</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">before_agg</span><span class="p">[</span><span class="n">before_agg</span><span class="o">.</span><span class="n">groupname</span> <span class="o">==</span> <span class="s2">&quot;plastic pieces&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>

<span class="n">fd_frags_foams</span> <span class="o">=</span> <span class="n">before_agg</span><span class="p">[(</span><span class="n">before_agg</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="o">*</span><span class="n">some_frag_plas</span><span class="p">,</span> <span class="o">*</span><span class="n">some_foams</span><span class="p">]))</span><span class="o">&amp;</span><span class="p">(</span><span class="n">before_agg</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">a_summary</span><span class="p">[</span><span class="s2">&quot;locations_of_interest&quot;</span><span class="p">]))]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;code&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_quantity</span><span class="p">)</span>
<span class="n">fd_frags_foams</span> <span class="o">=</span> <span class="n">fd_frags_foams</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;code&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_median</span><span class="p">)</span>

<span class="c1"># add code description and format for printing</span>
<span class="n">fd_frags_foams</span><span class="p">[</span><span class="s2">&quot;item&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fd_frags_foams</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">code_description_map</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<span class="n">fd_frags_foams</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">fd_frags_foams</span><span class="o">.</span><span class="n">quantity</span><span class="o">/</span><span class="n">fd</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">fd_frags_foams</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fd_frags_foams</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
<span class="n">fd_frags_foams</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fd_frags_foams</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># table data</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">fd_frags_foams</span><span class="p">[[</span><span class="s2">&quot;item&quot;</span><span class="p">,</span><span class="n">unit_label</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]]</span>
<span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;Gesamt&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">:</span><span class="s2">&quot;</span><span class="si">% G</span><span class="s2">esamt&quot;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="o">*</span><span class="mf">2.4</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">*</span><span class="mf">.7</span><span class="p">))</span>

<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">axs</span><span class="p">)</span>

<span class="n">table_seven</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_a_table</span><span class="p">(</span><span class="n">axs</span><span class="p">,</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>  <span class="n">colLabels</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">colWidths</span><span class="o">=</span><span class="p">[</span><span class="mf">.6</span><span class="p">,</span> <span class="mf">.13</span><span class="p">,</span> <span class="mf">.13</span><span class="p">,</span> <span class="mf">.13</span><span class="p">],</span> <span class="n">a_color</span><span class="o">=</span><span class="n">table_row</span><span class="p">)</span>
<span class="n">table_seven</span><span class="o">.</span><span class="n">get_celld</span><span class="p">()[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="n">table_seven</span><span class="o">.</span><span class="n">set_fontsize</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>


<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">glue</span><span class="p">(</span><span class="s1">&#39;aare_survey_area_fragmented_plastics&#39;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<figure class="align-default" id="aare-survey-area-fragmented-plastics">
<div class="cell_output docutils container">
<img alt="_images/aare_sa_rev_de_54_0.png" src="_images/aare_sa_rev_de_54_0.png" />
</div>
<figcaption>
<p><span class="caption-number">Abb. 3.14 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#aare-survey-area-fragmented-plastics" title="Link zu diesem Bild">#</a></p>
</figcaption>
</figure>
<p><a class="reference internal" href="#aare-survey-area-fragmented-plastics"><span class="std std-numref">Abbildung 3.14:</span></a>  Fragmentierte und gesch√§umte Kunststoffe nach Gr√∂sse im Erhebungsgebiet Aare, Median p/100¬†m, Anzahl der gefundenen Objekte und Prozent der Gesamtmenge.</p>
</section>
<section id="die-erhebungsorte">
<h3><span class="section-number">3.6.2. </span>Die Erhebungsorte<a class="headerlink" href="#die-erhebungsorte" title="Link zu dieser √úberschrift">#</a></h3>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># display the survey locations</span>
<span class="n">disp_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;latitude&quot;</span><span class="p">,</span> <span class="s2">&quot;longitude&quot;</span><span class="p">,</span> <span class="s2">&quot;city&quot;</span><span class="p">]</span>
<span class="n">disp_beaches</span> <span class="o">=</span> <span class="n">dfBeaches</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">a_summary</span><span class="p">[</span><span class="s2">&quot;locations_of_interest&quot;</span><span class="p">]][</span><span class="n">disp_columns</span><span class="p">]</span>
<span class="n">disp_beaches</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">disp_beaches</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;city&quot;</span><span class="p">:</span><span class="s2">&quot;stat&quot;</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">:</span><span class="s2">&quot;standort&quot;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">disp_beaches</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;standort&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">disp_beaches</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>latitude</th>
      <th>longitude</th>
      <th>stat</th>
    </tr>
    <tr>
      <th>standort</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>aare-port</th>
      <td>47.116170</td>
      <td>7.269550</td>
      <td>Port</td>
    </tr>
    <tr>
      <th>schutzenmatte</th>
      <td>47.057666</td>
      <td>7.634001</td>
      <td>Burgdorf</td>
    </tr>
    <tr>
      <th>la-petite-plage</th>
      <td>46.785054</td>
      <td>6.656877</td>
      <td>Yverdon-les-Bains</td>
    </tr>
    <tr>
      <th>weissenau-neuhaus</th>
      <td>46.676583</td>
      <td>7.817528</td>
      <td>Unterseen</td>
    </tr>
    <tr>
      <th>evole-plage</th>
      <td>46.989477</td>
      <td>6.923920</td>
      <td>Neuch√¢tel</td>
    </tr>
    <tr>
      <th>oberi-chlihochstetten</th>
      <td>46.896025</td>
      <td>7.532114</td>
      <td>Rubigen</td>
    </tr>
    <tr>
      <th>plage-de-serriere</th>
      <td>46.984850</td>
      <td>6.913450</td>
      <td>Neuch√¢tel</td>
    </tr>
    <tr>
      <th>mullermatte</th>
      <td>47.133339</td>
      <td>7.227907</td>
      <td>Biel/Bienne</td>
    </tr>
    <tr>
      <th>bielersee_vinelz_fankhausers</th>
      <td>47.038398</td>
      <td>7.108311</td>
      <td>Vinelz</td>
    </tr>
    <tr>
      <th>erlach-camping-strand</th>
      <td>47.047159</td>
      <td>7.097854</td>
      <td>Erlach</td>
    </tr>
    <tr>
      <th>gummligrabbe</th>
      <td>46.989290</td>
      <td>7.250730</td>
      <td>Kallnach</td>
    </tr>
    <tr>
      <th>mannewil</th>
      <td>46.996382</td>
      <td>7.239024</td>
      <td>Kallnach</td>
    </tr>
    <tr>
      <th>schusspark-strand</th>
      <td>47.146500</td>
      <td>7.268620</td>
      <td>Biel/Bienne</td>
    </tr>
    <tr>
      <th>plage-de-cheyres</th>
      <td>46.818689</td>
      <td>6.782256</td>
      <td>Cheyres-Ch√¢bles</td>
    </tr>
    <tr>
      <th>thun-strandbad</th>
      <td>46.739939</td>
      <td>7.633520</td>
      <td>Thun</td>
    </tr>
    <tr>
      <th>oben-am-see</th>
      <td>46.744451</td>
      <td>8.049921</td>
      <td>Brienz (BE)</td>
    </tr>
    <tr>
      <th>thunersee_spiez_meierd_1</th>
      <td>46.704437</td>
      <td>7.657882</td>
      <td>Spiez</td>
    </tr>
    <tr>
      <th>spackmatt</th>
      <td>47.223749</td>
      <td>7.576711</td>
      <td>Luterbach</td>
    </tr>
    <tr>
      <th>luscherz-plage</th>
      <td>47.047955</td>
      <td>7.151242</td>
      <td>L√ºscherz</td>
    </tr>
    <tr>
      <th>strandboden-biel</th>
      <td>47.132510</td>
      <td>7.233142</td>
      <td>Biel/Bienne</td>
    </tr>
    <tr>
      <th>signalpain</th>
      <td>46.786200</td>
      <td>6.647360</td>
      <td>Yverdon-les-Bains</td>
    </tr>
    <tr>
      <th>pointe-dareuse</th>
      <td>46.946190</td>
      <td>6.870970</td>
      <td>Boudry</td>
    </tr>
    <tr>
      <th>nidau-strand</th>
      <td>47.127196</td>
      <td>7.232613</td>
      <td>Nidau</td>
    </tr>
    <tr>
      <th>camp-des-peches</th>
      <td>47.052812</td>
      <td>7.074053</td>
      <td>Le Landeron</td>
    </tr>
    <tr>
      <th>delta-park</th>
      <td>46.720078</td>
      <td>7.635304</td>
      <td>Spiez</td>
    </tr>
    <tr>
      <th>pecos-plage</th>
      <td>46.803590</td>
      <td>6.636650</td>
      <td>Grandson</td>
    </tr>
    <tr>
      <th>beich</th>
      <td>47.048495</td>
      <td>7.200528</td>
      <td>Walperswil</td>
    </tr>
    <tr>
      <th>aare_suhrespitz_badert</th>
      <td>47.405669</td>
      <td>8.066018</td>
      <td>Aarau</td>
    </tr>
    <tr>
      <th>sundbach-strand</th>
      <td>46.684386</td>
      <td>7.794768</td>
      <td>Beatenberg</td>
    </tr>
    <tr>
      <th>wycheley</th>
      <td>46.740370</td>
      <td>8.048640</td>
      <td>Brienz (BE)</td>
    </tr>
    <tr>
      <th>aare_koniz_hoppej</th>
      <td>46.934588</td>
      <td>7.458170</td>
      <td>K√∂niz</td>
    </tr>
    <tr>
      <th>camping-gwatt-strand</th>
      <td>46.727140</td>
      <td>7.629620</td>
      <td>Thun</td>
    </tr>
    <tr>
      <th>bern-tiergarten</th>
      <td>46.933157</td>
      <td>7.452004</td>
      <td>Bern</td>
    </tr>
    <tr>
      <th>la-thiele_le-mujon_confluence</th>
      <td>46.775340</td>
      <td>6.630900</td>
      <td>Yverdon-les-Bains</td>
    </tr>
    <tr>
      <th>nouvelle-plage</th>
      <td>46.856646</td>
      <td>6.848428</td>
      <td>Estavayer</td>
    </tr>
    <tr>
      <th>augustmutzenbergstrandweg</th>
      <td>46.686640</td>
      <td>7.689760</td>
      <td>Spiez</td>
    </tr>
    <tr>
      <th>aare_bern_gerberm</th>
      <td>46.989363</td>
      <td>7.452098</td>
      <td>Bern</td>
    </tr>
    <tr>
      <th>brugg-be-buren-bsg-standort</th>
      <td>47.122220</td>
      <td>7.281410</td>
      <td>Br√ºgg</td>
    </tr>
    <tr>
      <th>ruisseau-de-la-croix-plage</th>
      <td>46.813920</td>
      <td>6.774700</td>
      <td>Cheyres-Ch√¢bles</td>
    </tr>
    <tr>
      <th>ligerz-strand</th>
      <td>47.083979</td>
      <td>7.135894</td>
      <td>Ligerz</td>
    </tr>
    <tr>
      <th>hafeli</th>
      <td>46.690283</td>
      <td>7.898592</td>
      <td>B√∂nigen</td>
    </tr>
    <tr>
      <th>aare-solothurn-lido-strand</th>
      <td>47.196949</td>
      <td>7.521643</td>
      <td>Solothurn</td>
    </tr>
    <tr>
      <th>bern-fahrstrasse</th>
      <td>46.975866</td>
      <td>7.444210</td>
      <td>Bern</td>
    </tr>
    <tr>
      <th>gals-reserve</th>
      <td>47.046272</td>
      <td>7.085007</td>
      <td>Gals</td>
    </tr>
    <tr>
      <th>hauterive-petite-plage</th>
      <td>47.010797</td>
      <td>6.980304</td>
      <td>Hauterive (NE)</td>
    </tr>
    <tr>
      <th>aare-limmatspitz</th>
      <td>47.501060</td>
      <td>8.237371</td>
      <td>Gebenstorf</td>
    </tr>
    <tr>
      <th>aare_brugg_buchie</th>
      <td>47.494855</td>
      <td>8.236558</td>
      <td>Brugg</td>
    </tr>
    <tr>
      <th>luscherz-two</th>
      <td>47.047519</td>
      <td>7.152829</td>
      <td>L√ºscherz</td>
    </tr>
    <tr>
      <th>impromptu_cudrefin</th>
      <td>46.964496</td>
      <td>7.027936</td>
      <td>Cudrefin</td>
    </tr>
    <tr>
      <th>aare_post</th>
      <td>47.116665</td>
      <td>7.271953</td>
      <td>Port</td>
    </tr>
    <tr>
      <th>aare_bern_scheurerk</th>
      <td>46.970967</td>
      <td>7.452586</td>
      <td>Bern</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="inventar-der-objekte">
<h3><span class="section-number">3.6.3. </span>Inventar der Objekte<a class="headerlink" href="#inventar-der-objekte" title="Link zu dieser √úberschrift">#</a></h3>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s2">&quot;display.max_rows&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">complete_inventory</span> <span class="o">=</span> <span class="n">code_totals</span><span class="p">[</span><span class="n">code_totals</span><span class="o">.</span><span class="n">quantity</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">][[</span><span class="s2">&quot;item&quot;</span><span class="p">,</span> <span class="s2">&quot;groupname&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">,</span><span class="s2">&quot;fail rate&quot;</span><span class="p">]]</span>
<span class="n">complete_inventory</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;item&quot;</span><span class="p">:</span><span class="s2">&quot;Objekte&quot;</span><span class="p">,</span> <span class="s2">&quot;groupname&quot;</span><span class="p">:</span><span class="s2">&quot;Gruppenname&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;Gesamt&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">:</span><span class="s2">&quot;</span><span class="si">% G</span><span class="s2">esamt&quot;</span><span class="p">,</span> <span class="s2">&quot;fail rate&quot;</span><span class="p">:</span><span class="s2">&quot;fail rate&quot;</span> <span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="n">complete_inventory</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;Gesamt&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Objekte</th>
      <th>Gruppenname</th>
      <th>Gesamt</th>
      <th>% Gesamt</th>
      <th>fail rate</th>
    </tr>
    <tr>
      <th>code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>G27</th>
      <td>Zigarettenfilter</td>
      <td>Tabakwaren</td>
      <td>2561</td>
      <td>18.49</td>
      <td>84</td>
    </tr>
    <tr>
      <th>Gfrags</th>
      <td>Fragmentierte Kunststoffst√ºcke</td>
      <td>Plastikfragmente</td>
      <td>2004</td>
      <td>14.47</td>
      <td>89</td>
    </tr>
    <tr>
      <th>G30</th>
      <td>Snack-Verpackungen</td>
      <td>Essen und Trinken</td>
      <td>900</td>
      <td>6.50</td>
      <td>82</td>
    </tr>
    <tr>
      <th>Gfoam</th>
      <td>Expandiertes Polystyrol</td>
      <td>Infrastruktur</td>
      <td>839</td>
      <td>6.06</td>
      <td>65</td>
    </tr>
    <tr>
      <th>G67</th>
      <td>Industriefolie (Kunststoff)</td>
      <td>Landwirtschaft</td>
      <td>812</td>
      <td>5.86</td>
      <td>73</td>
    </tr>
    <tr>
      <th>G200</th>
      <td>Getr√§nke Glasflasche, St√ºcke</td>
      <td>Essen und Trinken</td>
      <td>687</td>
      <td>4.96</td>
      <td>67</td>
    </tr>
    <tr>
      <th>G941</th>
      <td>Verpackungsfolien, nicht f√ºr Lebensmittel</td>
      <td>Nicht-Lebensmittelverpackungen</td>
      <td>445</td>
      <td>3.21</td>
      <td>50</td>
    </tr>
    <tr>
      <th>G74</th>
      <td>Schaumstoffverpackungen/Isolierung</td>
      <td>Infrastruktur</td>
      <td>298</td>
      <td>2.15</td>
      <td>48</td>
    </tr>
    <tr>
      <th>G117</th>
      <td>Styropor &lt; 5mm</td>
      <td>Mikroplastik (&lt; 5mm)</td>
      <td>292</td>
      <td>2.11</td>
      <td>27</td>
    </tr>
    <tr>
      <th>G112</th>
      <td>Industriepellets (Nurdles)</td>
      <td>Mikroplastik (&lt; 5mm)</td>
      <td>262</td>
      <td>1.89</td>
      <td>32</td>
    </tr>
    <tr>
      <th>G98</th>
      <td>Windeln - T√ºcher</td>
      <td>Abwasser</td>
      <td>258</td>
      <td>1.86</td>
      <td>28</td>
    </tr>
    <tr>
      <th>G89</th>
      <td>Kunststoff-Bauabf√§lle</td>
      <td>Infrastruktur</td>
      <td>219</td>
      <td>1.58</td>
      <td>49</td>
    </tr>
    <tr>
      <th>G177</th>
      <td>Verpackungen aus Aluminiumfolie</td>
      <td>Essen und Trinken</td>
      <td>205</td>
      <td>1.48</td>
      <td>50</td>
    </tr>
    <tr>
      <th>G95</th>
      <td>Wattest√§bchen / Tupfer</td>
      <td>Abwasser</td>
      <td>201</td>
      <td>1.45</td>
      <td>49</td>
    </tr>
    <tr>
      <th>G25</th>
      <td>Tabak; Kunststoffverpackungen, Beh√§lter</td>
      <td>Tabakwaren</td>
      <td>159</td>
      <td>1.15</td>
      <td>43</td>
    </tr>
    <tr>
      <th>G904</th>
      <td>Feuerwerksk√∂rper; Raketenkappen</td>
      <td>Freizeit und Erholung</td>
      <td>155</td>
      <td>1.12</td>
      <td>41</td>
    </tr>
    <tr>
      <th>G156</th>
      <td>Papierfragmente</td>
      <td>Nicht-Lebensmittelverpackungen</td>
      <td>150</td>
      <td>1.08</td>
      <td>28</td>
    </tr>
    <tr>
      <th>G178</th>
      <td>Kronkorken, Lasche von Dose/Ausfreisslachen</td>
      <td>Essen und Trinken</td>
      <td>123</td>
      <td>0.89</td>
      <td>40</td>
    </tr>
    <tr>
      <th>G106</th>
      <td>Kunststofffragmente eckig &lt;5mm</td>
      <td>Mikroplastik (&lt; 5mm)</td>
      <td>104</td>
      <td>0.75</td>
      <td>27</td>
    </tr>
    <tr>
      <th>G940</th>
      <td>Schaumstoff EVA (flexibler Kunststoff)</td>
      <td>Freizeit und Erholung</td>
      <td>102</td>
      <td>0.74</td>
      <td>11</td>
    </tr>
    <tr>
      <th>G21</th>
      <td>Getr√§nke-Deckel, Getr√§nkeverschluss</td>
      <td>Essen und Trinken</td>
      <td>98</td>
      <td>0.71</td>
      <td>31</td>
    </tr>
    <tr>
      <th>G213</th>
      <td>Paraffinwachs</td>
      <td>Freizeit und Erholung</td>
      <td>98</td>
      <td>0.71</td>
      <td>18</td>
    </tr>
    <tr>
      <th>G50</th>
      <td>Schnur &lt; 1cm</td>
      <td>Freizeit und Erholung</td>
      <td>96</td>
      <td>0.69</td>
      <td>36</td>
    </tr>
    <tr>
      <th>G23</th>
      <td>unidentifizierte Deckel</td>
      <td>Nicht-Lebensmittelverpackungen</td>
      <td>93</td>
      <td>0.67</td>
      <td>30</td>
    </tr>
    <tr>
      <th>G33</th>
      <td>Einwegartikel; Tassen/Becher &amp; Deckel</td>
      <td>Essen und Trinken</td>
      <td>87</td>
      <td>0.63</td>
      <td>35</td>
    </tr>
    <tr>
      <th>G922</th>
      <td>Etiketten, Strichcodes</td>
      <td>Nicht-Lebensmittelverpackungen</td>
      <td>87</td>
      <td>0.63</td>
      <td>32</td>
    </tr>
    <tr>
      <th>G35</th>
      <td>Strohhalme und R√ºhrst√§bchen</td>
      <td>Essen und Trinken</td>
      <td>82</td>
      <td>0.59</td>
      <td>35</td>
    </tr>
    <tr>
      <th>G186</th>
      <td>Industrieschrott</td>
      <td>Infrastruktur</td>
      <td>82</td>
      <td>0.59</td>
      <td>20</td>
    </tr>
    <tr>
      <th>G24</th>
      <td>Ringe von Plastikflaschen/Beh√§ltern</td>
      <td>Essen und Trinken</td>
      <td>80</td>
      <td>0.58</td>
      <td>28</td>
    </tr>
    <tr>
      <th>G10</th>
      <td>Lebensmittelbeh√§lter zum einmaligen Gebrauch a...</td>
      <td>Essen und Trinken</td>
      <td>74</td>
      <td>0.53</td>
      <td>28</td>
    </tr>
    <tr>
      <th>G211</th>
      <td>Sonstiges medizinisches Material</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>73</td>
      <td>0.53</td>
      <td>32</td>
    </tr>
    <tr>
      <th>G31</th>
      <td>Schleckstengel, Stengel von Lutscher</td>
      <td>Essen und Trinken</td>
      <td>71</td>
      <td>0.51</td>
      <td>30</td>
    </tr>
    <tr>
      <th>G32</th>
      <td>Spielzeug und Partyartikel</td>
      <td>Freizeit und Erholung</td>
      <td>67</td>
      <td>0.48</td>
      <td>32</td>
    </tr>
    <tr>
      <th>G923</th>
      <td>Taschent√ºcher, Toilettenpapier, Servietten, Pa...</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>62</td>
      <td>0.45</td>
      <td>24</td>
    </tr>
    <tr>
      <th>G73</th>
      <td>Gegenst√§nde aus Schaumstoff &amp; Teilst√ºcke (nich...</td>
      <td>Freizeit und Erholung</td>
      <td>58</td>
      <td>0.42</td>
      <td>19</td>
    </tr>
    <tr>
      <th>G66</th>
      <td>Umreifungsb√§nder; Hartplastik f√ºr Verpackung f...</td>
      <td>Infrastruktur</td>
      <td>55</td>
      <td>0.40</td>
      <td>30</td>
    </tr>
    <tr>
      <th>G153</th>
      <td>Papierbecher, Lebensmittelverpackungen aus Pap...</td>
      <td>Essen und Trinken</td>
      <td>54</td>
      <td>0.39</td>
      <td>17</td>
    </tr>
    <tr>
      <th>G203</th>
      <td>Geschirr aus Keramik oder Glas, Tassen, Teller...</td>
      <td>Essen und Trinken</td>
      <td>49</td>
      <td>0.35</td>
      <td>13</td>
    </tr>
    <tr>
      <th>G22</th>
      <td>Deckel f√ºr Chemikalien, Reinigungsmittel (Ohne...</td>
      <td>Infrastruktur</td>
      <td>49</td>
      <td>0.35</td>
      <td>18</td>
    </tr>
    <tr>
      <th>G936</th>
      <td>Folien f√ºr Gew√§chsh√§user</td>
      <td>Landwirtschaft</td>
      <td>48</td>
      <td>0.35</td>
      <td>13</td>
    </tr>
    <tr>
      <th>G908</th>
      <td>Klebeband; elektrisch, isolierend</td>
      <td>Infrastruktur</td>
      <td>46</td>
      <td>0.33</td>
      <td>20</td>
    </tr>
    <tr>
      <th>G93</th>
      <td>Kabelbinder</td>
      <td>Infrastruktur</td>
      <td>45</td>
      <td>0.32</td>
      <td>17</td>
    </tr>
    <tr>
      <th>G204</th>
      <td>Baumaterial;  Ziegel, Rohre, Zement</td>
      <td>Infrastruktur</td>
      <td>45</td>
      <td>0.32</td>
      <td>10</td>
    </tr>
    <tr>
      <th>G152</th>
      <td>Papier &amp;Karton;Zigarettenschachteln, Papier/Ka...</td>
      <td>Tabakwaren</td>
      <td>43</td>
      <td>0.31</td>
      <td>13</td>
    </tr>
    <tr>
      <th>G3</th>
      <td>Einkaufstaschen, Shoppingtaschen</td>
      <td>Nicht-Lebensmittelverpackungen</td>
      <td>42</td>
      <td>0.30</td>
      <td>17</td>
    </tr>
    <tr>
      <th>G191</th>
      <td>Draht und Gitter</td>
      <td>Landwirtschaft</td>
      <td>41</td>
      <td>0.30</td>
      <td>15</td>
    </tr>
    <tr>
      <th>G96</th>
      <td>Hygienebinden/H√∂scheneinlagen/Tampons und Appl...</td>
      <td>Abwasser</td>
      <td>40</td>
      <td>0.29</td>
      <td>15</td>
    </tr>
    <tr>
      <th>G100</th>
      <td>Medizin; Beh√§lter/R√∂hrchen/Verpackungen</td>
      <td>Abwasser</td>
      <td>40</td>
      <td>0.29</td>
      <td>22</td>
    </tr>
    <tr>
      <th>G87</th>
      <td>Abdeckklebeband / Verpackungsklebeband</td>
      <td>Infrastruktur</td>
      <td>39</td>
      <td>0.28</td>
      <td>18</td>
    </tr>
    <tr>
      <th>G125</th>
      <td>Luftballons und Luftballonst√§bchen</td>
      <td>Freizeit und Erholung</td>
      <td>38</td>
      <td>0.27</td>
      <td>17</td>
    </tr>
    <tr>
      <th>G91</th>
      <td>Bio-Filtermaterial  / Tr√§germaterial aus Kunst...</td>
      <td>Abwasser</td>
      <td>37</td>
      <td>0.27</td>
      <td>16</td>
    </tr>
    <tr>
      <th>G905</th>
      <td>Haarspangen, Haargummis, pers√∂nliche Accessoir...</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>35</td>
      <td>0.25</td>
      <td>19</td>
    </tr>
    <tr>
      <th>G137</th>
      <td>Kleidung, Handt√ºcher und Lappen</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>35</td>
      <td>0.25</td>
      <td>10</td>
    </tr>
    <tr>
      <th>G944</th>
      <td>Pelletmasse aus dem Spritzgussverfahren</td>
      <td>nicht klassifiziert</td>
      <td>34</td>
      <td>0.25</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G175</th>
      <td>Getr√§nkedosen (Dosen, Getr√§nke)</td>
      <td>Essen und Trinken</td>
      <td>31</td>
      <td>0.22</td>
      <td>13</td>
    </tr>
    <tr>
      <th>G70</th>
      <td>Schrotflintenpatronen</td>
      <td>Freizeit und Erholung</td>
      <td>30</td>
      <td>0.22</td>
      <td>15</td>
    </tr>
    <tr>
      <th>G927</th>
      <td>Plastikschnur von Rasentrimmern, die zum Schne...</td>
      <td>Infrastruktur</td>
      <td>27</td>
      <td>0.19</td>
      <td>8</td>
    </tr>
    <tr>
      <th>G201</th>
      <td>Gl√§ser, einschliesslich St√ºcke</td>
      <td>Essen und Trinken</td>
      <td>27</td>
      <td>0.19</td>
      <td>8</td>
    </tr>
    <tr>
      <th>G928</th>
      <td>B√§nder und Schleifen</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>27</td>
      <td>0.19</td>
      <td>11</td>
    </tr>
    <tr>
      <th>G198</th>
      <td>Andere Metallteile &lt; 50 cm</td>
      <td>Infrastruktur</td>
      <td>26</td>
      <td>0.19</td>
      <td>14</td>
    </tr>
    <tr>
      <th>G208</th>
      <td>Glas oder Keramikfragmente &gt;2.5 cm</td>
      <td>nicht klassifiziert</td>
      <td>26</td>
      <td>0.19</td>
      <td>7</td>
    </tr>
    <tr>
      <th>G165</th>
      <td>Glacestengel (Eisstiele), Zahnstocher, Essst√§b...</td>
      <td>Essen und Trinken</td>
      <td>25</td>
      <td>0.18</td>
      <td>13</td>
    </tr>
    <tr>
      <th>G159</th>
      <td>Kork</td>
      <td>Essen und Trinken</td>
      <td>25</td>
      <td>0.18</td>
      <td>12</td>
    </tr>
    <tr>
      <th>G131</th>
      <td>Gummib√§nder</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>24</td>
      <td>0.17</td>
      <td>12</td>
    </tr>
    <tr>
      <th>G942</th>
      <td>Kunststoffsp√§ne von Drehb√§nken, CNC-Bearbeitung</td>
      <td>nicht klassifiziert</td>
      <td>24</td>
      <td>0.17</td>
      <td>9</td>
    </tr>
    <tr>
      <th>G26</th>
      <td>Feuerzeug</td>
      <td>Tabakwaren</td>
      <td>23</td>
      <td>0.17</td>
      <td>13</td>
    </tr>
    <tr>
      <th>G210</th>
      <td>Sonstiges Glas/Keramik Materialien</td>
      <td>nicht klassifiziert</td>
      <td>21</td>
      <td>0.15</td>
      <td>4</td>
    </tr>
    <tr>
      <th>G914</th>
      <td>B√ºroklammern, W√§scheklammern, Gebrauchsgegenst...</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>20</td>
      <td>0.14</td>
      <td>8</td>
    </tr>
    <tr>
      <th>G90</th>
      <td>Blument√∂pfe aus Plastik</td>
      <td>Landwirtschaft</td>
      <td>20</td>
      <td>0.14</td>
      <td>10</td>
    </tr>
    <tr>
      <th>G48</th>
      <td>Seile, synthetische</td>
      <td>Freizeit und Erholung</td>
      <td>19</td>
      <td>0.14</td>
      <td>11</td>
    </tr>
    <tr>
      <th>G4</th>
      <td>Kleine Plastikbeutel; Gefrierbeutel, Zipps√§ckc...</td>
      <td>Nicht-Lebensmittelverpackungen</td>
      <td>19</td>
      <td>0.14</td>
      <td>7</td>
    </tr>
    <tr>
      <th>G149</th>
      <td>Papierverpackungen</td>
      <td>Nicht-Lebensmittelverpackungen</td>
      <td>19</td>
      <td>0.14</td>
      <td>6</td>
    </tr>
    <tr>
      <th>G28</th>
      <td>Stifte, Deckel, Druckbleistifte usw.</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>19</td>
      <td>0.14</td>
      <td>9</td>
    </tr>
    <tr>
      <th>G34</th>
      <td>Besteck, Teller und Tabletts</td>
      <td>Essen und Trinken</td>
      <td>18</td>
      <td>0.13</td>
      <td>10</td>
    </tr>
    <tr>
      <th>G144</th>
      <td>Tampons</td>
      <td>Abwasser</td>
      <td>18</td>
      <td>0.13</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G7</th>
      <td>Getr√§nkeflaschen &lt; = 0,5 l</td>
      <td>Essen und Trinken</td>
      <td>18</td>
      <td>0.13</td>
      <td>9</td>
    </tr>
    <tr>
      <th>G158</th>
      <td>Sonstige Gegenst√§nde aus Papier</td>
      <td>Nicht-Lebensmittelverpackungen</td>
      <td>17</td>
      <td>0.12</td>
      <td>5</td>
    </tr>
    <tr>
      <th>G148</th>
      <td>Kartonkisten und St√ºcke</td>
      <td>Nicht-Lebensmittelverpackungen</td>
      <td>16</td>
      <td>0.12</td>
      <td>6</td>
    </tr>
    <tr>
      <th>G134</th>
      <td>Sonstiges Gummi</td>
      <td>nicht klassifiziert</td>
      <td>16</td>
      <td>0.12</td>
      <td>7</td>
    </tr>
    <tr>
      <th>G943</th>
      <td>Z√§une Landwirtschaft, Kunststoff</td>
      <td>Landwirtschaft</td>
      <td>15</td>
      <td>0.11</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G170</th>
      <td>Holz (verarbeitet)</td>
      <td>Landwirtschaft</td>
      <td>15</td>
      <td>0.11</td>
      <td>7</td>
    </tr>
    <tr>
      <th>G194</th>
      <td>Kabel, Metalldraht oft in Gummi- oder Kunststo...</td>
      <td>Infrastruktur</td>
      <td>15</td>
      <td>0.11</td>
      <td>8</td>
    </tr>
    <tr>
      <th>G101</th>
      <td>Robidog Hundekot-S√§cklein, andere Hundekots√§ck...</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>14</td>
      <td>0.10</td>
      <td>7</td>
    </tr>
    <tr>
      <th>G142</th>
      <td>Seil, Schnur oder Netze</td>
      <td>Freizeit und Erholung</td>
      <td>14</td>
      <td>0.10</td>
      <td>6</td>
    </tr>
    <tr>
      <th>G161</th>
      <td>Verarbeitetes Holz</td>
      <td>Landwirtschaft</td>
      <td>13</td>
      <td>0.09</td>
      <td>5</td>
    </tr>
    <tr>
      <th>G59</th>
      <td>Monofile Angelschnur (Angeln)</td>
      <td>Freizeit und Erholung</td>
      <td>13</td>
      <td>0.09</td>
      <td>7</td>
    </tr>
    <tr>
      <th>G939</th>
      <td>Kunststoffblumen, Kunststoffpflanzen</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>12</td>
      <td>0.09</td>
      <td>5</td>
    </tr>
    <tr>
      <th>G167</th>
      <td>Streichh√∂lzer oder Feuerwerke</td>
      <td>Freizeit und Erholung</td>
      <td>12</td>
      <td>0.09</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G124</th>
      <td>Kunststoff-oder Schaumstoffprodukte</td>
      <td>nicht klassifiziert</td>
      <td>11</td>
      <td>0.08</td>
      <td>5</td>
    </tr>
    <tr>
      <th>G146</th>
      <td>Papier, Karton</td>
      <td>Nicht-Lebensmittelverpackungen</td>
      <td>11</td>
      <td>0.08</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G931</th>
      <td>(Absperr)band f√ºr Absperrungen, Polizei, Baust...</td>
      <td>Infrastruktur</td>
      <td>11</td>
      <td>0.08</td>
      <td>4</td>
    </tr>
    <tr>
      <th>G115</th>
      <td>Schaumstoff &lt;5mm</td>
      <td>Mikroplastik (&lt; 5mm)</td>
      <td>10</td>
      <td>0.07</td>
      <td>5</td>
    </tr>
    <tr>
      <th>G919</th>
      <td>N√§gel, Schrauben, Bolzen usw.</td>
      <td>Infrastruktur</td>
      <td>10</td>
      <td>0.07</td>
      <td>4</td>
    </tr>
    <tr>
      <th>G901</th>
      <td>Medizinische Masken, synthetische</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>10</td>
      <td>0.07</td>
      <td>6</td>
    </tr>
    <tr>
      <th>G933</th>
      <td>Taschen, Etuis f√ºr Zubeh√∂r, Brillen, Elektroni...</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>10</td>
      <td>0.07</td>
      <td>5</td>
    </tr>
    <tr>
      <th>G65</th>
      <td>Eimer</td>
      <td>Landwirtschaft</td>
      <td>9</td>
      <td>0.06</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G155</th>
      <td>Feuerwerkspapierh√ºlsen und -fragmente</td>
      <td>Freizeit und Erholung</td>
      <td>9</td>
      <td>0.06</td>
      <td>6</td>
    </tr>
    <tr>
      <th>G2</th>
      <td>S√§cke, Taschen</td>
      <td>Nicht-Lebensmittelverpackungen</td>
      <td>9</td>
      <td>0.06</td>
      <td>3</td>
    </tr>
    <tr>
      <th>G921</th>
      <td>Keramikfliesen und Bruchst√ºcke</td>
      <td>Infrastruktur</td>
      <td>9</td>
      <td>0.06</td>
      <td>6</td>
    </tr>
    <tr>
      <th>G918</th>
      <td>Sicherheitsnadeln, B√ºroklammern, kleine Gebrau...</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>9</td>
      <td>0.06</td>
      <td>5</td>
    </tr>
    <tr>
      <th>G135</th>
      <td>Kleidung, Fussbekleidung, Kopfbedeckung, Hands...</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>9</td>
      <td>0.06</td>
      <td>5</td>
    </tr>
    <tr>
      <th>G20</th>
      <td>Laschen und Deckel</td>
      <td>Nicht-Lebensmittelverpackungen</td>
      <td>8</td>
      <td>0.06</td>
      <td>5</td>
    </tr>
    <tr>
      <th>G176</th>
      <td>Konservendosen (Lebensmitteldosen)</td>
      <td>Essen und Trinken</td>
      <td>8</td>
      <td>0.06</td>
      <td>4</td>
    </tr>
    <tr>
      <th>G133</th>
      <td>Kondome einschlie√ülich Verpackungen</td>
      <td>Abwasser</td>
      <td>8</td>
      <td>0.06</td>
      <td>5</td>
    </tr>
    <tr>
      <th>G917</th>
      <td>Bl√§hton</td>
      <td>nicht klassifiziert</td>
      <td>8</td>
      <td>0.06</td>
      <td>4</td>
    </tr>
    <tr>
      <th>G68</th>
      <td>Fiberglas-Fragmente</td>
      <td>Infrastruktur</td>
      <td>8</td>
      <td>0.06</td>
      <td>5</td>
    </tr>
    <tr>
      <th>G118</th>
      <td>Kleine Industrielle K√ºgelchen &lt;5mm</td>
      <td>Mikroplastik (&lt; 5mm)</td>
      <td>7</td>
      <td>0.05</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G122</th>
      <td>Kunststofffragmente (&gt;1mm)</td>
      <td>Mikroplastik (&lt; 5mm)</td>
      <td>7</td>
      <td>0.05</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G925</th>
      <td>Pakete: Trockenmittel/Feuchtigkeitsabsorber, m...</td>
      <td>Nicht-Lebensmittelverpackungen</td>
      <td>7</td>
      <td>0.05</td>
      <td>3</td>
    </tr>
    <tr>
      <th>G929</th>
      <td>Elektronik und Teile; Sensoren, Headsets usw.</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>6</td>
      <td>0.04</td>
      <td>3</td>
    </tr>
    <tr>
      <th>G49</th>
      <td>Seile &gt; 1cm</td>
      <td>Freizeit und Erholung</td>
      <td>6</td>
      <td>0.04</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G182</th>
      <td>Angeln; Haken, Gewichte, K√∂der, Senkblei, usw.</td>
      <td>Freizeit und Erholung</td>
      <td>6</td>
      <td>0.04</td>
      <td>3</td>
    </tr>
    <tr>
      <th>G38</th>
      <td>Abdeckungen; Kunststoffverpackungen, Folien zu...</td>
      <td>nicht klassifiziert</td>
      <td>6</td>
      <td>0.04</td>
      <td>3</td>
    </tr>
    <tr>
      <th>G938</th>
      <td>Zahnstocher, Zahnseide Kunststoff</td>
      <td>Essen und Trinken</td>
      <td>6</td>
      <td>0.04</td>
      <td>4</td>
    </tr>
    <tr>
      <th>G126</th>
      <td>B√§lle</td>
      <td>Freizeit und Erholung</td>
      <td>6</td>
      <td>0.04</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G36</th>
      <td>S√§cke aus strapazierf√§higem Kunststoff f√ºr 25 ...</td>
      <td>Landwirtschaft</td>
      <td>5</td>
      <td>0.04</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G64</th>
      <td>Kotfl√ºgel</td>
      <td>nicht klassifiziert</td>
      <td>5</td>
      <td>0.04</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G141</th>
      <td>Teppiche</td>
      <td>nicht klassifiziert</td>
      <td>5</td>
      <td>0.04</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G29</th>
      <td>K√§mme, B√ºrsten und Sonnenbrillen</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>5</td>
      <td>0.04</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G71</th>
      <td>Schuhe Sandalen</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>4</td>
      <td>0.03</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G104</th>
      <td>Kunststofffragmente abgerundet / rundlich  &lt;5m...</td>
      <td>Mikroplastik (&lt; 5mm)</td>
      <td>4</td>
      <td>0.03</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G926</th>
      <td>Kaugummi, enth√§lt oft Kunststoffe</td>
      <td>Essen und Trinken</td>
      <td>4</td>
      <td>0.03</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G103</th>
      <td>Kunststofffragmente rund &lt;5mm</td>
      <td>Mikroplastik (&lt; 5mm)</td>
      <td>4</td>
      <td>0.03</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G8</th>
      <td>Getr√§nkeflaschen &gt; 0,5L</td>
      <td>Essen und Trinken</td>
      <td>4</td>
      <td>0.03</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G913</th>
      <td>Schnuller</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>4</td>
      <td>0.03</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G930</th>
      <td>Schaumstoff-Ohrst√∂psel</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>4</td>
      <td>0.03</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G119</th>
      <td>Folienartiger Kunststoff (&gt;1mm)</td>
      <td>Mikroplastik (&lt; 5mm)</td>
      <td>4</td>
      <td>0.03</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G11</th>
      <td>Kosmetika f√ºr den Strand, z.B. Sonnencreme</td>
      <td>Freizeit und Erholung</td>
      <td>4</td>
      <td>0.03</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G157</th>
      <td>Papier</td>
      <td>Nicht-Lebensmittelverpackungen</td>
      <td>4</td>
      <td>0.03</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G197</th>
      <td>sonstiges Metall</td>
      <td>Infrastruktur</td>
      <td>4</td>
      <td>0.03</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G37</th>
      <td>Netzbeutel, Netztasche, Netzs√§cke</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>4</td>
      <td>0.03</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G145</th>
      <td>Andere Textilien</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>4</td>
      <td>0.03</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G6</th>
      <td>Flaschen und Beh√§lter aus Kunststoff, nicht f√º...</td>
      <td>Nicht-Lebensmittelverpackungen</td>
      <td>3</td>
      <td>0.02</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G151</th>
      <td>Tetrapack, Kartons</td>
      <td>Essen und Trinken</td>
      <td>3</td>
      <td>0.02</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G945</th>
      <td>Rasierklingen</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>3</td>
      <td>0.02</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G99</th>
      <td>Spritzen - Nadeln</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>3</td>
      <td>0.02</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G143</th>
      <td>Segel und Segeltuch</td>
      <td>Freizeit und Erholung</td>
      <td>3</td>
      <td>0.02</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G12</th>
      <td>Kosmetika, Beh√§lter f√ºr K√∂rperpflegeprodukte, ...</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>3</td>
      <td>0.02</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G102</th>
      <td>Flip-Flops</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>2</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G154</th>
      <td>Zeitungen oder Zeitschriften</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>2</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G129</th>
      <td>Schl√§uche und Gummiplatten</td>
      <td>nicht klassifiziert</td>
      <td>2</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G181</th>
      <td>Geschirr aus Metall, Tassen, Besteck usw.</td>
      <td>Essen und Trinken</td>
      <td>2</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G188</th>
      <td>Andere Kanister/Beh√§lter &lt; 4 L</td>
      <td>Infrastruktur</td>
      <td>2</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G195</th>
      <td>Batterien (Haushalt)</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>2</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G202</th>
      <td>Gl√ºhbirnen</td>
      <td>nicht klassifiziert</td>
      <td>2</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G111</th>
      <td>Kugelf√∂rmige Pellets &lt; 5mm</td>
      <td>Mikroplastik (&lt; 5mm)</td>
      <td>2</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G174</th>
      <td>Aerosolspraydosen</td>
      <td>Infrastruktur</td>
      <td>2</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G136</th>
      <td>Schuhe</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>2</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G43</th>
      <td>Sicherheitsetiketten, Siegel f√ºr Fischerei ode...</td>
      <td>Freizeit und Erholung</td>
      <td>2</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G915</th>
      <td>Reflektoren, Mobilit√§tsartikel aus Kunststoff</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>2</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G916</th>
      <td>Bleistifte und Bruchst√ºcke</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>2</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G39</th>
      <td>Handschuhe</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>2</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G52</th>
      <td>Netze und Teilst√ºcke</td>
      <td>Freizeit und Erholung</td>
      <td>2</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G53</th>
      <td>Netze und Teilst√ºcke &lt; 50cm</td>
      <td>Freizeit und Erholung</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G17</th>
      <td>Kartuschen von Kartuschen-spritzpistolen</td>
      <td>Infrastruktur</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G902</th>
      <td>Medizinische Masken, Stoff</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G900</th>
      <td>Handschuhe Latex, pers√∂nliche Schutzausr√ºstung</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G13</th>
      <td>Flaschen, Beh√§lter, F√§sser zum Transportieren ...</td>
      <td>Landwirtschaft</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G150</th>
      <td>Milchkartons, Tetrapack</td>
      <td>Essen und Trinken</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G172</th>
      <td>Sonstiges Holz &gt; 50 cm</td>
      <td>Landwirtschaft</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G97</th>
      <td>Beh√§lter von Toilettenerfrischer</td>
      <td>Abwasser</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G60</th>
      <td>Lichtstab, Knicklicht, Glow-sticks</td>
      <td>Freizeit und Erholung</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G84</th>
      <td>CD oder CD-H√ºlle</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G61</th>
      <td>Sonstiges Angelzubeh√∂r</td>
      <td>Freizeit und Erholung</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G171</th>
      <td>Sonstiges Holz &lt; 50cm</td>
      <td>Landwirtschaft</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G14</th>
      <td>Flaschen f√ºr Motor√∂l (Motor√∂lflaschen)</td>
      <td>nicht klassifiziert</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G94</th>
      <td>Tischtuch</td>
      <td>Freizeit und Erholung</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G903</th>
      <td>Beh√§lter und Packungen f√ºr Handdesinfektionsmi...</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G179</th>
      <td>Einweg Grill</td>
      <td>Essen und Trinken</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G934</th>
      <td>Sands√§cke, Kunststoff f√ºr Hochwasser- und Eros...</td>
      <td>Landwirtschaft</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G128</th>
      <td>Reifen und Antriebsriemen</td>
      <td>nicht klassifiziert</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G138</th>
      <td>Schuhe und Sandalen</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G5</th>
      <td>Plastiks√§cke/ Plastikt√ºten</td>
      <td>Nicht-Lebensmittelverpackungen</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G190</th>
      <td>Farbt√∂pfe, Farbb√ºchsen,  ( Farbeimer)</td>
      <td>Infrastruktur</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G41</th>
      <td>Handschuhe Industriell/Professionell</td>
      <td>Landwirtschaft</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G107</th>
      <td>Zylindrische Pellets &lt;5mm</td>
      <td>Mikroplastik (&lt; 5mm)</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G214</th>
      <td>√ñl/Teer</td>
      <td>Infrastruktur</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G114</th>
      <td>Folien &lt;5mm</td>
      <td>Mikroplastik (&lt; 5mm)</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G40</th>
      <td>Handschuhe Haushalt/Garten</td>
      <td>Pers√∂nliche Gegenst√§nde</td>
      <td>1</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="alpes_valaisannes_rev_de.html" title="zur√ºck Seite">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">zur√ºck</p>
            <p class="prev-next-title"><span class="section-number">2. </span>Alpen und der Jura</p>
        </div>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    <div class="extra_footer">
      <p>
   Im Auftrag des Bundesamtes f√ºr Umwelt (BAFU), ¬© 2021
</p>

    </div>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>