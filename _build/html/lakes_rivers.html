
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1. Lakes and rivers</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.e8e5499552300ddf5d7adccae7cc3b70.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="2. The Alps and the Jura" href="alpes_valaisannes.html" />
    <link rel="prev" title="Executive summary" href="esummary.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      <img src="_static/iqaaslogo.png" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="titlepage.html">
   Identification, quantification and Analysis of Observable Anthropogenic Litter Along Swiss Freshwater Systems
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Summary
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   Foreword
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="esummary.html">
   Executive summary
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Survey results
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   1. Lakes and rivers
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="alpes_valaisannes.html">
   2. The Alps and the Jura
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Survey areas
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="aare_sa.html">
   3. Aare survey area
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="linth_sa.html">
   4. Linth survey area
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="rhone_sa.html">
   5. Rhône survey area
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ticino_sa.html">
   6. Ticino survey area
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Lakes
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="bielersee.html">
   7. Bielersee
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lac_leman.html">
   8. Lac Léman
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="neuenburgersee.html">
   9. Neuenburgersee
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="maggiore_lugano.html">
   10. Maggiore/Lugano
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="thunersee_brienzersee.html">
   11. Thunersee/Brienzersee
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="walensee.html">
   12. Walensee
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="zurichsee.html">
   13. Zurichsee
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Understand
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="baselines.html">
   14. Beach litter baselines
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="key_indicators.html">
   15. Key statistical indicators
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="code_groups.html">
   16. Code groups
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="land_use_correlation.html">
   17. The land use profile
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="references.html">
   18. Reading
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Application
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="reuse_remake.html">
   19. Recycle and remake
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="shared_responsibility.html">
   20. Shared responsibility
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="slr_2017.html">
   21. More and less since 2018
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/lakes_rivers.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/hammerdirt-analyst/IQAASL-End-0f-Sampling-2021"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/hammerdirt-analyst/IQAASL-End-0f-Sampling-2021/issues/new?title=Issue%20on%20page%20%2Flakes_rivers.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/hammerdirt-analyst/IQAASL-End-0f-Sampling-2021/main?urlpath=tree/docs/lakes_rivers.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#land-use-profile">
   1.1. Land use profile
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#cumulative-totals-by-survey-area">
   1.2. Cumulative totals by survey area
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#survey-results-all-objects">
   1.3. Survey results all objects
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-most-common-objects">
   1.4. The most common objects
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#survey-results-and-land-use">
   1.5. Survey results and land use
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#utility-of-the-objects-found">
   1.6. Utility of the objects found
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rivers">
   1.7. Rivers
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#annex">
   1.8. Annex
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fragmented-foams-and-plastics-by-size-group">
     1.8.1. Fragmented foams and plastics by size group
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#organizations">
     1.8.2. Organizations:
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#municipalities-lakes-and-rivers-with-surveys">
     1.8.3. Municipalities, lakes and rivers with surveys
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># sys, file and nav packages:</span>
<span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="nn">dt</span>

<span class="c1"># math packages:</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">stats</span>
<span class="kn">from</span> <span class="nn">statsmodels.distributions.empirical_distribution</span> <span class="kn">import</span> <span class="n">ECDF</span>

<span class="c1"># charting:</span>
<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.dates</span> <span class="k">as</span> <span class="nn">mdates</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">ticker</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">colors</span>
<span class="kn">from</span> <span class="nn">matplotlib.colors</span> <span class="kn">import</span> <span class="n">LinearSegmentedColormap</span>
<span class="kn">from</span> <span class="nn">matplotlib.gridspec</span> <span class="kn">import</span> <span class="n">GridSpec</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># home brew utitilties</span>
<span class="kn">import</span> <span class="nn">resources.sr_ut</span> <span class="k">as</span> <span class="nn">sut</span>
<span class="kn">import</span> <span class="nn">resources.chart_kwargs</span> <span class="k">as</span> <span class="nn">ck</span>

<span class="c1"># images and display</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span> <span class="k">as</span> <span class="n">PILImage</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Markdown</span> <span class="k">as</span> <span class="n">md</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span>

<span class="kn">from</span> <span class="nn">myst_nb</span> <span class="kn">import</span> <span class="n">glue</span>

<span class="c1"># set some parameters:</span>
<span class="n">start_date</span> <span class="o">=</span> <span class="s2">&quot;2020-03-01&quot;</span>
<span class="n">end_date</span> <span class="o">=</span><span class="s2">&quot;2021-05-31&quot;</span>
<span class="n">start_end</span> <span class="o">=</span> <span class="p">[</span><span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">]</span>
<span class="n">a_fail_rate</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">unit_label</span> <span class="o">=</span> <span class="s2">&quot;p/100m&quot;</span>
<span class="n">reporting_unit</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">a_color</span> <span class="o">=</span> <span class="s2">&quot;dodgerblue&quot;</span>

<span class="c1"># colors for gradients and charts</span>
<span class="n">cmap2</span> <span class="o">=</span> <span class="n">ck</span><span class="o">.</span><span class="n">cmap2</span>
<span class="n">colors_palette</span> <span class="o">=</span> <span class="n">ck</span><span class="o">.</span><span class="n">colors_palette</span>

<span class="c1"># colors for the individual survey areas</span>
<span class="n">bassin_pallette</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;rhone&quot;</span><span class="p">:</span><span class="s2">&quot;dimgray&quot;</span><span class="p">,</span> <span class="s2">&quot;aare&quot;</span><span class="p">:</span><span class="s2">&quot;salmon&quot;</span><span class="p">,</span> <span class="s2">&quot;linth&quot;</span><span class="p">:</span><span class="s2">&quot;tan&quot;</span><span class="p">,</span> <span class="s2">&quot;ticino&quot;</span><span class="p">:</span><span class="s2">&quot;steelblue&quot;</span><span class="p">,</span> <span class="s2">&quot;reuss&quot;</span><span class="p">:</span><span class="s2">&quot;purple&quot;</span><span class="p">}</span>

<span class="c1"># set the maps</span>
<span class="n">bassin_map</span> <span class="o">=</span> <span class="n">PILImage</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;resources/maps/lakes_rivers_map.jpeg&quot;</span><span class="p">)</span>

<span class="c1"># define the feature level and components</span>
<span class="n">this_level</span> <span class="o">=</span> <span class="s2">&quot;river_bassin&quot;</span>
<span class="n">comps</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;linth&quot;</span><span class="p">,</span> <span class="s2">&quot;rhone&quot;</span><span class="p">,</span> <span class="s2">&quot;aare&quot;</span><span class="p">,</span> <span class="s2">&quot;ticino&quot;</span><span class="p">]</span>

<span class="c1"># proper labels for charts and tables</span>
<span class="n">comp_labels</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;linth&quot;</span><span class="p">:</span><span class="s2">&quot;Linth/Limmat&quot;</span><span class="p">,</span> <span class="s2">&quot;rhone&quot;</span><span class="p">:</span><span class="s2">&quot;Rhône&quot;</span><span class="p">,</span> <span class="s2">&quot;aare&quot;</span><span class="p">:</span><span class="s2">&quot;Aare&quot;</span><span class="p">,</span> <span class="s2">&quot;ticino&quot;</span><span class="p">:</span><span class="s2">&quot;Ticino/Cerisio&quot;</span><span class="p">,</span> <span class="s2">&quot;reuss&quot;</span><span class="p">:</span><span class="s2">&quot;Reuss&quot;</span><span class="p">}</span>
<span class="n">top_name</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;All survey areas&quot;</span><span class="p">]</span>
<span class="c1"># comp_palette = {&quot;Linth/Limmat&quot;:&quot;dimgray&quot;, &quot;Rhône&quot;:&quot;tan&quot;, &quot;Aare&quot;:&quot;salmon&quot;, &quot;Ticino/Cerisio&quot;:&quot;steelblue&quot;, &quot;Reuss&quot;:&quot;purple&quot;}</span>

<span class="c1"># common aggregations</span>
<span class="n">agg_pcs_quantity</span> <span class="o">=</span> <span class="p">{</span><span class="n">unit_label</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">}</span>
<span class="n">agg_pcs_median</span> <span class="o">=</span> <span class="p">{</span><span class="n">unit_label</span><span class="p">:</span><span class="s2">&quot;median&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">}</span>

<span class="c1"># aggregation of dimensional data</span>
<span class="n">agg_dims</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;total_w&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;mac_plast_w&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;area&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">}</span>

<span class="c1"># columns needed</span>
<span class="n">use_these_cols</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;loc_date&quot;</span> <span class="p">,</span>
                  <span class="s2">&quot;% buildings&quot;</span><span class="p">,</span>
                  <span class="s2">&quot;% to trans&quot;</span><span class="p">,</span> 
                  <span class="s2">&quot;</span><span class="si">% r</span><span class="s2">ecreation&quot;</span><span class="p">,</span>
                  <span class="s2">&quot;</span><span class="si">% a</span><span class="s2">g&quot;</span><span class="p">,</span>
                  <span class="s2">&quot;% woods&quot;</span><span class="p">,</span>
                  <span class="s2">&quot;population&quot;</span><span class="p">,</span>
                  <span class="n">this_level</span><span class="p">,</span>
                  <span class="s2">&quot;water_name_slug&quot;</span><span class="p">,</span>
                  <span class="s2">&quot;streets km&quot;</span><span class="p">,</span>
                  <span class="s2">&quot;intersects&quot;</span><span class="p">,</span>
                  <span class="s2">&quot;length&quot;</span><span class="p">,</span>
                  <span class="s2">&quot;groupname&quot;</span><span class="p">,</span>
                  <span class="s2">&quot;code&quot;</span>
                 <span class="p">]</span>

<span class="c1"># get the data:</span>
<span class="n">dfBeaches</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;resources/beaches_with_land_use_rates.csv&quot;</span><span class="p">)</span>
<span class="n">dfCodes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;resources/codes_with_group_names_2015.csv&quot;</span><span class="p">)</span>
<span class="n">dfDims</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;resources/corrected_dims.csv&quot;</span><span class="p">)</span>

<span class="c1"># set the index of the beach data to location slug</span>
<span class="n">dfBeaches</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;slug&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># make any adjustments to code definitions here:</span>
<span class="n">dfCodes</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># the surveyor designated the object as aluminum instead of metal</span>
<span class="n">dfCodes</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;G708&quot;</span><span class="p">,</span> <span class="s2">&quot;material&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Metal&quot;</span>

<span class="c1"># make a map to the code descriptions</span>
<span class="n">code_description_map</span> <span class="o">=</span> <span class="n">dfCodes</span><span class="o">.</span><span class="n">description</span>

<span class="c1"># make a map to the code materials</span>
<span class="n">code_material_map</span> <span class="o">=</span> <span class="n">dfCodes</span><span class="o">.</span><span class="n">material</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="lakes-and-rivers">
<span id="allsurveys"></span><h1><span class="section-number">1. </span>Lakes and rivers<a class="headerlink" href="#lakes-and-rivers" title="Permalink to this headline">¶</a></h1>
<p>Map of survey locations IQAASL April 2020 - May 2021.</p>
<div class="cell tag_hide-input tag_remove-input tag_remove-output docutils container">
</div>
<div class="figure align-default" id="eosmap" style="width: 800px">
<img alt="_images/lakes_rivers_map.jpeg" src="_images/lakes_rivers_map.jpeg" />
<p class="caption"><span class="caption-number">Fig. 1.1 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#eosmap" title="Permalink to this image">¶</a></p>
</div>
<p><a class="reference internal" href="#eosmap"><span class="std std-numref">Figure 1.1</span></a>: The survey locations were grouped by survey area for analysis. The size of the marker is set by the median survey total for that location.</p>
<div class="section" id="land-use-profile">
<h2><span class="section-number">1.1. </span>Land use profile<a class="headerlink" href="#land-use-profile" title="Permalink to this headline">¶</a></h2>
<p>The survey areas are grouped by river catchment systems, this report combines several catchment areas for analysis of regional trends:</p>
<ol class="simple">
<li><p>Aare : Emme, Aare</p></li>
<li><p>Linth/Limmat : Reuss, Linth, Limmat</p></li>
<li><p>Rhône: Rhône</p></li>
<li><p>Ticino/Cerisio : Ticino, Lago di Lugano, Laggo Maggiore</p></li>
</ol>
<p>The land use profile is the percent of total area attributed to each land use category within a 1500m radius of each survey location.</p>
<ol class="simple">
<li><p>% of land attributed to buildings</p></li>
<li><p>% of land attributed to agriculture</p></li>
<li><p>% of land attributed to forestry</p></li>
<li><p>% of land attributed to recreation</p></li>
</ol>
<p>Streets are reported as the total number of kilometers of streets within the 1500m radius. Intersects are an ordinal ranking of the number of rivers/canals that intersect a lake within 1500m of the survey location.</p>
<p>The ratio of the number of samples completed at the different land use profiles is an indicator of the environmental and economic conditions that the samples were taken in.</p>
<p><strong>Distribution of land use characteristics</strong></p>
<div class="cell tag_hide-input tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># this is the data before the expanded fragmented plastics and foams are aggregated to Gfrags and Gfoams</span>
<span class="n">before_agg</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;resources/checked_before_agg_sdata_eos_2020_21.csv&quot;</span><span class="p">)</span>
<span class="n">before_agg</span><span class="p">[</span><span class="s2">&quot;loc_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">before_agg</span><span class="o">.</span><span class="n">location</span><span class="p">,</span> <span class="n">before_agg</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]))</span>

<span class="c1"># this is the aggregated survey data that is being used</span>
<span class="n">fd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">F</span><span class="s2">&quot;resources/checked_sdata_eos_2020_21.csv&quot;</span><span class="p">)</span>
<span class="n">fd</span><span class="p">[</span><span class="s2">&quot;loc_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="p">,</span> <span class="n">fd</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]))</span>

<span class="n">fd</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;% to agg&quot;</span><span class="p">:</span><span class="s2">&quot;</span><span class="si">% a</span><span class="s2">g&quot;</span><span class="p">,</span> <span class="s2">&quot;% to recreation&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">% r</span><span class="s2">ecreation&quot;</span><span class="p">,</span> <span class="s2">&quot;% to woods&quot;</span><span class="p">:</span><span class="s2">&quot;% woods&quot;</span><span class="p">,</span> <span class="s2">&quot;% to buildings&quot;</span><span class="p">:</span><span class="s2">&quot;% buildings&quot;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">luse_exp</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;% buildings&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% r</span><span class="s2">ecreation&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% a</span><span class="s2">g&quot;</span><span class="p">,</span> <span class="s2">&quot;% woods&quot;</span><span class="p">,</span> <span class="s2">&quot;streets km&quot;</span><span class="p">,</span> <span class="s2">&quot;intersects&quot;</span><span class="p">]</span>

<span class="c1"># this is the data before the expanded fragmented plastics and foams are aggregated to Gfrags and Gfoams</span>
<span class="n">before_agg</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;resources/checked_before_agg_sdata_eos_2020_21.csv&quot;</span><span class="p">)</span>
<span class="n">before_agg</span><span class="p">[</span><span class="s2">&quot;loc_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">before_agg</span><span class="o">.</span><span class="n">location</span><span class="p">,</span> <span class="n">before_agg</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]))</span>

<span class="c1"># this is the aggregated survey data that is being used</span>
<span class="n">fd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">F</span><span class="s2">&quot;resources/checked_sdata_eos_2020_21.csv&quot;</span><span class="p">)</span>
<span class="n">fd</span><span class="p">[</span><span class="s2">&quot;loc_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="p">,</span> <span class="n">fd</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]))</span>

<span class="c1"># [&quot;% to buildings&quot;, &quot;% to recreation&quot;, &quot;% to agg&quot;, &quot;% to woods&quot;, &quot;streets km&quot;, &quot;intersects&quot;]</span>
<span class="n">fd</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;% to agg&quot;</span><span class="p">:</span><span class="s2">&quot;</span><span class="si">% a</span><span class="s2">g&quot;</span><span class="p">,</span> <span class="s2">&quot;% to recreation&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">% r</span><span class="s2">ecreation&quot;</span><span class="p">,</span> <span class="s2">&quot;% to woods&quot;</span><span class="p">:</span><span class="s2">&quot;% woods&quot;</span><span class="p">,</span> <span class="s2">&quot;% to buildings&quot;</span><span class="p">:</span><span class="s2">&quot;% buildings&quot;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">luse_exp</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;% buildings&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% r</span><span class="s2">ecreation&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% a</span><span class="s2">g&quot;</span><span class="p">,</span> <span class="s2">&quot;% woods&quot;</span><span class="p">,</span> <span class="s2">&quot;streets km&quot;</span><span class="p">,</span> <span class="s2">&quot;intersects&quot;</span><span class="p">]</span>
<span class="c1"># cumulative statistics for each code</span>
<span class="n">code_totals</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">the_aggregated_object_values</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="n">agg</span><span class="o">=</span><span class="n">agg_pcs_median</span><span class="p">,</span> <span class="n">description_map</span><span class="o">=</span><span class="n">code_description_map</span><span class="p">,</span> <span class="n">material_map</span><span class="o">=</span><span class="n">code_material_map</span><span class="p">)</span>    

<span class="n">dt_nw</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">use_these_cols</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="n">unit_label</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">})</span>

<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">&quot;whitegrid&quot;</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">luse_exp</span><span class="p">),</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">luse_exp</span><span class="p">):</span>
    <span class="c1"># get the dist for each survey area here</span>
    <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">comps</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">the_data</span> <span class="o">=</span> <span class="n">ECDF</span><span class="p">(</span><span class="n">dt_nw</span><span class="p">[</span><span class="n">dt_nw</span><span class="p">[</span><span class="n">this_level</span><span class="p">]</span> <span class="o">==</span> <span class="n">element</span><span class="p">][</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
        <span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">the_data</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">the_data</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">comp_labels</span><span class="p">[</span><span class="n">element</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">bassin_pallette</span><span class="p">[</span><span class="n">element</span><span class="p">])</span>
    
    <span class="c1"># get the dist for all here</span>
    <span class="n">a_all_surveys</span> <span class="o">=</span>  <span class="n">ECDF</span><span class="p">(</span><span class="n">dt_nw</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">a_all_surveys</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">a_all_surveys</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;All surveys&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;magenta&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
 
    <span class="c1"># get the median from the data</span>
    <span class="n">the_median</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">dt_nw</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
    
    <span class="c1"># plot the median and drop horzontal and vertical lines</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">([</span><span class="n">the_median</span><span class="p">],</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;the median&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">vlines</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">the_median</span><span class="p">,</span> <span class="n">ymin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span><span class="n">xmax</span><span class="o">=</span><span class="n">the_median</span><span class="p">,</span> <span class="n">xmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    
    <span class="c1"># format the % of total on the xaxis:</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>            
            <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Ratio of samples&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">ticker</span><span class="o">.</span><span class="n">PercentFormatter</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;%&quot;</span><span class="p">))</span>        
    <span class="k">else</span><span class="p">:</span>
        <span class="k">pass</span>
    
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k</span><span class="p">)</span>
    <span class="n">handles</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">F</span><span class="s2">&quot;median: </span><span class="si">{</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">the_median</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span>       
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="n">glue</span><span class="p">(</span><span class="s2">&quot;eosluse&quot;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>  
</pre></div>
</div>
</div>
</div>
<div class="figure align-default" id="eos-luse">
<div class="cell_output docutils container">
<img alt="_images/lakes_rivers_7_0.png" src="_images/lakes_rivers_7_0.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 1.2 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#eos-luse" title="Permalink to this image">¶</a></p>
</div>
<p><a class="reference internal" href="#eos-luse"><span class="std std-numref">Figure 1.2:</span></a> The survey locations in the Rhône and Linth/Limmat survey areas had the greatest median amount of land attributed to buildings at 47% and 40% and the least amount attributed to woods at 5% and 8% respectively. The Aare survey area had the lowest median amount of land attributed to buildings at 16% and the greatest amount of land attributed to agriculture at 30%. The land attributed to recreation represents sports fields, public beaches and other public gathering places.</p>
</div>
<div class="section" id="cumulative-totals-by-survey-area">
<h2><span class="section-number">1.2. </span>Cumulative totals by survey area<a class="headerlink" href="#cumulative-totals-by-survey-area" title="Permalink to this headline">¶</a></h2>
<p>The survey result totals are aggregated for each survey area</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># aggregate the dimensional data</span>
<span class="n">dims_parameters</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">this_level</span><span class="o">=</span><span class="n">this_level</span><span class="p">,</span> 
                       <span class="n">locations</span><span class="o">=</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">(),</span> 
                       <span class="n">start_end</span><span class="o">=</span><span class="n">start_end</span><span class="p">,</span> 
                       <span class="n">agg_dims</span><span class="o">=</span><span class="n">agg_dims</span><span class="p">)</span>

<span class="n">dims_table</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">gather_dimensional_data</span><span class="p">(</span><span class="n">dfDims</span><span class="p">,</span> <span class="o">**</span><span class="n">dims_parameters</span><span class="p">)</span>

<span class="n">dt_all</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;location&quot;</span><span class="p">,</span><span class="n">this_level</span><span class="p">,</span> <span class="s2">&quot;city&quot;</span><span class="p">,</span><span class="s2">&quot;date&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="n">unit_label</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">})</span>

<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">dims_table</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
    <span class="n">dims_table</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;samples&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fd</span><span class="p">[</span><span class="n">fd</span><span class="p">[</span><span class="n">this_level</span><span class="p">]</span> <span class="o">==</span> <span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">loc_date</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
    <span class="n">dims_table</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">]</span> <span class="o">=</span><span class="n">fd</span><span class="p">[</span><span class="n">fd</span><span class="p">[</span><span class="n">this_level</span><span class="p">]</span> <span class="o">==</span> <span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># add proper names for display</span>
<span class="n">dims_table</span><span class="p">[</span><span class="s2">&quot;Survey area&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dims_table</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">comp_labels</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<span class="n">dims_table</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;Survey area&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
   
<span class="c1"># get the sum of all survey areas</span>
<span class="n">dims_table</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;All survey areas&quot;</span><span class="p">]</span><span class="o">=</span> <span class="n">dims_table</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">numeric_only</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># for display</span>
<span class="n">dims_table</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">dims_table</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;samples&quot;</span><span class="p">:</span><span class="s2">&quot;samples&quot;</span><span class="p">,</span><span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;items&quot;</span><span class="p">,</span> <span class="s2">&quot;total_w&quot;</span><span class="p">:</span><span class="s2">&quot;total kg&quot;</span><span class="p">,</span> <span class="s2">&quot;mac_plast_w&quot;</span><span class="p">:</span><span class="s2">&quot;plastic kg&quot;</span><span class="p">,</span> <span class="s2">&quot;area&quot;</span><span class="p">:</span><span class="s2">&quot;m²&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">:</span><span class="s2">&quot;meters&quot;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># format kilos and text strings</span>
<span class="n">dims_table</span><span class="p">[</span><span class="s2">&quot;plastic kg&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dims_table</span><span class="p">[</span><span class="s2">&quot;plastic kg&quot;</span><span class="p">]</span><span class="o">/</span><span class="mi">1000</span>
<span class="n">dims_table</span><span class="p">[[</span><span class="s2">&quot;m²&quot;</span><span class="p">,</span> <span class="s2">&quot;meters&quot;</span><span class="p">,</span> <span class="s2">&quot;samples&quot;</span><span class="p">,</span> <span class="s2">&quot;items&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">dims_table</span><span class="p">[[</span><span class="s2">&quot;m²&quot;</span><span class="p">,</span> <span class="s2">&quot;meters&quot;</span><span class="p">,</span> <span class="s2">&quot;samples&quot;</span><span class="p">,</span> <span class="s2">&quot;items&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:,}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
<span class="n">dims_table</span><span class="p">[[</span><span class="s2">&quot;plastic kg&quot;</span><span class="p">,</span> <span class="s2">&quot;total kg&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">dims_table</span><span class="p">[[</span><span class="s2">&quot;plastic kg&quot;</span><span class="p">,</span> <span class="s2">&quot;total kg&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>

<span class="c1"># figure caption</span>
<span class="n">agg_caption</span> <span class="o">=</span> <span class="sa">F</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">*</span><span class="si">{</span><span class="n">top_name</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">: table of results. The cumulative weights and measures for each survey area.*</span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="n">md</span><span class="p">(</span><span class="n">agg_caption</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<p><em>All survey areas: table of results. The cumulative weights and measures for each survey area.</em></p>
</div>
</div>
<div class="cell tag_hide-input tag_remove-input tag_remove-output docutils container">
</div>
<div class="figure align-default" id="eos-summary-sarea">
<div class="cell_output docutils container">
<img alt="_images/lakes_rivers_11_1.png" src="_images/lakes_rivers_11_1.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 1.3 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#eos-summary-sarea" title="Permalink to this image">¶</a></p>
</div>
<p><a class="reference internal" href="#eos-summary-sarea"><span class="std std-numref">Figure 1.3:</span></a> Dimensional result totals for all survey areas. The Aare survey area had the greatest number of samples and the least number of total objects collected.</p>
</div>
<div class="section" id="survey-results-all-objects">
<h2><span class="section-number">1.3. </span>Survey results all objects<a class="headerlink" href="#survey-results-all-objects" title="Permalink to this headline">¶</a></h2>
<p><strong>Distribution of survey results</strong></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># the surveys to chart</span>
<span class="n">dt_all</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">dt_all</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">],</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">fd_n_samps</span> <span class="o">=</span> <span class="n">dt_all</span><span class="o">.</span><span class="n">loc_date</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">fd_dindex</span> <span class="o">=</span> <span class="n">dt_all</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;date&quot;</span><span class="p">)</span>

<span class="c1"># monthly median survey total</span>
<span class="n">monthly_plot</span> <span class="o">=</span> <span class="n">fd_dindex</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s2">&quot;M&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>

<span class="c1"># scale the chart as needed to accomodate for extreme values</span>
<span class="n">y_lim</span> <span class="o">=</span> <span class="mi">95</span>
<span class="n">y_limit</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">dt_all</span><span class="p">[</span><span class="n">unit_label</span><span class="p">],</span> <span class="n">y_lim</span><span class="p">)</span>

<span class="c1"># figure caption</span>
<span class="c1"># chart_notes = F&quot;&quot;&quot;</span>
<span class="c1"># *__Left:__ {top_name[0]}, {start_date[:7]} through {end_date[:7]}, n={fd_n_samps}. {not_included}*</span>
<span class="c1"># &quot;&quot;&quot;</span>
<span class="c1"># md(chart_notes )</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># months locator, can be confusing</span>
<span class="c1"># https://matplotlib.org/stable/api/dates_api.html</span>
<span class="n">months_loc</span> <span class="o">=</span> <span class="n">mdates</span><span class="o">.</span><span class="n">MonthLocator</span><span class="p">(</span><span class="n">interval</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">months_fmt</span> <span class="o">=</span> <span class="n">mdates</span><span class="o">.</span><span class="n">DateFormatter</span><span class="p">(</span><span class="s2">&quot;%b&quot;</span><span class="p">)</span>
<span class="c1"># days = mdates.DayLocator(interval=7)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>

<span class="n">rate</span> <span class="o">=</span> <span class="s2">&quot;Monthly&quot;</span>

<span class="n">line_label</span> <span class="o">=</span> <span class="s2">&quot;monthly median&quot;</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">fd_dindex</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="n">this_level</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="n">bassin_pallette</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">monthly_plot</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">monthly_plot</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">monthly_plot</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;magenta&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">line_label</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">y_limit</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>

<span class="c1"># ax.xaxis.set_minor_locator(days)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">months_fmt</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>

<span class="n">axtwo</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">lake_dts</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="n">this_level</span><span class="p">,</span> <span class="s2">&quot;loc_date&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">a_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">fd</span><span class="p">[</span><span class="n">this_level</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()):</span>
    <span class="n">label</span><span class="o">=</span><span class="n">comp_labels</span><span class="p">[</span><span class="n">a_name</span><span class="p">]</span>
    
    <span class="n">a_ecdf</span> <span class="o">=</span> <span class="n">ECDF</span><span class="p">(</span><span class="n">lake_dts</span><span class="p">[</span><span class="n">lake_dts</span><span class="p">[</span><span class="n">this_level</span><span class="p">]</span> <span class="o">==</span> <span class="n">a_name</span><span class="p">][</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
    
    <span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">a_ecdf</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">a_ecdf</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">bassin_pallette</span><span class="p">[</span><span class="n">a_name</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">axtwo</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">)</span>

<span class="n">r_bassin</span> <span class="o">=</span> <span class="n">ECDF</span><span class="p">(</span><span class="n">dt_all</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">r_bassin</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">r_bassin</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;magenta&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">top_name</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axtwo</span><span class="p">)</span>
<span class="n">axtwo</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>
<span class="n">axtwo</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Ratio of samples&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="n">glue</span><span class="p">(</span><span class="s2">&quot;eosscatter&quot;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="figure align-default" id="eos-scatter">
<div class="cell_output docutils container">
<img alt="_images/lakes_rivers_15_0.png" src="_images/lakes_rivers_15_0.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 1.4 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#eos-scatter" title="Permalink to this image">¶</a></p>
</div>
<p><a class="reference internal" href="#eos-scatter"><span class="std std-numref">Figure 1.4:</span></a> <strong>Left;</strong>  All survey totals from 2020-03 through 2021-05 grouped by survey area and aggregated to the monthly median. Values greater than 2324.3p/100m are not shown. <strong>Right:</strong>  The empirical cumulative distribution of the survey totals.</p>
<p><strong>Summary data and material types</strong></p>
<div class="cell tag_remove-input tag_remove-output docutils container">
</div>
<div class="cell tag_hide-input tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># get the basic statistics from pd.describe</span>
<span class="n">cs</span> <span class="o">=</span> <span class="n">dt_all</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># add project totals</span>
<span class="n">cs</span><span class="p">[</span><span class="s2">&quot;total objects&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dt_all</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># change the names</span>
<span class="n">csx</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">change_series_index_labels</span><span class="p">(</span><span class="n">cs</span><span class="p">,</span> <span class="n">sut</span><span class="o">.</span><span class="n">create_summary_table_index</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s2">&quot;EN&quot;</span><span class="p">))</span>

<span class="n">combined_summary</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">fmt_combined_summary</span><span class="p">(</span><span class="n">csx</span><span class="p">,</span> <span class="n">nf</span><span class="o">=</span><span class="p">[])</span>

<span class="n">fd_mat_totals</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">the_ratio_object_to_total</span><span class="p">(</span><span class="n">code_totals</span><span class="p">)</span>
<span class="n">fd_mat_totals</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">fmt_pct_of_total</span><span class="p">(</span><span class="n">fd_mat_totals</span><span class="p">)</span>
<span class="n">fd_mat_totals</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_string_format</span><span class="p">(</span><span class="n">fd_mat_totals</span><span class="p">)</span>

<span class="c1"># applly new column names for printing</span>
<span class="n">cols_to_use</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;material&quot;</span><span class="p">:</span><span class="s2">&quot;Material&quot;</span><span class="p">,</span><span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;Quantity&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">:</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">}</span>
<span class="n">fd_mat_t</span> <span class="o">=</span> <span class="n">fd_mat_totals</span><span class="p">[</span><span class="n">cols_to_use</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># make tables</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>

<span class="c1"># summary table</span>
<span class="c1"># names for the table columns</span>
<span class="n">a_col</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;All survey areas&quot;</span><span class="p">,</span> <span class="s2">&quot;total&quot;</span><span class="p">]</span>

<span class="n">axone</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">axone</span><span class="p">)</span>

<span class="n">table_two</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_a_table</span><span class="p">(</span><span class="n">axone</span><span class="p">,</span> <span class="n">combined_summary</span><span class="p">,</span>  <span class="n">colLabels</span><span class="o">=</span><span class="n">a_col</span><span class="p">,</span> <span class="n">colWidths</span><span class="o">=</span><span class="p">[</span><span class="mf">.5</span><span class="p">,</span><span class="mf">.25</span><span class="p">,</span><span class="mf">.25</span><span class="p">],</span>  <span class="n">bbox</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="o">**</span><span class="p">{</span><span class="s2">&quot;loc&quot;</span><span class="p">:</span><span class="s2">&quot;lower center&quot;</span><span class="p">})</span>
<span class="n">table_two</span><span class="o">.</span><span class="n">get_celld</span><span class="p">()[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>

<span class="c1"># material table</span>
<span class="n">axtwo</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">axtwo</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">axtwo</span><span class="p">)</span>

<span class="n">table_three</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_a_table</span><span class="p">(</span><span class="n">axtwo</span><span class="p">,</span> <span class="n">fd_mat_t</span><span class="p">,</span>  <span class="n">colLabels</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">cols_to_use</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span> <span class="n">colWidths</span><span class="o">=</span><span class="p">[</span><span class="mf">.4</span><span class="p">,</span> <span class="mf">.3</span><span class="p">,</span><span class="mf">.3</span><span class="p">],</span>  <span class="n">bbox</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="o">**</span><span class="p">{</span><span class="s2">&quot;loc&quot;</span><span class="p">:</span><span class="s2">&quot;lower center&quot;</span><span class="p">})</span>
<span class="n">table_three</span><span class="o">.</span><span class="n">get_celld</span><span class="p">()[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="n">glue</span><span class="p">(</span><span class="s2">&quot;summarymaterial&quot;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="figure align-default" id="summarymaterial">
<div class="cell_output docutils container">
<img alt="_images/lakes_rivers_19_0.png" src="_images/lakes_rivers_19_0.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 1.5 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#summarymaterial" title="Permalink to this image">¶</a></p>
</div>
<p><a class="reference internal" href="#summarymaterial"><span class="std std-numref">Figure 1.5:</span></a> <strong>Left:</strong> Summary of survey totals for all survey areas. <strong>Right:</strong>     Material type and percent of total for all survey areas.</p>
<div class="cell tag_remove-input docutils container">
</div>
</div>
<div class="section" id="the-most-common-objects">
<h2><span class="section-number">1.4. </span>The most common objects<a class="headerlink" href="#the-most-common-objects" title="Permalink to this headline">¶</a></h2>
<p>The most common objects are the <strong>ten most abundant by quantity AND/OR objects identified in at least 50% of all surveys</strong>.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># the top ten by quantity</span>
<span class="n">most_abundant</span> <span class="o">=</span> <span class="n">code_totals</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>

<span class="c1"># the most common</span>
<span class="n">most_common</span> <span class="o">=</span> <span class="n">code_totals</span><span class="p">[</span><span class="n">code_totals</span><span class="p">[</span><span class="s2">&quot;fail rate&quot;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">a_fail_rate</span> <span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># merge with most_common and drop duplicates</span>
<span class="n">m_common</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">most_abundant</span><span class="p">,</span> <span class="n">most_common</span><span class="p">])</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>

<span class="c1"># get percent of total</span>
<span class="n">m_common_percent_of_total</span> <span class="o">=</span> <span class="n">m_common</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">/</span><span class="n">code_totals</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># format values for table</span>
<span class="n">m_common</span><span class="p">[</span><span class="s2">&quot;item&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">m_common</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">code_description_map</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<span class="n">m_common</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">m_common</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
<span class="n">m_common</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">m_common</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:,}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="n">m_common</span><span class="p">[</span><span class="s2">&quot;fail rate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">m_common</span><span class="p">[</span><span class="s2">&quot;fail rate&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
<span class="n">m_common</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span> <span class="o">=</span> <span class="n">m_common</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># # figure caption</span>
<span class="c1"># rb_string = F&quot;&quot;&quot;</span>
<span class="c1"># {top_name[0]} most common objects: fail rate &gt;/= {a_fail_rate}%  and/or top ten by quantity.</span>

<span class="c1"># *Combined, the most abundant objects represent {int(m_common_percent_of_total*100)}% of all objects found.*</span>

<span class="c1"># Note : {unit_label} = median survey value.</span>
<span class="c1"># &quot;&quot;&quot;</span>
<span class="c1"># md(rb_string)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_remove-output tag_remove-input docutils container">
</div>
<div class="figure align-default" id="mcommon-eos">
<div class="cell_output docutils container">
<img alt="_images/lakes_rivers_24_1.png" src="_images/lakes_rivers_24_1.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 1.6 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#mcommon-eos" title="Permalink to this image">¶</a></p>
</div>
<p><a class="reference internal" href="#mcommon-eos"><span class="std std-numref">Figure 1.6:</span></a>      The most common objects for all survey areas. The fail rate is the number of times an object was identified with respect to the number of surveys. Combined, the most common objects represent 68% of total objects found.</p>
<p><strong>Most common objects median p/100m by survey area</strong></p>
<div class="cell tag_remove-input tag_remove-output docutils container">
</div>
<div class="cell tag_hide-input tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># aggregated survey totals for the most common codes for all the survey areas</span>
<span class="c1"># aggregate the code totals by survey and then get the median value per survey</span>
<span class="n">m_common_st</span> <span class="o">=</span> <span class="n">fd</span><span class="p">[</span><span class="n">fd</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">m_common</span><span class="o">.</span><span class="n">index</span><span class="p">)]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="n">this_level</span><span class="p">,</span> <span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;code&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_quantity</span><span class="p">)</span>
<span class="n">m_common_ft</span> <span class="o">=</span> <span class="n">m_common_st</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="n">this_level</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>

<span class="c1"># proper name of water feature for display</span>
<span class="n">m_common_ft</span><span class="p">[</span><span class="s2">&quot;f_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">m_common_ft</span><span class="p">[</span><span class="n">this_level</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">comp_labels</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>

<span class="c1"># map the desctiption to the code</span>
<span class="n">m_common_ft</span><span class="p">[</span><span class="s2">&quot;item&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">m_common_ft</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">code_description_map</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>

<span class="c1"># pivot that</span>
<span class="n">m_c_p</span> <span class="o">=</span> <span class="n">m_common_ft</span><span class="p">[[</span><span class="s2">&quot;item&quot;</span><span class="p">,</span> <span class="n">unit_label</span><span class="p">,</span> <span class="s2">&quot;f_name&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;f_name&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s2">&quot;item&quot;</span><span class="p">)</span>

<span class="c1"># quash the hierarchal column index</span>
<span class="n">m_c_p</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">m_c_p</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># the aggregated totals of all the data</span>
<span class="n">a_s_a</span> <span class="o">=</span> <span class="n">fd</span><span class="p">[</span><span class="n">fd</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">m_common</span><span class="o">.</span><span class="n">index</span><span class="p">)]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;water_name_slug&quot;</span><span class="p">,</span> <span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_quantity</span><span class="p">)</span>
<span class="n">a_s_a_cols</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">aggregate_to_code</span><span class="p">(</span><span class="n">a_s_a</span><span class="p">,</span> <span class="n">code_description_map</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="n">top_name</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="n">ad_t_ten</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">m_c_p</span><span class="p">,</span> <span class="n">a_s_a_cols</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="n">top_name</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># chart that</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span>  <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ad_t_ten</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="o">*</span><span class="mf">.9</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ad_t_ten</span><span class="p">)</span><span class="o">*</span><span class="mf">.9</span><span class="p">))</span>
<span class="n">axone</span> <span class="o">=</span> <span class="n">ax</span>

<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">ad_t_ten</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axone</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap2</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">annot_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;fontsize&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">},</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;.1f&quot;</span><span class="p">,</span> <span class="n">square</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cbar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">.1</span><span class="p">,</span> <span class="n">linecolor</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>

<span class="n">axone</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="n">axone</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">glue</span><span class="p">(</span><span class="s2">&quot;mcommonpcs&quot;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="figure align-default" id="mcommon-pcs">
<div class="cell_output docutils container">
<img alt="_images/lakes_rivers_28_1.png" src="_images/lakes_rivers_28_1.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 1.7 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#mcommon-pcs" title="Permalink to this image">¶</a></p>
</div>
<p><a class="reference internal" href="#mcommon-pcs"><span class="std std-numref">Figure 1.7:</span></a>     The median p/100m of the most common objects for all survey areas. The rates at which the most common objects are identified are different for each survey area.</p>
<p><strong>Most common objects monthly average</strong></p>
<div class="cell tag_hide-input tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># collect the survey results of the most common objects</span>
<span class="n">m_common_m</span> <span class="o">=</span> <span class="n">fd</span><span class="p">[(</span><span class="n">fd</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">m_common</span><span class="o">.</span><span class="n">index</span><span class="p">))]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;date&quot;</span><span class="p">,</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="s2">&quot;groupname&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_quantity</span><span class="p">)</span>
<span class="n">m_common_m</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">m_common_m</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">],</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">m_common_m</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># m_common_m.index = pd.to_datetime(m_common_m.in)</span>

<span class="c1"># set the order of the chart, group the codes by groupname columns</span>
<span class="n">an_order</span> <span class="o">=</span> <span class="n">m_common_m</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;code&quot;</span><span class="p">,</span><span class="s2">&quot;groupname&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;groupname&quot;</span><span class="p">)[</span><span class="s2">&quot;code&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># a manager dict for the monthly results of each code</span>
<span class="n">mgr</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c1"># get the monhtly results for each code:</span>
<span class="k">for</span> <span class="n">a_group</span> <span class="ow">in</span> <span class="n">an_order</span><span class="p">:</span>
    <span class="c1"># resample by month</span>
    <span class="n">a_plot</span> <span class="o">=</span> <span class="n">m_common_m</span><span class="p">[(</span><span class="n">m_common_m</span><span class="o">.</span><span class="n">code</span><span class="o">==</span><span class="n">a_group</span><span class="p">)][</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s2">&quot;M&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">this_group</span> <span class="o">=</span> <span class="p">{</span><span class="n">a_group</span><span class="p">:</span><span class="n">a_plot</span><span class="p">}</span>
    <span class="n">mgr</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">this_group</span><span class="p">)</span>

<span class="c1"># monthly_mc = F&quot;&quot;&quot;</span>
<span class="c1"># *{top_name[0]}, monthly average survey result {unit_label}*</span>

<span class="c1"># *Detail of the most common objects*</span>
<span class="c1"># &quot;&quot;&quot;</span>
<span class="c1"># md(monthly_mc)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">months</span><span class="o">=</span><span class="p">{</span>
    <span class="mi">0</span><span class="p">:</span><span class="s2">&quot;Jan&quot;</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">:</span><span class="s2">&quot;Feb&quot;</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">:</span><span class="s2">&quot;Mar&quot;</span><span class="p">,</span>
    <span class="mi">3</span><span class="p">:</span><span class="s2">&quot;Apr&quot;</span><span class="p">,</span>
    <span class="mi">4</span><span class="p">:</span><span class="s2">&quot;May&quot;</span><span class="p">,</span>
    <span class="mi">5</span><span class="p">:</span><span class="s2">&quot;Jun&quot;</span><span class="p">,</span>
    <span class="mi">6</span><span class="p">:</span><span class="s2">&quot;Jul&quot;</span><span class="p">,</span>
    <span class="mi">7</span><span class="p">:</span><span class="s2">&quot;Aug&quot;</span><span class="p">,</span>
    <span class="mi">8</span><span class="p">:</span><span class="s2">&quot;Sep&quot;</span><span class="p">,</span>
    <span class="mi">9</span><span class="p">:</span><span class="s2">&quot;Oct&quot;</span><span class="p">,</span>
    <span class="mi">10</span><span class="p">:</span><span class="s2">&quot;Nov&quot;</span><span class="p">,</span>
    <span class="mi">11</span><span class="p">:</span><span class="s2">&quot;Dec&quot;</span>
<span class="p">}</span>

<span class="c1"># convenience function to lable x axis</span>
<span class="k">def</span> <span class="nf">new_month</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">11</span><span class="p">:</span>
        <span class="n">this_month</span> <span class="o">=</span> <span class="n">x</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">this_month</span><span class="o">=</span><span class="n">x</span><span class="o">-</span><span class="mi">12</span>    
    <span class="k">return</span> <span class="n">this_month</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">7</span><span class="p">))</span>

<span class="c1"># define a bottom</span>
<span class="n">bottom</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">mgr</span><span class="p">[</span><span class="s2">&quot;G27&quot;</span><span class="p">])</span>

<span class="c1"># the monhtly survey average for all objects and locations</span>
<span class="n">monthly_fd</span> <span class="o">=</span> <span class="n">dt_all</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">monthly_fd</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">m_fd</span> <span class="o">=</span> <span class="n">monthly_fd</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s2">&quot;M&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># define the xaxis</span>
<span class="n">this_x</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">x</span> <span class="ow">in</span>  <span class="nb">enumerate</span><span class="p">(</span><span class="n">m_fd</span><span class="o">.</span><span class="n">index</span><span class="p">)]</span>

<span class="c1"># plot the monthly total survey average</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">this_x</span><span class="p">,</span> <span class="n">m_fd</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(),</span> <span class="n">color</span><span class="o">=</span><span class="n">a_color</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;teal&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Monthly survey average&quot;</span><span class="p">)</span> 

<span class="c1"># plot the monthly survey average of the most common objects</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">a_group</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">an_order</span><span class="p">):</span> 
    
    <span class="c1"># define the axis</span>
    <span class="n">this_x</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">x</span> <span class="ow">in</span>  <span class="nb">enumerate</span><span class="p">(</span><span class="n">mgr</span><span class="p">[</span><span class="n">a_group</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">)]</span>
    
    <span class="c1"># collect the month</span>
    <span class="n">this_month</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">month</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">mgr</span><span class="p">[</span><span class="n">a_group</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">)]</span>
    
    <span class="c1"># if i == 0 laydown the first bars</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">this_x</span><span class="p">,</span> <span class="n">mgr</span><span class="p">[</span><span class="n">a_group</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(),</span> <span class="n">label</span><span class="o">=</span><span class="n">a_group</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors_palette</span><span class="p">[</span><span class="n">a_group</span><span class="p">],</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span> <span class="p">)</span> 
    <span class="c1"># else use the previous results to define the bottom</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">bottom</span> <span class="o">+=</span> <span class="n">mgr</span><span class="p">[</span><span class="n">an_order</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>        
        <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">this_x</span><span class="p">,</span> <span class="n">mgr</span><span class="p">[</span><span class="n">a_group</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(),</span> <span class="n">bottom</span><span class="o">=</span><span class="n">bottom</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">a_group</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors_palette</span><span class="p">[</span><span class="n">a_group</span><span class="p">],</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
        
<span class="c1"># collect the handles and labels from the legend</span>
<span class="n">handles</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>

<span class="c1"># set the location of the x ticks</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">ticker</span><span class="o">.</span><span class="n">FixedLocator</span><span class="p">([</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">this_x</span><span class="p">))]))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>

<span class="c1"># label the xticks by month</span>
<span class="n">axisticks</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_xticks</span><span class="p">()</span>
<span class="n">labelsx</span> <span class="o">=</span> <span class="p">[</span><span class="n">months</span><span class="p">[</span><span class="n">new_month</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span>  <span class="n">this_month</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">ticks</span><span class="o">=</span><span class="n">axisticks</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labelsx</span><span class="p">)</span>

<span class="c1"># make the legend</span>
<span class="c1"># swap out codes for descriptions</span>
<span class="n">new_labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">code_description_map</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">labels</span><span class="p">[</span><span class="mi">1</span><span class="p">:]]</span>
<span class="n">new_labels</span> <span class="o">=</span> <span class="n">new_labels</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="c1"># insert a label for the monthly average</span>
<span class="n">new_labels</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;Monthly survey average&quot;</span><span class="p">)</span>
<span class="n">handles</span> <span class="o">=</span> <span class="p">[</span><span class="n">handles</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="o">*</span><span class="n">handles</span><span class="p">[</span><span class="mi">1</span><span class="p">:][::</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
    
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="o">=</span><span class="n">handles</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">new_labels</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper left&quot;</span><span class="p">,</span>  <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">glue</span><span class="p">(</span><span class="s2">&quot;monthlyeos&quot;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="figure align-default" id="monthly-eos">
<div class="cell_output docutils container">
<img alt="_images/lakes_rivers_32_0.png" src="_images/lakes_rivers_32_0.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 1.8 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#monthly-eos" title="Permalink to this image">¶</a></p>
</div>
<p><a class="reference internal" href="#monthly-eos"><span class="std std-numref">Figure 1.8:</span></a> Monthly average survey result as p/100m of the most common objects for all survey areas.</p>
</div>
<div class="section" id="survey-results-and-land-use">
<h2><span class="section-number">1.5. </span>Survey results and land use<a class="headerlink" href="#survey-results-and-land-use" title="Permalink to this headline">¶</a></h2>
<p>The survey results with respect to land use at the national level are discussed in detail in <a class="reference internal" href="land_use_correlation.html#luseprofile"><span class="std std-ref">The land use profile</span></a> and <a class="reference internal" href="shared_responsibility.html#transport"><span class="std std-ref">Shared responsibility</span></a>.</p>
</div>
<div class="section" id="utility-of-the-objects-found">
<h2><span class="section-number">1.6. </span>Utility of the objects found<a class="headerlink" href="#utility-of-the-objects-found" title="Permalink to this headline">¶</a></h2>
<p>The utility type is based on the utilization of the object prior to it being discarded or item description if the original use is undetermined. Identified objects are classified into one of the predefined categories. The categories are grouped according to utilization or item description.</p>
<ul class="simple">
<li><p><strong>wastewater</strong>: items released from water treatment plants includes items likely toilet flushed</p></li>
<li><p><strong>micro plastics (&lt; 5mm)</strong>: fragmented plastics and pre-production plastic resins</p></li>
<li><p><strong>infrastructure</strong>: items related to construction and maintenance of buildings, roads and water/power supplies</p></li>
<li><p><strong>food and drink</strong>: all materials related to consuming food and drink</p></li>
<li><p><strong>agriculture</strong>: primarily industrial sheeting i.e., mulch and row covers, greenhouses, soil fumigation, bale wraps. Includes hard plastics for agricultural fencing, flowerpots etc.</p></li>
<li><p><strong>tobacco</strong>: primarily cigarette filters, includes all smoking related material</p></li>
<li><p><strong>recreation</strong>: objects related to sports and leisure i.e., fishing, hunting, hiking etc.</p></li>
<li><p><strong>packaging non food and drink</strong>: packaging material not identified as food, drink nor tobacco related</p></li>
<li><p><strong>plastic fragments</strong>: plastic pieces of undetermined origin or use</p></li>
<li><p><strong>personal items</strong>: accessories, hygiene and clothing related</p></li>
</ul>
<p>See the annex for the complete list of objects identified, includes descriptions and group classification. The section <a class="reference internal" href="code_groups.html#codegroups"><span class="std std-ref">Code groups</span></a> describes each code group in detail and provides a comprehensive list of all objects in a group.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<p>All survey areas utility of objects found % of total by survey area. Fragmented objects with no clear identification remain classified by size:</p>
</div>
</div>
<div class="cell tag_hide-input tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># code groups aggregated by survey for each survey area</span>
<span class="n">groups</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;groupname&quot;</span><span class="p">]</span>
<span class="n">cg_t</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="n">this_level</span><span class="p">,</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;groupname&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_quantity</span><span class="p">)</span>

<span class="c1"># get the fail rates for each group per survey</span>
<span class="n">cg_t</span><span class="p">[</span><span class="s2">&quot;fail&quot;</span><span class="p">]</span><span class="o">=</span><span class="kc">False</span>
<span class="n">cg_t</span><span class="p">[</span><span class="s2">&quot;fail&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cg_t</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

<span class="c1"># aggregate all that for each survey area</span>
<span class="n">cg_t</span> <span class="o">=</span> <span class="n">cg_t</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="n">this_level</span><span class="p">,</span> <span class="s2">&quot;groupname&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="n">unit_label</span><span class="p">:</span><span class="s2">&quot;median&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;fail&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;loc_date&quot;</span><span class="p">:</span><span class="s2">&quot;nunique&quot;</span><span class="p">})</span>

<span class="c1"># quantity per water survey area</span>
<span class="n">cg_tq</span> <span class="o">=</span> <span class="n">cg_t</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">this_level</span><span class="p">)</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># assign survey area total to each record</span>
<span class="k">for</span> <span class="n">a_feature</span> <span class="ow">in</span> <span class="n">cg_tq</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
    <span class="n">cg_t</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">cg_t</span><span class="p">[</span><span class="n">this_level</span><span class="p">]</span> <span class="o">==</span> <span class="n">a_feature</span><span class="p">,</span> <span class="s2">&quot;f_total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cg_tq</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">a_feature</span><span class="p">]</span>

<span class="c1"># get the percent of total for each group for each survey area</span>
<span class="n">cg_t</span><span class="p">[</span><span class="s2">&quot;pt&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">cg_t</span><span class="o">.</span><span class="n">quantity</span><span class="o">/</span><span class="n">cg_t</span><span class="o">.</span><span class="n">f_total</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># pivot that</span>
<span class="n">data_table</span> <span class="o">=</span> <span class="n">cg_t</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">this_level</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s2">&quot;groupname&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s2">&quot;pt&quot;</span><span class="p">)</span>

<span class="c1"># repeat for all the data</span>
<span class="n">a_s_a</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;water_name_slug&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">groups</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_quantity</span><span class="p">)</span>
<span class="n">a_s_a_cols</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">aggregate_to_group_name</span><span class="p">(</span><span class="n">a_s_a</span><span class="p">,</span> <span class="n">unit_label</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s2">&quot;groupname&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">top_name</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;pt&quot;</span><span class="p">)</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data_table</span><span class="p">,</span> <span class="n">a_s_a_cols</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="n">x</span><span class="p">:</span><span class="n">comp_labels</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

<span class="n">axone</span> <span class="o">=</span> <span class="n">ax</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">data</span> <span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axone</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap2</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">annot_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;fontsize&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">},</span> <span class="n">cbar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;.0%&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">.1</span><span class="p">,</span> <span class="n">square</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">linecolor</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>

<span class="n">axone</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">labeltop</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">labelbottom</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="n">axone</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="n">axone</span><span class="o">.</span><span class="n">get_yticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">glue</span><span class="p">(</span><span class="s2">&quot;utility&quot;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="figure align-default" id="utility-eos">
<div class="cell_output docutils container">
<img alt="_images/lakes_rivers_37_0.png" src="_images/lakes_rivers_37_0.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 1.9 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#utility-eos" title="Permalink to this image">¶</a></p>
</div>
<p><a class="reference internal" href="#utility-eos"><span class="std std-numref">Figure 1.9:</span></a> The utility of objects as a % of total for all the survey areas.</p>
<div class="cell tag_hide-input tag_remove-input tag_remove-output docutils container">
</div>
<p><strong>Utility of objects as p/100m</strong></p>
<div class="cell tag_hide-input tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># median p/50m solve cg_t for unit_label</span>
<span class="n">data_table</span> <span class="o">=</span> <span class="n">cg_t</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">this_level</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s2">&quot;groupname&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="n">unit_label</span><span class="p">)</span>

<span class="c1"># column for all the data</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;groupname&quot;</span><span class="p">,</span> <span class="s2">&quot;loc_date&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">a</span><span class="p">[</span><span class="n">top_name</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;groupname&quot;</span><span class="p">)[</span><span class="n">top_name</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>

<span class="c1"># stick that together</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data_table</span><span class="p">,</span> <span class="n">a</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># format for display</span>
<span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="n">x</span><span class="p">:</span><span class="n">comp_labels</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

<span class="n">axone</span> <span class="o">=</span> <span class="n">ax</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">data</span> <span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axone</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap2</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">annot_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;fontsize&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">},</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;g&quot;</span><span class="p">,</span> <span class="n">cbar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">.1</span><span class="p">,</span> <span class="n">square</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">linecolor</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>

<span class="n">axone</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">labeltop</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">labelbottom</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="n">axone</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="n">axone</span><span class="o">.</span><span class="n">get_yticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>

<span class="n">glue</span><span class="p">(</span><span class="s2">&quot;utility2&quot;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="figure align-default" id="utility2-eos">
<div class="cell_output docutils container">
<img alt="_images/lakes_rivers_41_0.png" src="_images/lakes_rivers_41_0.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 1.10 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#utility2-eos" title="Permalink to this image">¶</a></p>
</div>
<p><a class="reference internal" href="#utility2-eos"><span class="std std-numref">Figure 1.10:</span></a> The Rhône survey area has the highest median values for the most common objects. However, as a percentage of total, abundant items related to tobacco, food and drink are less than infrastructure related objects.</p>
</div>
<div class="section" id="rivers">
<h2><span class="section-number">1.7. </span>Rivers<a class="headerlink" href="#rivers" title="Permalink to this headline">¶</a></h2>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rivers</span> <span class="o">=</span> <span class="n">fd</span><span class="p">[</span><span class="n">fd</span><span class="o">.</span><span class="n">w_t</span> <span class="o">==</span> <span class="s2">&quot;r&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">r_smps</span> <span class="o">=</span> <span class="n">rivers</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="s2">&quot;water_name_slug&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_quantity</span><span class="p">)</span>
<span class="n">l_smps</span> <span class="o">=</span> <span class="n">fd</span><span class="p">[</span><span class="n">fd</span><span class="o">.</span><span class="n">w_t</span> <span class="o">==</span> <span class="s2">&quot;l&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;date&quot;</span><span class="p">,</span><span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="s2">&quot;water_name_slug&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_quantity</span><span class="p">)</span>


<span class="c1"># chart_notes = F&quot;&quot;&quot;</span>
<span class="c1"># *__Left:__ {top_name[0]} rivers, {start_date[:7]} through {end_date[:7]}, n={len(r_smps.loc_date.unique())}. {not_included}</span>
<span class="c1"># __Right:__ Summary data.*</span>
<span class="c1"># &quot;&quot;&quot;</span>
<span class="c1"># md(chart_notes )</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cs</span> <span class="o">=</span> <span class="n">r_smps</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># add project totals</span>
<span class="n">cs</span><span class="p">[</span><span class="s2">&quot;total objects&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">r_smps</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># change the names</span>
<span class="n">csx</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">change_series_index_labels</span><span class="p">(</span><span class="n">cs</span><span class="p">,</span> <span class="n">sut</span><span class="o">.</span><span class="n">create_summary_table_index</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s2">&quot;EN&quot;</span><span class="p">))</span>

<span class="n">combined_summary</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">fmt_combined_summary</span><span class="p">(</span><span class="n">csx</span><span class="p">,</span> <span class="n">nf</span><span class="o">=</span><span class="p">[])</span>

<span class="c1"># make the charts</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>

<span class="n">aspec</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_gridspec</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">aspec</span><span class="p">[:,</span> <span class="p">:</span><span class="mi">6</span><span class="p">])</span>

<span class="n">line_label</span> <span class="o">=</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">rate</span><span class="si">}</span><span class="s2"> median:</span><span class="si">{</span><span class="n">top_name</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">l_smps</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Lake surveys&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">r_smps</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">34</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;River surveys&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="n">y_limit</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">months_loc</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">months_fmt</span><span class="p">)</span>

<span class="n">a_col</span> <span class="o">=</span> <span class="p">[</span><span class="n">top_name</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;total&quot;</span><span class="p">]</span>

<span class="n">axone</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">aspec</span><span class="p">[:,</span> <span class="mi">7</span><span class="p">:])</span>
<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">axone</span><span class="p">)</span>

<span class="n">table_five</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_a_table</span><span class="p">(</span><span class="n">axone</span><span class="p">,</span> <span class="n">combined_summary</span><span class="p">,</span>  <span class="n">colLabels</span><span class="o">=</span><span class="n">a_col</span><span class="p">,</span> <span class="n">colWidths</span><span class="o">=</span><span class="p">[</span><span class="mf">.5</span><span class="p">,</span><span class="mf">.25</span><span class="p">,</span><span class="mf">.25</span><span class="p">],</span>  <span class="n">bbox</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="o">**</span><span class="p">{</span><span class="s2">&quot;loc&quot;</span><span class="p">:</span><span class="s2">&quot;lower center&quot;</span><span class="p">})</span>
<span class="n">table_five</span><span class="o">.</span><span class="n">get_celld</span><span class="p">()[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>

<span class="c1"># a_table = axone.table(cellText=combined_summary[:-1],  colLabels=a_col, colWidths=[.5,.25,.25], loc=&quot;lower center&quot;, bbox=[0,0,1,1])</span>
<span class="c1"># the_material_table_data = sut.make_a_summary_table(a_table,combined_summary[:-1],a_col, s_et_bottom_row=False)</span>

<span class="n">glue</span><span class="p">(</span><span class="s2">&quot;rivers&quot;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="figure align-default" id="riversx">
<div class="cell_output docutils container">
<img alt="_images/lakes_rivers_45_0.png" src="_images/lakes_rivers_45_0.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 1.11 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#riversx" title="Permalink to this image">¶</a></p>
</div>
<p><a class="reference internal" href="#riversx"><span class="std std-numref">Figure 1.11:</span></a> <em>Left</em> All survey areas river survey totals, 2020-03 through 2021-05, n=55. Values greater than 2324.3p/100m 98% not shown. <em>Right:</em> Summary data.</p>
<p><strong>Most common objects</strong></p>
<div class="cell tag_hide-input tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># the most common items rivers</span>
<span class="n">r_codes</span> <span class="o">=</span> <span class="n">rivers</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;code&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;fail&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="n">unit_label</span><span class="p">:</span><span class="s2">&quot;median&quot;</span><span class="p">})</span>
<span class="n">r_codes</span><span class="p">[</span><span class="s2">&quot;fail rate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">r_codes</span><span class="o">.</span><span class="n">fail</span><span class="o">/</span><span class="n">r_smps</span><span class="o">.</span><span class="n">loc_date</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># top ten</span>
<span class="n">r_byq</span> <span class="o">=</span> <span class="n">r_codes</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>

<span class="c1"># most common</span>
<span class="n">r_byfail</span> <span class="o">=</span> <span class="n">r_codes</span><span class="p">[</span><span class="n">r_codes</span><span class="p">[</span><span class="s2">&quot;fail rate&quot;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">a_fail_rate</span><span class="p">]</span>
<span class="n">r_common</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">r_byq</span><span class="p">)</span> <span class="o">|</span> <span class="nb">set</span><span class="p">(</span><span class="n">r_byfail</span><span class="p">))</span>

<span class="n">r_mc</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">r_byfail</span><span class="p">,</span> <span class="n">r_byq</span><span class="p">])</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>
<span class="c1"># format for display</span>
<span class="n">r_mc</span><span class="p">[</span><span class="s2">&quot;item&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">r_mc</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">code_description_map</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<span class="n">r_mc</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">r_mc</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span><span class="o">=</span><span class="p">((</span><span class="n">r_mc</span><span class="o">.</span><span class="n">quantity</span><span class="o">/</span><span class="n">r_codes</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">r_mc</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">r_mc</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
<span class="n">r_mc</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">r_mc</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:,}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="n">r_mc</span><span class="p">[</span><span class="s2">&quot;fail rate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">r_mc</span><span class="p">[</span><span class="s2">&quot;fail rate&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
<span class="n">r_mc</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span> <span class="o">=</span> <span class="n">r_mc</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">cols_to_use</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;item&quot;</span><span class="p">:</span><span class="s2">&quot;Item&quot;</span><span class="p">,</span><span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;Quantity&quot;</span><span class="p">}</span>
<span class="n">r_mc</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">cols_to_use</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">data</span><span class="o">=</span><span class="n">r_mc</span><span class="p">[[</span><span class="s2">&quot;Item&quot;</span><span class="p">,</span><span class="s2">&quot;Quantity&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">,</span> <span class="s2">&quot;fail rate&quot;</span><span class="p">,</span> <span class="n">unit_label</span><span class="p">]]</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">*</span><span class="mf">.8</span><span class="p">))</span>

<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">axs</span><span class="p">)</span>

<span class="n">table_six</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_a_table</span><span class="p">(</span><span class="n">axs</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>  <span class="n">colLabels</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">colWidths</span><span class="o">=</span><span class="p">[</span><span class="mf">.52</span><span class="p">,</span> <span class="mf">.12</span><span class="p">,</span><span class="mf">.12</span><span class="p">,</span><span class="mf">.12</span><span class="p">,</span> <span class="mf">.12</span><span class="p">],</span>  <span class="n">bbox</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="o">**</span><span class="p">{</span><span class="s2">&quot;loc&quot;</span><span class="p">:</span><span class="s2">&quot;lower center&quot;</span><span class="p">})</span>
<span class="n">table_six</span><span class="o">.</span><span class="n">get_celld</span><span class="p">()[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">glue</span><span class="p">(</span><span class="s2">&quot;rivers2&quot;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="figure align-default" id="rivers-2">
<div class="cell_output docutils container">
<img alt="_images/lakes_rivers_48_1.png" src="_images/lakes_rivers_48_1.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 1.12 </span><span class="caption-text"><code class="docutils literal notranslate"> </code></span><a class="headerlink" href="#rivers-2" title="Permalink to this image">¶</a></p>
</div>
<p><a class="reference internal" href="#rivers-2"><span class="std std-numref">Figure 1.12:</span></a> The most common objects from river surveys. Diapers - wipes and plastic bags are not present in the most common objects when lakes are considered.</p>
</div>
<div class="section" id="annex">
<h2><span class="section-number">1.8. </span>Annex<a class="headerlink" href="#annex" title="Permalink to this headline">¶</a></h2>
<div class="section" id="fragmented-foams-and-plastics-by-size-group">
<h3><span class="section-number">1.8.1. </span>Fragmented foams and plastics by size group<a class="headerlink" href="#fragmented-foams-and-plastics-by-size-group" title="Permalink to this headline">¶</a></h3>
<p>These are the components of Gfoam and Gfrags, objects labled “Expanded foams” are grouped with Gfoam the rest are grouped under Gfrags.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<p><em>All survey areas fragmented foams and plastics by size group.</em></p>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># collect the data before aggregating foams for all locations in the survye area</span>
<span class="c1"># group by loc_date and code</span>
<span class="c1"># Combine the different sizes of fragmented plastics and styrofoam</span>
<span class="c1"># the codes for the foams</span>
<span class="n">some_foams</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;G81&quot;</span><span class="p">,</span> <span class="s2">&quot;G82&quot;</span><span class="p">,</span> <span class="s2">&quot;G83&quot;</span><span class="p">,</span> <span class="s2">&quot;G74&quot;</span><span class="p">]</span>

<span class="c1"># the codes for the fragmented plastics</span>
<span class="n">some_frag_plas</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">before_agg</span><span class="p">[</span><span class="n">before_agg</span><span class="o">.</span><span class="n">groupname</span> <span class="o">==</span> <span class="s2">&quot;plastic pieces&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>

<span class="n">fd_frags_foams</span> <span class="o">=</span> <span class="n">before_agg</span><span class="p">[(</span><span class="n">before_agg</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="o">*</span><span class="n">some_frag_plas</span><span class="p">,</span> <span class="o">*</span><span class="n">some_foams</span><span class="p">]))</span><span class="o">&amp;</span><span class="p">(</span><span class="n">before_agg</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">()))]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;code&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_quantity</span><span class="p">)</span>
<span class="n">fd_frags_foams</span> <span class="o">=</span> <span class="n">fd_frags_foams</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;code&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="n">unit_label</span><span class="p">:</span><span class="s2">&quot;median&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">})</span>

<span class="c1"># add code description and format for printing</span>
<span class="n">fd_frags_foams</span><span class="p">[</span><span class="s2">&quot;item&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fd_frags_foams</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">code_description_map</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<span class="n">fd_frags_foams</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">fd_frags_foams</span><span class="o">.</span><span class="n">quantity</span><span class="o">/</span><span class="n">fd</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">fd_frags_foams</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fd_frags_foams</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
<span class="n">fd_frags_foams</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fd_frags_foams</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># table data</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">fd_frags_foams</span><span class="p">[[</span><span class="s2">&quot;item&quot;</span><span class="p">,</span><span class="n">unit_label</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]]</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="o">*</span><span class="mf">2.1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">*</span><span class="mf">.8</span><span class="p">))</span>
<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">axs</span><span class="p">)</span>

<span class="n">table_seven</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_a_table</span><span class="p">(</span><span class="n">axs</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>  <span class="n">colLabels</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">colWidths</span><span class="o">=</span><span class="p">[</span><span class="mf">.6</span><span class="p">,</span> <span class="mf">.13</span><span class="p">,</span> <span class="mf">.13</span><span class="p">,</span> <span class="mf">.13</span><span class="p">],</span><span class="n">a_color</span><span class="o">=</span><span class="n">a_color</span><span class="p">)</span>
<span class="n">table_seven</span><span class="o">.</span><span class="n">get_celld</span><span class="p">()[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>


<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/lakes_rivers_52_0.png" src="_images/lakes_rivers_52_0.png" />
</div>
</div>
</div>
<div class="section" id="organizations">
<h3><span class="section-number">1.8.2. </span>Organizations:<a class="headerlink" href="#organizations" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p>Precious Plastic Léman</p></li>
<li><p>Association pour la Sauvegarde du Léman</p></li>
<li><p>Geneva international School</p></li>
<li><p>Solid waste engineering: École polytechnique fédéral Lausanne</p></li>
<li><p>Summit foundation</p></li>
<li><p>University of Raperswill</p></li>
<li><p>Hackuarium</p></li>
</ol>
</div>
<div class="section" id="municipalities-lakes-and-rivers-with-surveys">
<h3><span class="section-number">1.8.3. </span>Municipalities, lakes and rivers with surveys<a class="headerlink" href="#municipalities-lakes-and-rivers-with-surveys" title="Permalink to this headline">¶</a></h3>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lakes</span> <span class="o">=</span> <span class="n">dfBeaches</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">dfBeaches</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">()))</span><span class="o">&amp;</span><span class="p">(</span><span class="n">dfBeaches</span><span class="o">.</span><span class="n">water</span> <span class="o">==</span> <span class="s2">&quot;l&quot;</span><span class="p">)][</span><span class="s2">&quot;water_name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="n">rivers</span> <span class="o">=</span> <span class="n">dfBeaches</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">dfBeaches</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">()))</span><span class="o">&amp;</span><span class="p">(</span><span class="n">dfBeaches</span><span class="o">.</span><span class="n">water</span> <span class="o">==</span> <span class="s2">&quot;r&quot;</span><span class="p">)][</span><span class="s2">&quot;water_name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>


<span class="c1"># gather the municpalities and the population:</span>
<span class="n">fd_pop_map</span> <span class="o">=</span> <span class="n">dfBeaches</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">()][[</span><span class="s2">&quot;city&quot;</span><span class="p">,</span><span class="s2">&quot;population&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">fd_pop_map</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">fd_pop_map</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;city&quot;</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">munis_joined</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">fd_pop_map</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>

<span class="n">muni_string</span> <span class="o">=</span> <span class="sa">F</span><span class="s2">&quot;&quot;&quot;**The municipalities in this report:**</span><span class="se">\n\n</span><span class="si">{</span><span class="n">munis_joined</span><span class="si">}</span><span class="s2"></span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="n">md</span><span class="p">(</span><span class="n">muni_string</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<p><strong>The municipalities in this report:</strong></p>
<p>Aarau, Allaman, Ascona, Beatenberg, Bellinzona, Bern, Biel/Bienne, Boudry, Bourg-en-Lavaux, Brienz (BE), Brissago, Brugg, Brügg, Burgdorf, Bönigen, Cheyres-Châbles, Cudrefin, Dietikon, Erlach, Estavayer, Freienbach, Gals, Gambarogno, Gebenstorf, Genève, Gland, Glarus Nord, Grandson, Hauterive (NE), Hünenberg, Kallnach, Köniz, Küsnacht (ZH), La Tour-de-Peilz, Lausanne, Lavey-Morcles, Le Landeron, Leuk, Ligerz, Locarno, Lugano, Luterbach, Lüscherz, Merenschwand, Minusio, Montreux, Neuchâtel, Nidau, Port, Préverenges, Quarten, Rapperswil-Jona, Richterswil, Riddes, Rubigen, Saint-Gingolph, Saint-Sulpice (VD), Salgesch, Schmerikon, Sion, Solothurn, Spiez, Stäfa, Thun, Tolochenaz, Unterengstringen, Unterseen, Versoix, Vevey, Vinelz, Walenstadt, Walperswil, Weesen, Weggis, Yverdon-les-Bains, Zug, Zürich</p>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lakes_joined</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">lakes</span><span class="p">))</span>

<span class="n">lake_string</span> <span class="o">=</span> <span class="sa">F</span><span class="s2">&quot;&quot;&quot;**The lakes in this report:**</span><span class="se">\n\n</span><span class="si">{</span><span class="n">lakes_joined</span><span class="si">}</span><span class="s2"></span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="n">md</span><span class="p">(</span><span class="n">lake_string</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<p><strong>The lakes in this report:</strong></p>
<p>Bielersee, Brienzersee, Lac Léman, Lago Maggiore, Lago di Lugano, Neuenburgersee, Quatre Cantons, Thunersee, Walensee, Zugersee, Zurichsee</p>
</div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<p><strong>The rivers in this report:</strong></p>
<p>Aare, Aare|Nidau-Büren-Kanal, Cassarate, Dorfbach, Emme, Escherkanal, Jona, La Thièle, Limmat, Linthkanal, Maggia, Reuss, Rhône, Schüss, Seez, Sihl, Ticino</p>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># summary statistics:</span>
<span class="c1"># number of samples</span>
<span class="n">fd_n_samps</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">dt_all</span><span class="p">)</span>
<span class="c1"># quantity</span>
<span class="n">fd_n_obj</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="c1"># number of locations</span>
<span class="n">fd_n_locs</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="c1"># number of cities</span>
<span class="n">fd_n_munis</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">fd_pop_map</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="c1"># populations</span>
<span class="n">fd_effected_population</span> <span class="o">=</span> <span class="n">fd_pop_map</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="c1"># list of locations</span>
<span class="n">fd_locs</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="c1"># list of survey keys</span>
<span class="n">fd_samps</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">loc_date</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>


<span class="n">obj_string</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{:,}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fd_n_obj</span><span class="p">)</span>
<span class="n">surv_string</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{:,}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fd_n_samps</span><span class="p">)</span>
<span class="n">pop_string</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{:,}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">fd_effected_population</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>

<span class="n">date_quantity_context</span> <span class="o">=</span> <span class="sa">F</span><span class="s2">&quot;For the period between </span><span class="si">{</span><span class="n">start_date</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span><span class="si">}</span><span class="s2"> and </span><span class="si">{</span><span class="n">end_date</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">obj_string</span> <span class="si">}</span><span class="s2"> objects were removed and identified in the course of </span><span class="si">{</span><span class="n">surv_string</span><span class="si">}</span><span class="s2"> surveys.&quot;</span>
<span class="n">geo_context</span> <span class="o">=</span> <span class="sa">F</span><span class="s2">&quot;Those surveys were conducted at </span><span class="si">{</span><span class="n">fd_n_locs</span><span class="si">}</span><span class="s2"> different locations.&quot;</span>
<span class="n">admin_context</span> <span class="o">=</span> <span class="sa">F</span><span class="s2">&quot;There are </span><span class="si">{</span><span class="n">fd_n_munis</span><span class="si">}</span><span class="s2"> different municipalities represented in these results with a combined population of approximately </span><span class="si">{</span><span class="n">pop_string</span><span class="si">}</span><span class="s2">.&quot;</span>
<span class="n">md</span><span class="p">(</span><span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">date_quantity_context</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">geo_context</span> <span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">admin_context</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<p>For the period between 2020-03 and 2021-05, 54,744 objects were removed and identified in the course of 386 surveys. Those surveys were conducted at 143 different locations. There are 77 different municipalities represented in these results with a combined population of approximately 1,735,991.</p>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s2">&quot;display.max_rows&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">complete_inventory</span> <span class="o">=</span> <span class="n">code_totals</span><span class="p">[</span><span class="n">code_totals</span><span class="o">.</span><span class="n">quantity</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">][[</span><span class="s2">&quot;item&quot;</span><span class="p">,</span> <span class="s2">&quot;groupname&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">,</span><span class="s2">&quot;fail rate&quot;</span><span class="p">]]</span>
<span class="n">complete_inventory</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>item</th>
      <th>groupname</th>
      <th>quantity</th>
      <th>% of total</th>
      <th>fail rate</th>
    </tr>
    <tr>
      <th>code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>G27</th>
      <td>Cigarette filters</td>
      <td>tobacco</td>
      <td>8485</td>
      <td>15.50</td>
      <td>87</td>
    </tr>
    <tr>
      <th>Gfrags</th>
      <td>Fragmented plastics</td>
      <td>plastic pieces</td>
      <td>7400</td>
      <td>13.52</td>
      <td>86</td>
    </tr>
    <tr>
      <th>Gfoam</th>
      <td>Expanded polystyrene</td>
      <td>infrastructure</td>
      <td>5563</td>
      <td>10.16</td>
      <td>68</td>
    </tr>
    <tr>
      <th>G30</th>
      <td>Food wrappers; candy, snacks</td>
      <td>food and drink</td>
      <td>3325</td>
      <td>6.07</td>
      <td>85</td>
    </tr>
    <tr>
      <th>G67</th>
      <td>Industrial sheeting</td>
      <td>agriculture</td>
      <td>2534</td>
      <td>4.63</td>
      <td>69</td>
    </tr>
    <tr>
      <th>G200</th>
      <td>Glass drink bottles, pieces</td>
      <td>food and drink</td>
      <td>2136</td>
      <td>3.90</td>
      <td>65</td>
    </tr>
    <tr>
      <th>G112</th>
      <td>Industrial pellets (nurdles)</td>
      <td>micro plastics (&lt; 5mm)</td>
      <td>1968</td>
      <td>3.59</td>
      <td>30</td>
    </tr>
    <tr>
      <th>G74</th>
      <td>Foam packaging/insulation/polyurethane</td>
      <td>infrastructure</td>
      <td>1702</td>
      <td>3.11</td>
      <td>53</td>
    </tr>
    <tr>
      <th>G95</th>
      <td>Cotton bud/swab sticks</td>
      <td>waste water</td>
      <td>1406</td>
      <td>2.57</td>
      <td>50</td>
    </tr>
    <tr>
      <th>G117</th>
      <td>Styrofoam &lt; 5mm</td>
      <td>micro plastics (&lt; 5mm)</td>
      <td>1209</td>
      <td>2.21</td>
      <td>25</td>
    </tr>
    <tr>
      <th>G89</th>
      <td>Plastic construction waste</td>
      <td>infrastructure</td>
      <td>992</td>
      <td>1.81</td>
      <td>52</td>
    </tr>
    <tr>
      <th>G941</th>
      <td>Packaging films nonfood or unknown</td>
      <td>packaging non food</td>
      <td>894</td>
      <td>1.63</td>
      <td>38</td>
    </tr>
    <tr>
      <th>G178</th>
      <td>Metal bottle caps, lids &amp; pull tabs from cans</td>
      <td>food and drink</td>
      <td>700</td>
      <td>1.28</td>
      <td>52</td>
    </tr>
    <tr>
      <th>G25</th>
      <td>Tobacco; plastic packaging, containers</td>
      <td>tobacco</td>
      <td>649</td>
      <td>1.19</td>
      <td>46</td>
    </tr>
    <tr>
      <th>G21</th>
      <td>Drink lids</td>
      <td>food and drink</td>
      <td>623</td>
      <td>1.14</td>
      <td>37</td>
    </tr>
    <tr>
      <th>G106</th>
      <td>Plastic fragments angular &lt;5mm</td>
      <td>micro plastics (&lt; 5mm)</td>
      <td>592</td>
      <td>1.08</td>
      <td>20</td>
    </tr>
    <tr>
      <th>G98</th>
      <td>Diapers - wipes</td>
      <td>waste water</td>
      <td>588</td>
      <td>1.07</td>
      <td>26</td>
    </tr>
    <tr>
      <th>G24</th>
      <td>Lid/cap rings from plastic bottles/containers</td>
      <td>food and drink</td>
      <td>541</td>
      <td>0.99</td>
      <td>42</td>
    </tr>
    <tr>
      <th>G177</th>
      <td>Foil wrappers, aluminum foil</td>
      <td>food and drink</td>
      <td>521</td>
      <td>0.95</td>
      <td>47</td>
    </tr>
    <tr>
      <th>G10</th>
      <td>Food containers single use foamed or plastic</td>
      <td>food and drink</td>
      <td>448</td>
      <td>0.82</td>
      <td>31</td>
    </tr>
    <tr>
      <th>G23</th>
      <td>Lids unidentified</td>
      <td>packaging non food</td>
      <td>423</td>
      <td>0.77</td>
      <td>35</td>
    </tr>
    <tr>
      <th>G156</th>
      <td>Paper fragments</td>
      <td>packaging non food</td>
      <td>420</td>
      <td>0.77</td>
      <td>32</td>
    </tr>
    <tr>
      <th>G35</th>
      <td>Straws and stirrers</td>
      <td>food and drink</td>
      <td>419</td>
      <td>0.77</td>
      <td>42</td>
    </tr>
    <tr>
      <th>G70</th>
      <td>Shotgun cartridges</td>
      <td>recreation</td>
      <td>391</td>
      <td>0.71</td>
      <td>21</td>
    </tr>
    <tr>
      <th>G31</th>
      <td>Lollypop sticks</td>
      <td>food and drink</td>
      <td>381</td>
      <td>0.70</td>
      <td>37</td>
    </tr>
    <tr>
      <th>G73</th>
      <td>Foamed items &amp; pieces (non packaging/insulatio...</td>
      <td>recreation</td>
      <td>335</td>
      <td>0.61</td>
      <td>23</td>
    </tr>
    <tr>
      <th>G33</th>
      <td>Cups, lids, single use foamed and hard plastic</td>
      <td>food and drink</td>
      <td>328</td>
      <td>0.60</td>
      <td>34</td>
    </tr>
    <tr>
      <th>G32</th>
      <td>Toys and party favors</td>
      <td>recreation</td>
      <td>320</td>
      <td>0.58</td>
      <td>38</td>
    </tr>
    <tr>
      <th>G904</th>
      <td>Fireworks; rocket caps, exploded parts &amp; packa...</td>
      <td>recreation</td>
      <td>301</td>
      <td>0.55</td>
      <td>28</td>
    </tr>
    <tr>
      <th>G3</th>
      <td>Bags; plastic shopping/carrier/grocery and pieces</td>
      <td>packaging non food</td>
      <td>285</td>
      <td>0.52</td>
      <td>18</td>
    </tr>
    <tr>
      <th>G22</th>
      <td>Lids for chemicals, detergents (non-food)</td>
      <td>infrastructure</td>
      <td>257</td>
      <td>0.47</td>
      <td>19</td>
    </tr>
    <tr>
      <th>G211</th>
      <td>Other medical (swabs, bandaging, adhesive plas...</td>
      <td>personal items</td>
      <td>256</td>
      <td>0.47</td>
      <td>31</td>
    </tr>
    <tr>
      <th>G922</th>
      <td>Labels, bar codes</td>
      <td>packaging non food</td>
      <td>252</td>
      <td>0.46</td>
      <td>27</td>
    </tr>
    <tr>
      <th>G66</th>
      <td>Straps/bands;  hard, plastic package fastener</td>
      <td>infrastructure</td>
      <td>248</td>
      <td>0.45</td>
      <td>32</td>
    </tr>
    <tr>
      <th>G100</th>
      <td>Medical; containers/tubes/ packaging</td>
      <td>waste water</td>
      <td>244</td>
      <td>0.45</td>
      <td>28</td>
    </tr>
    <tr>
      <th>G923</th>
      <td>Tissue, toilet paper, napkins, paper towels</td>
      <td>personal items</td>
      <td>241</td>
      <td>0.44</td>
      <td>25</td>
    </tr>
    <tr>
      <th>G103</th>
      <td>Plastic fragments rounded &lt;5mm</td>
      <td>micro plastics (&lt; 5mm)</td>
      <td>238</td>
      <td>0.43</td>
      <td>3</td>
    </tr>
    <tr>
      <th>G921</th>
      <td>Ceramic tile and pieces</td>
      <td>infrastructure</td>
      <td>231</td>
      <td>0.42</td>
      <td>13</td>
    </tr>
    <tr>
      <th>G96</th>
      <td>Sanitary pads /panty liners/tampons and applic...</td>
      <td>waste water</td>
      <td>215</td>
      <td>0.39</td>
      <td>18</td>
    </tr>
    <tr>
      <th>G50</th>
      <td>String &lt; 1cm</td>
      <td>recreation</td>
      <td>205</td>
      <td>0.37</td>
      <td>29</td>
    </tr>
    <tr>
      <th>G153</th>
      <td>Cups, food containers, wrappers (paper)</td>
      <td>food and drink</td>
      <td>201</td>
      <td>0.37</td>
      <td>19</td>
    </tr>
    <tr>
      <th>G125</th>
      <td>Balloons and balloon sticks</td>
      <td>recreation</td>
      <td>170</td>
      <td>0.31</td>
      <td>20</td>
    </tr>
    <tr>
      <th>G91</th>
      <td>Biomass holder</td>
      <td>waste water</td>
      <td>162</td>
      <td>0.30</td>
      <td>19</td>
    </tr>
    <tr>
      <th>G159</th>
      <td>Corks</td>
      <td>food and drink</td>
      <td>162</td>
      <td>0.30</td>
      <td>21</td>
    </tr>
    <tr>
      <th>G38</th>
      <td>Coverings; plastic packaging, sheeting for pro...</td>
      <td>unclassified</td>
      <td>160</td>
      <td>0.29</td>
      <td>4</td>
    </tr>
    <tr>
      <th>G940</th>
      <td>Foamed EVA (flexible plastic) for crafts &amp; wat...</td>
      <td>recreation</td>
      <td>158</td>
      <td>0.29</td>
      <td>7</td>
    </tr>
    <tr>
      <th>G208</th>
      <td>Glass or ceramic fragments &gt; 2.5 cm</td>
      <td>unclassified</td>
      <td>145</td>
      <td>0.26</td>
      <td>10</td>
    </tr>
    <tr>
      <th>G186</th>
      <td>Industrial scrap</td>
      <td>infrastructure</td>
      <td>141</td>
      <td>0.26</td>
      <td>15</td>
    </tr>
    <tr>
      <th>G213</th>
      <td>Paraffin wax</td>
      <td>recreation</td>
      <td>138</td>
      <td>0.25</td>
      <td>13</td>
    </tr>
    <tr>
      <th>G165</th>
      <td>Ice cream sticks, toothpicks, chopsticks</td>
      <td>food and drink</td>
      <td>126</td>
      <td>0.23</td>
      <td>15</td>
    </tr>
    <tr>
      <th>G204</th>
      <td>Construction material; bricks, pipes, cement</td>
      <td>infrastructure</td>
      <td>125</td>
      <td>0.23</td>
      <td>9</td>
    </tr>
    <tr>
      <th>G155</th>
      <td>Fireworks paper tubes and fragments</td>
      <td>recreation</td>
      <td>124</td>
      <td>0.23</td>
      <td>6</td>
    </tr>
    <tr>
      <th>G93</th>
      <td>Cable ties; steggel, zip, zap straps</td>
      <td>infrastructure</td>
      <td>121</td>
      <td>0.22</td>
      <td>16</td>
    </tr>
    <tr>
      <th>G149</th>
      <td>Paper packaging</td>
      <td>packaging non food</td>
      <td>121</td>
      <td>0.22</td>
      <td>8</td>
    </tr>
    <tr>
      <th>G152</th>
      <td>Cigarette boxes, tobacco related paper/cardboard</td>
      <td>tobacco</td>
      <td>120</td>
      <td>0.22</td>
      <td>13</td>
    </tr>
    <tr>
      <th>G90</th>
      <td>Plastic flower pots</td>
      <td>agriculture</td>
      <td>119</td>
      <td>0.22</td>
      <td>14</td>
    </tr>
    <tr>
      <th>G137</th>
      <td>Clothing, towels &amp; rags</td>
      <td>personal items</td>
      <td>118</td>
      <td>0.22</td>
      <td>13</td>
    </tr>
    <tr>
      <th>G908</th>
      <td>Tape; electrical, insulating</td>
      <td>infrastructure</td>
      <td>117</td>
      <td>0.21</td>
      <td>15</td>
    </tr>
    <tr>
      <th>G203</th>
      <td>Tableware ceramic or glass, cups, plates, pieces</td>
      <td>food and drink</td>
      <td>115</td>
      <td>0.21</td>
      <td>11</td>
    </tr>
    <tr>
      <th>G936</th>
      <td>Sheeting ag. greenhouse film</td>
      <td>agriculture</td>
      <td>110</td>
      <td>0.20</td>
      <td>12</td>
    </tr>
    <tr>
      <th>G34</th>
      <td>Cutlery, plates and trays</td>
      <td>food and drink</td>
      <td>109</td>
      <td>0.20</td>
      <td>16</td>
    </tr>
    <tr>
      <th>G905</th>
      <td>Hair clip,  hair ties, personal accessories pl...</td>
      <td>personal items</td>
      <td>105</td>
      <td>0.19</td>
      <td>18</td>
    </tr>
    <tr>
      <th>G198</th>
      <td>Other metal pieces &lt; 50cm</td>
      <td>infrastructure</td>
      <td>104</td>
      <td>0.19</td>
      <td>16</td>
    </tr>
    <tr>
      <th>G914</th>
      <td>Paperclips, clothespins, plastic utility items</td>
      <td>personal items</td>
      <td>99</td>
      <td>0.18</td>
      <td>12</td>
    </tr>
    <tr>
      <th>G131</th>
      <td>Rubber bands</td>
      <td>personal items</td>
      <td>94</td>
      <td>0.17</td>
      <td>16</td>
    </tr>
    <tr>
      <th>G191</th>
      <td>Wire and mesh</td>
      <td>agriculture</td>
      <td>90</td>
      <td>0.16</td>
      <td>12</td>
    </tr>
    <tr>
      <th>G28</th>
      <td>Pens, lids, mechanical pencils etc.</td>
      <td>personal items</td>
      <td>88</td>
      <td>0.16</td>
      <td>13</td>
    </tr>
    <tr>
      <th>G115</th>
      <td>Foamed  plastic &lt;5mm</td>
      <td>micro plastics (&lt; 5mm)</td>
      <td>88</td>
      <td>0.16</td>
      <td>4</td>
    </tr>
    <tr>
      <th>G124</th>
      <td>Other plastic or foam products</td>
      <td>unclassified</td>
      <td>87</td>
      <td>0.16</td>
      <td>8</td>
    </tr>
    <tr>
      <th>G87</th>
      <td>Tape, masking/duct/packing</td>
      <td>infrastructure</td>
      <td>87</td>
      <td>0.16</td>
      <td>14</td>
    </tr>
    <tr>
      <th>G148</th>
      <td>Cardboard (boxes and fragments)</td>
      <td>packaging non food</td>
      <td>85</td>
      <td>0.16</td>
      <td>8</td>
    </tr>
    <tr>
      <th>G928</th>
      <td>Ribbons and bows</td>
      <td>personal items</td>
      <td>84</td>
      <td>0.15</td>
      <td>8</td>
    </tr>
    <tr>
      <th>G26</th>
      <td>Cigarette lighters</td>
      <td>tobacco</td>
      <td>83</td>
      <td>0.15</td>
      <td>14</td>
    </tr>
    <tr>
      <th>G146</th>
      <td>Paper, cardboard</td>
      <td>packaging non food</td>
      <td>82</td>
      <td>0.15</td>
      <td>6</td>
    </tr>
    <tr>
      <th>G175</th>
      <td>Cans, beverage</td>
      <td>food and drink</td>
      <td>76</td>
      <td>0.14</td>
      <td>11</td>
    </tr>
    <tr>
      <th>G157</th>
      <td>Paper</td>
      <td>packaging non food</td>
      <td>66</td>
      <td>0.12</td>
      <td>6</td>
    </tr>
    <tr>
      <th>G7</th>
      <td>Drink bottles &lt; = 0.5L</td>
      <td>food and drink</td>
      <td>65</td>
      <td>0.12</td>
      <td>9</td>
    </tr>
    <tr>
      <th>G4</th>
      <td>Small plastic bags; freezer, zip-lock etc.</td>
      <td>packaging non food</td>
      <td>64</td>
      <td>0.12</td>
      <td>8</td>
    </tr>
    <tr>
      <th>G142</th>
      <td>Rope , string or nets</td>
      <td>recreation</td>
      <td>62</td>
      <td>0.11</td>
      <td>10</td>
    </tr>
    <tr>
      <th>G135</th>
      <td>Clothes, footware, headware, gloves</td>
      <td>personal items</td>
      <td>61</td>
      <td>0.11</td>
      <td>9</td>
    </tr>
    <tr>
      <th>G105</th>
      <td>Plastic fragments subangular &lt;5mm</td>
      <td>micro plastics (&lt; 5mm)</td>
      <td>59</td>
      <td>0.11</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G927</th>
      <td>String trimmer line, used to cut grass, weeds,...</td>
      <td>infrastructure</td>
      <td>57</td>
      <td>0.10</td>
      <td>8</td>
    </tr>
    <tr>
      <th>G201</th>
      <td>Jars, includes pieces</td>
      <td>food and drink</td>
      <td>55</td>
      <td>0.10</td>
      <td>7</td>
    </tr>
    <tr>
      <th>G942</th>
      <td>Plastic shavings from lathes, CNC machining</td>
      <td>unclassified</td>
      <td>53</td>
      <td>0.10</td>
      <td>8</td>
    </tr>
    <tr>
      <th>G194</th>
      <td>Cables, metal wire(s) often inside rubber or p...</td>
      <td>infrastructure</td>
      <td>52</td>
      <td>0.09</td>
      <td>10</td>
    </tr>
    <tr>
      <th>G939</th>
      <td>Flowers, plants plastic</td>
      <td>personal items</td>
      <td>49</td>
      <td>0.09</td>
      <td>6</td>
    </tr>
    <tr>
      <th>G20</th>
      <td>Caps and lids</td>
      <td>packaging non food</td>
      <td>48</td>
      <td>0.09</td>
      <td>6</td>
    </tr>
    <tr>
      <th>G65</th>
      <td>Buckets</td>
      <td>agriculture</td>
      <td>48</td>
      <td>0.09</td>
      <td>6</td>
    </tr>
    <tr>
      <th>G943</th>
      <td>Fencing agriculture, plastic</td>
      <td>agriculture</td>
      <td>47</td>
      <td>0.09</td>
      <td>5</td>
    </tr>
    <tr>
      <th>G144</th>
      <td>Tampons</td>
      <td>waste water</td>
      <td>46</td>
      <td>0.08</td>
      <td>3</td>
    </tr>
    <tr>
      <th>G48</th>
      <td>Rope, synthetic</td>
      <td>recreation</td>
      <td>46</td>
      <td>0.08</td>
      <td>8</td>
    </tr>
    <tr>
      <th>G134</th>
      <td>Other rubber</td>
      <td>unclassified</td>
      <td>45</td>
      <td>0.08</td>
      <td>8</td>
    </tr>
    <tr>
      <th>G210</th>
      <td>Other glass/ceramic</td>
      <td>unclassified</td>
      <td>43</td>
      <td>0.08</td>
      <td>3</td>
    </tr>
    <tr>
      <th>G170</th>
      <td>Wood (processed)</td>
      <td>agriculture</td>
      <td>43</td>
      <td>0.08</td>
      <td>6</td>
    </tr>
    <tr>
      <th>G937</th>
      <td>Pheromone baits for vineyards</td>
      <td>agriculture</td>
      <td>38</td>
      <td>0.07</td>
      <td>4</td>
    </tr>
    <tr>
      <th>G101</th>
      <td>Dog feces bag</td>
      <td>personal items</td>
      <td>37</td>
      <td>0.07</td>
      <td>8</td>
    </tr>
    <tr>
      <th>G917</th>
      <td>Terracotta balls</td>
      <td>unclassified</td>
      <td>36</td>
      <td>0.07</td>
      <td>4</td>
    </tr>
    <tr>
      <th>G59</th>
      <td>Fishing line monofilament (angling)</td>
      <td>recreation</td>
      <td>35</td>
      <td>0.06</td>
      <td>6</td>
    </tr>
    <tr>
      <th>G944</th>
      <td>Pellet mass from injection molding</td>
      <td>unclassified</td>
      <td>34</td>
      <td>0.06</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G2</th>
      <td>Bags</td>
      <td>packaging non food</td>
      <td>32</td>
      <td>0.06</td>
      <td>4</td>
    </tr>
    <tr>
      <th>G12</th>
      <td>Cosmetics, non-beach use personal care containers</td>
      <td>personal items</td>
      <td>31</td>
      <td>0.06</td>
      <td>5</td>
    </tr>
    <tr>
      <th>G207</th>
      <td>Octopus pots</td>
      <td>unclassified</td>
      <td>30</td>
      <td>0.05</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G126</th>
      <td>Balls</td>
      <td>recreation</td>
      <td>30</td>
      <td>0.05</td>
      <td>5</td>
    </tr>
    <tr>
      <th>G901</th>
      <td>Mask medical, synthetic</td>
      <td>personal items</td>
      <td>29</td>
      <td>0.05</td>
      <td>6</td>
    </tr>
    <tr>
      <th>G918</th>
      <td>Safety pins, paper clips, small metal utility ...</td>
      <td>personal items</td>
      <td>28</td>
      <td>0.05</td>
      <td>5</td>
    </tr>
    <tr>
      <th>G931</th>
      <td>Tape-caution for barrier, police, construction...</td>
      <td>infrastructure</td>
      <td>28</td>
      <td>0.05</td>
      <td>3</td>
    </tr>
    <tr>
      <th>G99</th>
      <td>Syringes - needles</td>
      <td>personal items</td>
      <td>28</td>
      <td>0.05</td>
      <td>6</td>
    </tr>
    <tr>
      <th>G919</th>
      <td>Nails, screws, bolts etc.</td>
      <td>infrastructure</td>
      <td>27</td>
      <td>0.05</td>
      <td>3</td>
    </tr>
    <tr>
      <th>G158</th>
      <td>Other paper items</td>
      <td>packaging non food</td>
      <td>27</td>
      <td>0.05</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G167</th>
      <td>Matches or fireworks</td>
      <td>recreation</td>
      <td>26</td>
      <td>0.05</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G933</th>
      <td>Bags, cases for accessories; glasses, electron...</td>
      <td>personal items</td>
      <td>26</td>
      <td>0.05</td>
      <td>4</td>
    </tr>
    <tr>
      <th>G6</th>
      <td>Bottles and containers, plastic non food/drink</td>
      <td>packaging non food</td>
      <td>25</td>
      <td>0.05</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G154</th>
      <td>Newspapers or magazines</td>
      <td>personal items</td>
      <td>25</td>
      <td>0.05</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G161</th>
      <td>Processed timber</td>
      <td>agriculture</td>
      <td>24</td>
      <td>0.04</td>
      <td>4</td>
    </tr>
    <tr>
      <th>G182</th>
      <td>Fishing; hooks, weights, lures, sinkers etc.</td>
      <td>recreation</td>
      <td>23</td>
      <td>0.04</td>
      <td>3</td>
    </tr>
    <tr>
      <th>G8</th>
      <td>Drink bottles  &gt; 0.5L</td>
      <td>food and drink</td>
      <td>23</td>
      <td>0.04</td>
      <td>3</td>
    </tr>
    <tr>
      <th>G145</th>
      <td>Other textiles</td>
      <td>personal items</td>
      <td>22</td>
      <td>0.04</td>
      <td>4</td>
    </tr>
    <tr>
      <th>G114</th>
      <td>Films  &lt;5mm</td>
      <td>micro plastics (&lt; 5mm)</td>
      <td>22</td>
      <td>0.04</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G43</th>
      <td>Tags fishing or industry (security tags, seals)</td>
      <td>recreation</td>
      <td>21</td>
      <td>0.04</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G930</th>
      <td>Foam earplugs</td>
      <td>personal items</td>
      <td>20</td>
      <td>0.04</td>
      <td>4</td>
    </tr>
    <tr>
      <th>G133</th>
      <td>Condoms incl. packaging</td>
      <td>waste water</td>
      <td>20</td>
      <td>0.04</td>
      <td>4</td>
    </tr>
    <tr>
      <th>G68</th>
      <td>Fiberglass fragments</td>
      <td>infrastructure</td>
      <td>20</td>
      <td>0.04</td>
      <td>4</td>
    </tr>
    <tr>
      <th>G929</th>
      <td>Electronics and pieces; sensors, headsets etc.</td>
      <td>personal items</td>
      <td>20</td>
      <td>0.04</td>
      <td>4</td>
    </tr>
    <tr>
      <th>G176</th>
      <td>Cans, food</td>
      <td>food and drink</td>
      <td>19</td>
      <td>0.03</td>
      <td>3</td>
    </tr>
    <tr>
      <th>G925</th>
      <td>Packets: desiccant/ moisture absorbers, plasti...</td>
      <td>packaging non food</td>
      <td>19</td>
      <td>0.03</td>
      <td>4</td>
    </tr>
    <tr>
      <th>G938</th>
      <td>Toothpicks, dental floss plastic</td>
      <td>food and drink</td>
      <td>18</td>
      <td>0.03</td>
      <td>4</td>
    </tr>
    <tr>
      <th>G926</th>
      <td>Chewing gum, often contains plastics</td>
      <td>food and drink</td>
      <td>18</td>
      <td>0.03</td>
      <td>3</td>
    </tr>
    <tr>
      <th>G36</th>
      <td>Bags/sacks heavy duty plastic for 25 Kg or mor...</td>
      <td>agriculture</td>
      <td>18</td>
      <td>0.03</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G118</th>
      <td>Small industrial spheres &lt;5mm</td>
      <td>micro plastics (&lt; 5mm)</td>
      <td>17</td>
      <td>0.03</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G123</th>
      <td>Polyurethane granules &lt; 5mm</td>
      <td>micro plastics (&lt; 5mm)</td>
      <td>17</td>
      <td>0.03</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G11</th>
      <td>Cosmetics for the beach, e.g. sunblock</td>
      <td>recreation</td>
      <td>17</td>
      <td>0.03</td>
      <td>3</td>
    </tr>
    <tr>
      <th>G64</th>
      <td>Fenders</td>
      <td>unclassified</td>
      <td>16</td>
      <td>0.03</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G119</th>
      <td>Sheetlike user plastic (&gt;1mm)</td>
      <td>micro plastics (&lt; 5mm)</td>
      <td>16</td>
      <td>0.03</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G49</th>
      <td>Rope &gt; 1cm</td>
      <td>recreation</td>
      <td>14</td>
      <td>0.03</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G113</th>
      <td>Filaments  &lt;5mm</td>
      <td>micro plastics (&lt; 5mm)</td>
      <td>14</td>
      <td>0.03</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G197</th>
      <td>Other metal</td>
      <td>infrastructure</td>
      <td>13</td>
      <td>0.02</td>
      <td>3</td>
    </tr>
    <tr>
      <th>G199</th>
      <td>Other metal pieces &gt; 50cm</td>
      <td>infrastructure</td>
      <td>13</td>
      <td>0.02</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G29</th>
      <td>Combs, brushes and sunglasses</td>
      <td>personal items</td>
      <td>13</td>
      <td>0.02</td>
      <td>3</td>
    </tr>
    <tr>
      <th>G195</th>
      <td>Batteries - household</td>
      <td>personal items</td>
      <td>12</td>
      <td>0.02</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G128</th>
      <td>Tires and belts</td>
      <td>unclassified</td>
      <td>12</td>
      <td>0.02</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G916</th>
      <td>Pencils and pieces</td>
      <td>personal items</td>
      <td>12</td>
      <td>0.02</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G136</th>
      <td>Shoes</td>
      <td>personal items</td>
      <td>11</td>
      <td>0.02</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G37</th>
      <td>Mesh bags</td>
      <td>personal items</td>
      <td>11</td>
      <td>0.02</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G906</th>
      <td>coffee capsules aluminum</td>
      <td>food and drink</td>
      <td>10</td>
      <td>0.02</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G900</th>
      <td>Gloves latex  personal protective equipment</td>
      <td>personal items</td>
      <td>10</td>
      <td>0.02</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G61</th>
      <td>Other fishing related</td>
      <td>recreation</td>
      <td>9</td>
      <td>0.02</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G913</th>
      <td>Pacifier</td>
      <td>personal items</td>
      <td>8</td>
      <td>0.01</td>
      <td>2</td>
    </tr>
    <tr>
      <th>G104</th>
      <td>Plastic fragments subrounded &lt;5mm</td>
      <td>micro plastics (&lt; 5mm)</td>
      <td>7</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G40</th>
      <td>Gloves household/gardening</td>
      <td>personal items</td>
      <td>7</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G122</th>
      <td>Plastic fragments ( &gt;1mm)</td>
      <td>micro plastics (&lt; 5mm)</td>
      <td>7</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G19</th>
      <td>Car parts</td>
      <td>unclassified</td>
      <td>7</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G129</th>
      <td>Inner tubes and rubber sheets</td>
      <td>unclassified</td>
      <td>7</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G17</th>
      <td>Injection gun cartridge</td>
      <td>infrastructure</td>
      <td>7</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G141</th>
      <td>Carpet</td>
      <td>unclassified</td>
      <td>6</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G5</th>
      <td>Generic plastic bags</td>
      <td>packaging non food</td>
      <td>6</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G181</th>
      <td>Tableware metal;  cups, cutlery etc.</td>
      <td>food and drink</td>
      <td>6</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G171</th>
      <td>Other wood &lt; 50cm</td>
      <td>agriculture</td>
      <td>6</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G97</th>
      <td>Toilet fresheners</td>
      <td>waste water</td>
      <td>6</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G915</th>
      <td>Reflectors, plastic mobility items</td>
      <td>personal items</td>
      <td>6</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G151</th>
      <td>Cartons, Tetrapacks</td>
      <td>food and drink</td>
      <td>6</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G147</th>
      <td>Paper bags</td>
      <td>packaging non food</td>
      <td>6</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G107</th>
      <td>Cylindrical pellets &lt; 5mm</td>
      <td>micro plastics (&lt; 5mm)</td>
      <td>6</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G903</th>
      <td>Hand sanitizer containers &amp; packets</td>
      <td>personal items</td>
      <td>5</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G92</th>
      <td>Bait containers</td>
      <td>recreation</td>
      <td>5</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G71</th>
      <td>Shoes sandals</td>
      <td>personal items</td>
      <td>5</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G138</th>
      <td>Shoes and sandals</td>
      <td>personal items</td>
      <td>5</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G108</th>
      <td>disk pellets  &lt;5mm</td>
      <td>micro plastics (&lt; 5mm)</td>
      <td>5</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G172</th>
      <td>Other wood &gt; 50cm</td>
      <td>agriculture</td>
      <td>4</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G945</th>
      <td>Razor blades</td>
      <td>personal items</td>
      <td>4</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G53</th>
      <td>Nets and pieces &lt; 50cm</td>
      <td>recreation</td>
      <td>4</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G52</th>
      <td>Nets and pieces</td>
      <td>recreation</td>
      <td>4</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G907</th>
      <td>coffee capsules plastic</td>
      <td>food and drink</td>
      <td>4</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G39</th>
      <td>Gloves</td>
      <td>personal items</td>
      <td>4</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G111</th>
      <td>Spheruloid pellets &lt; 5mm</td>
      <td>micro plastics (&lt; 5mm)</td>
      <td>4</td>
      <td>0.01</td>
      <td>1</td>
    </tr>
    <tr>
      <th>G62</th>
      <td>Floats for nets</td>
      <td>unclassified</td>
      <td>4</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G13</th>
      <td>Bottles, containers, drums to transport, store...</td>
      <td>agriculture</td>
      <td>4</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G202</th>
      <td>Light bulbs</td>
      <td>unclassified</td>
      <td>3</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G174</th>
      <td>Aerosol spray cans</td>
      <td>infrastructure</td>
      <td>3</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G41</th>
      <td>Glove industrial/professional</td>
      <td>agriculture</td>
      <td>3</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G934</th>
      <td>Sandbag, plastic for flood, erosion control etc..</td>
      <td>agriculture</td>
      <td>3</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G143</th>
      <td>Sails and canvas</td>
      <td>recreation</td>
      <td>3</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G63</th>
      <td>Buoys</td>
      <td>recreation</td>
      <td>3</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G140</th>
      <td>Bags, burlap, hessian, jute or hemp</td>
      <td>agriculture</td>
      <td>3</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G179</th>
      <td>Disposable BBQs</td>
      <td>food and drink</td>
      <td>3</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G116</th>
      <td>Granules &lt;5mm</td>
      <td>micro plastics (&lt; 5mm)</td>
      <td>3</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G109</th>
      <td>Flat pellets  &lt;5mm</td>
      <td>micro plastics (&lt; 5mm)</td>
      <td>3</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G14</th>
      <td>Engine oil bottles</td>
      <td>unclassified</td>
      <td>3</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G139</th>
      <td>Backpacks</td>
      <td>personal items</td>
      <td>3</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G902</th>
      <td>Mask medical, cloth</td>
      <td>personal items</td>
      <td>3</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G102</th>
      <td>Flip-flops</td>
      <td>personal items</td>
      <td>3</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G150</th>
      <td>Milk cartons, tetrapack</td>
      <td>food and drink</td>
      <td>3</td>
      <td>0.01</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G999</th>
      <td>No objects found on this survey</td>
      <td>unclassified</td>
      <td>2</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G55</th>
      <td>Fishing line (entangled)</td>
      <td>recreation</td>
      <td>2</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G935</th>
      <td>Walking stick pads and pieces, often elastomer...</td>
      <td>personal items</td>
      <td>2</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G932</th>
      <td>Bio-beads, micro plastic for wastewater treatm...</td>
      <td>waste water</td>
      <td>2</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G173</th>
      <td>Other</td>
      <td>unclassified</td>
      <td>2</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G185</th>
      <td>Middle size containers</td>
      <td>unclassified</td>
      <td>2</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G188</th>
      <td>Other cans &lt; 4 L</td>
      <td>infrastructure</td>
      <td>2</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G190</th>
      <td>Paint cans</td>
      <td>infrastructure</td>
      <td>2</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G214</th>
      <td>Oil/tar</td>
      <td>infrastructure</td>
      <td>2</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G132</th>
      <td>Bobbers (fishing)</td>
      <td>recreation</td>
      <td>2</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G166</th>
      <td>Paint brushes</td>
      <td>infrastructure</td>
      <td>1</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G94</th>
      <td>Table cloth</td>
      <td>recreation</td>
      <td>1</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G84</th>
      <td>CD or CD box</td>
      <td>personal items</td>
      <td>1</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G196</th>
      <td>Large metallic objects</td>
      <td>unclassified</td>
      <td>1</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G9</th>
      <td>Cleaner, chemical bottles &amp; containers</td>
      <td>infrastructure</td>
      <td>1</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G183</th>
      <td>Fish hook remains</td>
      <td>recreation</td>
      <td>1</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G60</th>
      <td>Light sticks</td>
      <td>recreation</td>
      <td>1</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G51</th>
      <td>Fishing net</td>
      <td>recreation</td>
      <td>1</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>G193</th>
      <td>car parts and batteries</td>
      <td>unclassified</td>
      <td>1</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="esummary.html" title="previous page">Executive summary</a>
    <a class='right-next' id="next-link" href="alpes_valaisannes.html" title="next page"><span class="section-number">2. </span>The Alps and the Jura</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          <div class="extra_footer">
            <p>
   Comissioned by the Swiss Federal Office for the Environment (FOEN), © 2021
</p>

          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>