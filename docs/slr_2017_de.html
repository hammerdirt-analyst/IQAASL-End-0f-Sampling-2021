
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>31. Mehr und weniger seit 2018</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.e8e5499552300ddf5d7adccae7cc3b70.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="30. Shared responsibility" href="shared_responsibility_de.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      <img src="_static/iqaaslogo.png" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="titlepage_de.html">
   Identification, quantification and Analysis of Observable Anthropogenic Litter Along Swiss Freshwater Systems
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Zusammenfassung
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro_de.html">
   Vorwort
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="esummary_de.html">
   Kurzfassung
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Ergebnisse der Erhebung
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="lakes_rivers_de.html">
   1. Seen und Flüsse
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="alpes_valaisannes_de.html">
   2. Die Alpen und der Jura
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Erhebungsgebiete
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="aare_sa_de.html">
   3. Aare
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="linth_sa_de.html">
   4. Linth
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="rhone_sa_de.html">
   5. Rhône
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ticino_sa_de.html">
   6. Ticino
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Seen
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="bielersee_de.html">
   7. Bielersee
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lac_leman_de.html">
   8. Lac Léman
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="neuenburgersee_de.html">
   9. Neuenburgersee
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="maggiore_lugano_de.html">
   10. Maggiore/Lugano
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="thunersee_brienzersee_de.html">
   11. Thunersee/Brienzersee
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="walensee_de.html">
   12. Walensee
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="zurichsee_de.html">
   13. Zurichsee
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Verstehen
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="baselines_de.html">
   14. Abfallobjekte am Strand
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="key_indicators_de.html">
   15. Statistische Schlüsselindikatoren
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="code_groups_de.html">
   16. Code-Gruppen
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="land_use_correlation_de.html">
   17. Das Profil der Landnutzung
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="references.html">
   18. Bibliografie
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Anwendungen
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="reuse_remake.html">
   19. Polyethylene terephthalate (PET)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="shared_responsibility_de.html">
   30. Shared responsibility
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   31. Mehr und weniger seit 2018
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/slr_2017_de.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/hammerdirt-analyst/IQAASL-End-0f-Sampling-2021"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/hammerdirt-analyst/IQAASL-End-0f-Sampling-2021/issues/new?title=Issue%20on%20page%20%2Fslr_2017_de.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/hammerdirt-analyst/IQAASL-End-0f-Sampling-2021/main?urlpath=tree/docs/slr_2017_de.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#umfang-der-projekte-slr-iqaasl">
   31.1. Umfang der Projekte SLR - IQAASL
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#landnutzungsprofil-der-erhebungsorte">
     31.1.1. Landnutzungsprofil der Erhebungsorte
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ergebnisse-seen-und-flusse">
   31.2. Ergebnisse Seen und Flüsse
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#verteilung-der-ergebnisse-2018-und-2020">
     31.2.1. Verteilung der Ergebnisse 2018 und 2020
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#zusammenfassende-daten-und-materialtypen-2018-und-2020">
     31.2.2. Zusammenfassende Daten und Materialtypen 2018 und 2020
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#differenz-der-mediane-2018-2020">
       31.2.2.1. Differenz der Mediane 2018 - 2020
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#die-haufigsten-objekte">
     31.2.3. Die häufigsten Objekte
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ergebnisse-seen-2018-und-2020">
   31.3. Ergebnisse Seen 2018 und 2020
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#seen-die-haufigsten-objekte-aus-2018">
     31.3.1. Seen: Die häufigsten Objekte aus 2018
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#differenz-der-durchschnittlichen-erhebungssumme">
     31.3.2. Differenz der durchschnittlichen Erhebungssumme
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id8">
     31.3.3. Differenz der durchschnittlichen Erhebungssumme
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#landnutzungsprofil-spearmans-rangierte-korrelation">
     31.3.4. Landnutzungsprofil: Spearmans rangierte Korrelation
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#interpretieren-sie-spearmans-rho">
       31.3.4.1. Interpretieren Sie Spearmans
       <span class="math notranslate nohighlight">
        \(\rho\)
       </span>
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fazit">
   31.4. Fazit
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#protokolle-angelegenheit">
     31.4.1. Protokolle Angelegenheit
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#plastikdeckel">
     31.4.2. Plastikdeckel
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#landnutzungsprofil">
     31.4.3. Landnutzungsprofil
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#schlussfolgerungen">
     31.4.4. Schlussfolgerungen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#seen-monatliche-mediane-gemeinsame-objekte">
     31.4.5. Seen; monatliche mediane gemeinsame Objekte:
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#erhebungsorte">
       31.4.5.1. Erhebungsorte
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># -*- coding: utf-8 -*-</span>

<span class="c1"># This is a report using the data from IQAASL.</span>
<span class="c1"># IQAASL was a project funded by the Swiss Confederation</span>
<span class="c1"># It produces a summary of litter survey results for a defined region.</span>
<span class="c1"># These charts serve as the models for the development of plagespropres.ch</span>
<span class="c1"># The data is gathered by volunteers.</span>
<span class="c1"># Please remember all copyrights apply, please give credit when applicable</span>
<span class="c1"># The repo is maintained by the community effective January 01, 2022</span>
<span class="c1"># There is ample opportunity to contribute, learn and teach</span>
<span class="c1"># contact dev@hammerdirt.ch</span>

<span class="c1"># Dies ist ein Bericht, der die Daten von IQAASL verwendet.</span>
<span class="c1"># IQAASL war ein von der Schweizerischen Eidgenossenschaft finanziertes Projekt.</span>
<span class="c1"># Es erstellt eine Zusammenfassung der Ergebnisse der Littering-Umfrage für eine bestimmte Region.</span>
<span class="c1"># Diese Grafiken dienten als Vorlage für die Entwicklung von plagespropres.ch.</span>
<span class="c1"># Die Daten werden von Freiwilligen gesammelt.</span>
<span class="c1"># Bitte denken Sie daran, dass alle Copyrights gelten, bitte geben Sie den Namen an, wenn zutreffend.</span>
<span class="c1"># Das Repo wird ab dem 01. Januar 2022 von der Community gepflegt.</span>
<span class="c1"># Es gibt reichlich Gelegenheit, etwas beizutragen, zu lernen und zu lehren.</span>
<span class="c1"># Kontakt dev@hammerdirt.ch</span>

<span class="c1"># Il s&#39;agit d&#39;un rapport utilisant les données de IQAASL.</span>
<span class="c1"># IQAASL était un projet financé par la Confédération suisse.</span>
<span class="c1"># Il produit un résumé des résultats de l&#39;enquête sur les déchets sauvages pour une région définie.</span>
<span class="c1"># Ces tableaux ont servi de modèles pour le développement de plagespropres.ch</span>
<span class="c1"># Les données sont recueillies par des bénévoles.</span>
<span class="c1"># N&#39;oubliez pas que tous les droits d&#39;auteur s&#39;appliquent, veuillez indiquer le crédit lorsque cela est possible.</span>
<span class="c1"># Le dépôt est maintenu par la communauté à partir du 1er janvier 2022.</span>
<span class="c1"># Il y a de nombreuses possibilités de contribuer, d&#39;apprendre et d&#39;enseigner.</span>
<span class="c1"># contact dev@hammerdirt.ch</span>

<span class="c1"># sys, file and nav packages:</span>
<span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="nn">dt</span>

<span class="c1"># math packages:</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">stats</span>
<span class="kn">from</span> <span class="nn">statsmodels.distributions.empirical_distribution</span> <span class="kn">import</span> <span class="n">ECDF</span>

<span class="c1"># charting:</span>
<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.dates</span> <span class="k">as</span> <span class="nn">mdates</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">ticker</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">colors</span>
<span class="kn">from</span> <span class="nn">matplotlib.colors</span> <span class="kn">import</span> <span class="n">LinearSegmentedColormap</span>
<span class="kn">from</span> <span class="nn">matplotlib.gridspec</span> <span class="kn">import</span> <span class="n">GridSpec</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># home brew utitilties</span>
<span class="kn">import</span> <span class="nn">resources.chart_kwargs</span> <span class="k">as</span> <span class="nn">ck</span>
<span class="kn">import</span> <span class="nn">resources.sr_ut</span> <span class="k">as</span> <span class="nn">sut</span>

<span class="c1"># images and display</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span> <span class="k">as</span> <span class="n">PILImage</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Markdown</span> <span class="k">as</span> <span class="n">md</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span> 

<span class="c1"># set some parameters:</span>
<span class="c1"># today = dt.datetime.now().date().strftime(&quot;%Y-%m-%d&quot;)</span>
<span class="n">start_date</span> <span class="o">=</span> <span class="s2">&quot;2015-11-01&quot;</span>
<span class="n">end_date</span> <span class="o">=</span><span class="s2">&quot;2021-05-31&quot;</span>

<span class="n">start_end</span> <span class="o">=</span> <span class="p">[</span><span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">]</span>

<span class="n">unit_label</span> <span class="o">=</span> <span class="s2">&quot;p/100m&quot;</span>

<span class="n">unit_value</span> <span class="o">=</span> <span class="mi">100</span>

<span class="n">fail_rate</span> <span class="o">=</span> <span class="mi">50</span>

<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">&quot;whitegrid&quot;</span><span class="p">)</span>

<span class="c1"># colors for gradients</span>
<span class="n">cmap2</span> <span class="o">=</span> <span class="n">ck</span><span class="o">.</span><span class="n">cmap2</span>

<span class="c1"># colors for projects</span>
<span class="n">this_palette</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;2020&quot;</span><span class="p">:</span><span class="s2">&quot;dodgerblue&quot;</span><span class="p">,</span> <span class="s2">&quot;2018&quot;</span><span class="p">:</span><span class="s2">&quot;magenta&quot;</span><span class="p">}</span>
<span class="n">this_palettel</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;2020&quot;</span><span class="p">:</span><span class="s2">&quot;teal&quot;</span><span class="p">,</span> <span class="s2">&quot;2018&quot;</span><span class="p">:</span><span class="s2">&quot;indigo&quot;</span><span class="p">}</span>

<span class="c1"># get the data:</span>
<span class="n">survey_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;resources/agg_results_with_land_use_2015.csv&quot;</span><span class="p">)</span>
<span class="n">dfBeaches</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;resources/beaches_with_land_use_rates.csv&quot;</span><span class="p">)</span>
<span class="n">dfCodes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;resources/codes_with_group_names_2015.csv&quot;</span><span class="p">)</span>

<span class="c1"># a common aggregation</span>
<span class="n">agg_pcs_quantity</span> <span class="o">=</span> <span class="p">{</span><span class="n">unit_label</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">}</span>

<span class="c1"># reference columns</span>
<span class="n">use_these_cols</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">,</span><span class="s2">&quot;loc_date&quot;</span> <span class="p">,</span><span class="s2">&quot;% to buildings&quot;</span><span class="p">,</span> <span class="s2">&quot;% to trans&quot;</span><span class="p">,</span> <span class="s2">&quot;% to recreation&quot;</span><span class="p">,</span> <span class="s2">&quot;% to agg&quot;</span><span class="p">,</span> <span class="s2">&quot;% to woods&quot;</span><span class="p">,</span><span class="s2">&quot;population&quot;</span><span class="p">,</span><span class="s2">&quot;water_name_slug&quot;</span><span class="p">,</span><span class="s2">&quot;streets km&quot;</span><span class="p">,</span> <span class="s2">&quot;intersects&quot;</span><span class="p">,</span> <span class="s2">&quot;groupname&quot;</span><span class="p">,</span><span class="s2">&quot;code&quot;</span><span class="p">]</span>

<span class="c1"># explanatory variables:</span>
<span class="n">luse_exp</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;% to buildings&quot;</span><span class="p">,</span> <span class="s2">&quot;% to recreation&quot;</span><span class="p">,</span> <span class="s2">&quot;% to agg&quot;</span><span class="p">,</span> <span class="s2">&quot;% to woods&quot;</span><span class="p">,</span> <span class="s2">&quot;streets km&quot;</span><span class="p">,</span> <span class="s2">&quot;intersects&quot;</span><span class="p">]</span>

<span class="c1"># lakes that have samples in both years</span>
<span class="n">these_lakes</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;zurichsee&quot;</span><span class="p">,</span> <span class="s2">&quot;bielersee&quot;</span><span class="p">,</span> <span class="s2">&quot;lac-leman&quot;</span><span class="p">,</span> <span class="s2">&quot;neuenburgersee&quot;</span><span class="p">,</span> <span class="s2">&quot;walensee&quot;</span><span class="p">,</span> <span class="s2">&quot;thunersee&quot;</span><span class="p">]</span>

<span class="c1"># set the index of the beach data to location slug</span>
<span class="n">dfBeaches</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;slug&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># index the code data</span>
<span class="n">dfCodes</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># the surveyor designated the object as aluminum instead of metal</span>
<span class="n">dfCodes</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;G708&quot;</span><span class="p">,</span> <span class="s2">&quot;material&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Metal&quot;</span>

<span class="c1"># language specific</span>
<span class="c1"># importing german code descriptions</span>
<span class="n">de_codes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;resources/codes_german_Version_1.csv&quot;</span><span class="p">)</span>
<span class="n">de_codes</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">dfCodes</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
    <span class="n">dfCodes</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">de_codes</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="s2">&quot;german&quot;</span><span class="p">]</span>

<span class="c1"># there are long code descriptions that may need to be shortened for display</span>
<span class="n">codes_to_change</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">&quot;G704&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;Seilbahnbürste&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;Gfrags&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;Fragmentierte Kunststoffstücke&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;G30&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;Snack-Verpackungen&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;G124&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;Kunststoff-oder Schaumstoffprodukte&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;G87&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;Abdeckklebeband/Verpackungsklebeband&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;G178&quot;</span><span class="p">,</span><span class="s2">&quot;description&quot;</span><span class="p">,</span><span class="s2">&quot;Flaschenverschlüsse aus Metall&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;G3&quot;</span><span class="p">,</span><span class="s2">&quot;description&quot;</span><span class="p">,</span><span class="s2">&quot;Einkaufstaschen, Shoppingtaschen&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;G33&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;Einwegartikel; Tassen/Becher &amp; Deckel&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;G31&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;Schleckstengel, Stengel von Lutscher&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;G211&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;Sonstiges medizinisches Material&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;G904&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;Feuerwerkskörper; Raketenkappen&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;G940&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;Schaumstoff EVA (flexibler Kunststoff)&quot;</span><span class="p">]</span>
<span class="p">]</span>

<span class="c1"># apply changes</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">codes_to_change</span><span class="p">:</span>
    <span class="n">dfCodes</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">shorten_the_value</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">dfCodes</span><span class="p">)</span>

<span class="c1"># translate the material column</span>
<span class="n">dfCodes</span><span class="p">[</span><span class="s2">&quot;material&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dfCodes</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">sut</span><span class="o">.</span><span class="n">mat_ge</span><span class="p">[</span><span class="n">x</span><span class="p">])</span> 

<span class="c1"># make a map to the code descriptions</span>
<span class="n">code_description_map</span> <span class="o">=</span> <span class="n">dfCodes</span><span class="o">.</span><span class="n">description</span>

<span class="c1"># make a map to the code materials</span>
<span class="n">code_material_map</span> <span class="o">=</span> <span class="n">dfCodes</span><span class="o">.</span><span class="n">material</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="mehr-und-weniger-seit-2018">
<span id="slr-iqaaslde"></span><h1><span class="section-number">31. </span>Mehr und weniger seit 2018<a class="headerlink" href="#mehr-und-weniger-seit-2018" title="Permalink to this headline">¶</a></h1>
<p><a href="slr_2017.html"> English </a></p>
<p>Der erste nationale Strandabfallbericht wurde 2018 erstellt. Der Swiss Litter Report (SLR) war ein Projekt, das von Gabriele Kuhl <span id="id1">[<a class="reference internal" href="references.html#id78">Kuh</a>]</span>  initiiert und vom World Wildlife Fund Schweiz <span id="id2">[<a class="reference internal" href="references.html#id79">Fun</a>]</span>unterstützt wurde. Das Protokoll basierte auf dem Leitfaden für die Überwachung von Meeresmül<span id="id3">[<a class="reference internal" href="references.html#id41">Han13</a>]</span>, das Projekt wurde vom WWF geleitet und die Erhebungen wurden von Freiwilligen beider Organisationen durchgeführt. Das Projekt begann im April 2017 und endete im März 2018. Die SLR deckte einen Großteil des nationalen Territoriums ab, mit Ausnahme der Region Tessin</p>
<p>Der SLR sammelte 1.052 Proben an 112 Orten. Mehr als 150 geschulte Freiwillige aus 81 Gemeinden sammelten und kategorisierten 98.474 Abfälle an den Ufern von 48 Seen und 67 Flüssen in der Schweiz. <span id="id4">[<a class="reference internal" href="references.html#id61">Bla18</a>]</span></p>
<p>Die naheliegendste Frage ist: Wurde 2020 mehr oder weniger Abfall beobachtet als 2018? Zur Beantwortung dieser Frage wurden zunächst die Erhebungsstandorte der einzelnen Projekte auf der Grundlage des Landnutzungsprofils im Umkreis von 1500 m von jedem Erhebungsstandort für jedes Projekt verglichen. Die Erhebungsergebnisse waren beschränkt auf:</p>
<ol class="simple">
<li><p>Flüsse und Seen mit Proben in beiden Jahren</p></li>
<li><p>Only objects that were identified in 2018 were considered</p></li>
</ol>
<p>Aus dieser Untergruppe von Daten wurden der Median der Gesamtzahl aller Objekte und die durchschnittliche Gesamtzahl der häufigsten Objekte verglichen, um statistisch signifikante Veränderungen in beide Richtungen von einem Projekt zum nächsten zu ermitteln. Dieser Test wurde für zwei Gruppen der Teilmenge durchgeführt:</p>
<ol class="simple">
<li><p>Flüsse und Seen kombiniert mit Proben aus beiden Projekten</p></li>
<li><p>Es wurden nur Objekte berücksichtigt, die im Jahr 2018 identifiziert wurden</p></li>
</ol>
<div class="section" id="umfang-der-projekte-slr-iqaasl">
<h2><span class="section-number">31.1. </span>Umfang der Projekte SLR - IQAASL<a class="headerlink" href="#umfang-der-projekte-slr-iqaasl" title="Permalink to this headline">¶</a></h2>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<img alt="_images/slr_2017_de_2_0.png" src="_images/slr_2017_de_2_0.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># make sure date is time stamp</span>
<span class="n">survey_data</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">survey_data</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">],</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># get only the water features that were sampled in 2020</span>
<span class="n">after_2020</span> <span class="o">=</span> <span class="n">survey_data</span><span class="p">[</span><span class="n">survey_data</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="s2">&quot;2020-01-01&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">water_name_slug</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="n">a_data</span> <span class="o">=</span> <span class="n">survey_data</span><span class="p">[</span><span class="n">survey_data</span><span class="o">.</span><span class="n">water_name_slug</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">after_2020</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># convert pcs-m to unit_value</span>
<span class="n">a_data</span><span class="p">[</span><span class="s2">&quot;pcs_m&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">a_data</span><span class="o">.</span><span class="n">pcs_m</span> <span class="o">*</span> <span class="n">unit_value</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;int&quot;</span><span class="p">)</span>
<span class="n">a_data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;pcs_m&quot;</span><span class="p">:</span><span class="n">unit_label</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># the date ranges of two projects</span>
<span class="n">first_date_range</span> <span class="o">=</span> <span class="p">(</span><span class="n">a_data</span><span class="o">.</span><span class="n">date</span> <span class="o">&gt;=</span> <span class="s2">&quot;2017-04-01&quot;</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">a_data</span><span class="o">.</span><span class="n">date</span> <span class="o">&lt;=</span> <span class="s2">&quot;2018-03-31&quot;</span><span class="p">)</span>
<span class="n">second_date_range</span> <span class="o">=</span> <span class="p">(</span><span class="n">a_data</span><span class="o">.</span><span class="n">date</span> <span class="o">&gt;=</span> <span class="s2">&quot;2020-04-01&quot;</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">a_data</span><span class="o">.</span><span class="n">date</span> <span class="o">&lt;=</span> <span class="s2">&quot;2021-03-31&quot;</span><span class="p">)</span>

<span class="c1"># a df for each set</span>
<span class="n">slr_data</span> <span class="o">=</span> <span class="n">a_data</span><span class="p">[</span><span class="n">first_date_range</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">iqasl_data</span> <span class="o">=</span> <span class="n">a_data</span><span class="p">[</span><span class="n">second_date_range</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># only use codes identified in the first project</span>
<span class="n">these_codes</span> <span class="o">=</span> <span class="n">slr_data</span><span class="p">[</span><span class="n">slr_data</span><span class="o">.</span><span class="n">quantity</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>

<span class="c1"># add a survey year column to each data set</span>
<span class="n">iqasl_data</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;2020&quot;</span>
<span class="n">slr_data</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;2018&quot;</span>

<span class="c1"># put the two sets of data back together</span>
<span class="n">combined_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">iqasl_data</span><span class="p">,</span> <span class="n">slr_data</span><span class="p">])</span>
<span class="n">combined_data</span><span class="p">[</span><span class="s2">&quot;length&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">combined_data</span><span class="o">.</span><span class="n">quantity</span><span class="o">/</span><span class="n">combined_data</span><span class="p">[</span><span class="n">unit_label</span><span class="p">])</span><span class="o">*</span><span class="n">unit_value</span>

<span class="c1"># unique locations in both years</span>
<span class="n">sdlocs</span> <span class="o">=</span> <span class="n">slr_data</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="n">iqs</span> <span class="o">=</span> <span class="n">iqasl_data</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>

<span class="c1"># locations common to both</span>
<span class="n">both_years</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">sdlocs</span><span class="p">)</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">iqs</span><span class="p">))</span>

<span class="c1"># locations specific to each year</span>
<span class="n">just_2017</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">sdlocs</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">iqs</span><span class="p">]</span>
<span class="n">j_2020</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">iqs</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sdlocs</span><span class="p">]</span>

<span class="c1"># use only the codes identified in 2017, the protocol only called for certain MLW codes</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">combined_data</span><span class="p">[</span><span class="n">combined_data</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">these_codes</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># scale the streets value</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;streets km&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">streets</span><span class="o">/</span><span class="mi">1000</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="landnutzungsprofil-der-erhebungsorte">
<h3><span class="section-number">31.1.1. </span>Landnutzungsprofil der Erhebungsorte<a class="headerlink" href="#landnutzungsprofil-der-erhebungsorte" title="Permalink to this headline">¶</a></h3>
<p>Das Landnutzungsprofil sind die messbaren Eigenschaften, die geolokalisiert sind und aus den aktuellen Versionen von Statistique Suisse de la superficie <span id="id5">[<a class="reference internal" href="references.html#id35">Con21a</a>]</span> und swissTlmRegio <span id="id6">[<a class="reference internal" href="references.html#id36">Con21b</a>]</span>. extrahiert werden können. Das Landnutzungsprofil ist eine Schätzung der Art und des Umfangs der wirtschaftlichen Aktivität in der Nähe der Erhebungsorte. Die folgenden Werte wurden in einem Radius von 1500 m um jeden Erhebungsort berechnet:</p>
<ol class="simple">
<li><p>% der Fläche, die auf Gebäude entfällt</p></li>
<li><p>% der Fläche, die dem Wald vorbehalten ist</p></li>
<li><p>% der Fläche, die für Aktivitäten im Freien genutzt wird</p></li>
<li><p>% der Fläche, die der Landwirtschaft zugeschrieben wird</p></li>
<li><p>% Länge aller Fahrbahnen in Metern</p></li>
<li><p>% Anzahl der Abflussschnittpunkte des Flusses</p></li>
</ol>
<p>Mit Stand vom 22. Juni waren die 2021,Landnutzungsdaten für Walensee nicht mehr aktuell. Walensse wurde geschätzt, indem die relevanten Kartenebenen visuell inspiziert und die Landnutzungsraten mit denen anderer Orte mit ähnlicher Bevölkerungszahl verglichen wurden. Einzelheiten zu dieser Berechnung und warum sie wichtig ist, finden Sie unte <a class="reference internal" href="land_use_correlation_de.html#luseprofilede"><span class="std std-ref"><em>Landnutzungsprofil</em></span></a>.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># !!walensee landuse is approximated by comparing the land use profile from similar locations!!</span>
<span class="c1"># the classification for that part of switzerland is incomplete for the current estimates</span>
<span class="c1"># the land use profile of wychely - brienzersee was used for walenstadt-wyss (more prairie, buildings less woods)</span>
<span class="c1"># the land use profile of grand-clos - lac-leman was used for other locations on walensee (more woods, less buildings, less praire and agg)</span>
<span class="n">luse_wstdt</span> <span class="o">=</span> <span class="n">dfBeaches</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;wycheley&quot;</span><span class="p">][[</span><span class="s2">&quot;population&quot;</span><span class="p">,</span><span class="s2">&quot;% to buildings&quot;</span><span class="p">,</span> <span class="s2">&quot;% to trans&quot;</span><span class="p">,</span> <span class="s2">&quot;% to recreation&quot;</span><span class="p">,</span> <span class="s2">&quot;% to agg&quot;</span><span class="p">,</span> <span class="s2">&quot;% to woods&quot;</span><span class="p">]]</span>
<span class="n">estimate_luse</span> <span class="o">=</span> <span class="n">dfBeaches</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;grand-clos&quot;</span><span class="p">][[</span><span class="s2">&quot;population&quot;</span><span class="p">,</span><span class="s2">&quot;% to buildings&quot;</span><span class="p">,</span> <span class="s2">&quot;% to trans&quot;</span><span class="p">,</span> <span class="s2">&quot;% to recreation&quot;</span><span class="p">,</span> <span class="s2">&quot;% to agg&quot;</span><span class="p">,</span> <span class="s2">&quot;% to woods&quot;</span><span class="p">]]</span>
<span class="n">lu</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">luse_ge</span>
<span class="c1"># seperate out the locations that aren&quot;t walenstadt</span>
<span class="n">wlsnsee_locs_not_wstdt</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;gasi-strand&quot;</span><span class="p">,</span> <span class="s2">&quot;untertenzen&quot;</span><span class="p">,</span> <span class="s2">&quot;mols-rocks&quot;</span><span class="p">,</span> <span class="s2">&quot;seeflechsen&quot;</span><span class="p">,</span> <span class="s2">&quot;seemuhlestrasse-strand&quot;</span><span class="p">,</span> <span class="s2">&quot;muhlehorn-dorf&quot;</span><span class="p">,</span> <span class="s2">&quot;murg-bad&quot;</span><span class="p">,</span> <span class="s2">&quot;flibach-river-right-bank&quot;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">a_param</span> <span class="ow">in</span> <span class="n">estimate_luse</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">wlsnsee_locs_not_wstdt</span><span class="p">),</span> <span class="n">a_param</span><span class="p">]</span> <span class="o">=</span> <span class="n">estimate_luse</span><span class="p">[</span><span class="n">a_param</span><span class="p">]</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;walensee_walenstadt_wysse&quot;</span><span class="p">,</span> <span class="n">a_param</span><span class="p">]</span> <span class="o">=</span> <span class="n">luse_wstdt</span><span class="p">[</span><span class="n">a_param</span><span class="p">]</span>
    
<span class="n">dfdt</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">use_these_cols</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_quantity</span><span class="p">)</span>

<span class="c1"># chart the distribtuion of survey results with respect to the land use profile</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">luse_exp</span><span class="p">),</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">luse_exp</span><span class="p">)</span><span class="o">*</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="n">sharey</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="p">)</span>

<span class="n">data</span><span class="o">=</span><span class="n">dfdt</span><span class="p">[(</span><span class="n">dfdt</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2018&quot;</span><span class="p">)]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">use_these_cols</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;p/100m&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">})</span>
<span class="n">data2</span><span class="o">=</span><span class="n">dfdt</span><span class="p">[(</span><span class="n">dfdt</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2020&quot;</span><span class="p">)]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">use_these_cols</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;p/100m&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">})</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">luse_exp</span><span class="p">):</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    
    <span class="c1"># land use data for each project</span>
    <span class="n">the_data</span> <span class="o">=</span> <span class="n">ECDF</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>       
    <span class="n">the_data2</span> <span class="o">=</span> <span class="n">ECDF</span><span class="p">(</span><span class="n">data2</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
    
    <span class="c1"># the median value    </span>
    <span class="n">the_median</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
    <span class="n">median_two</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">data2</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>    
    
    <span class="c1"># plot the curves</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span> <span class="n">the_data</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">the_data</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">this_palette</span><span class="p">[</span><span class="s2">&quot;2018&quot;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;SLR&quot;</span><span class="p">)</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">the_data2</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">the_data2</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">this_palette</span><span class="p">[</span><span class="s2">&quot;2020&quot;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;IQAASL&quot;</span><span class="p">)</span>
    
    <span class="c1"># plot the median and drop horzontal and vertical lines</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">([</span><span class="n">the_median</span><span class="p">],</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">this_palette</span><span class="p">[</span><span class="s2">&quot;2018&quot;</span><span class="p">],</span><span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Median SLR&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">vlines</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">the_median</span><span class="p">,</span> <span class="n">ymin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">this_palette</span><span class="p">[</span><span class="s2">&quot;2018&quot;</span><span class="p">],</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span><span class="n">xmax</span><span class="o">=</span><span class="n">the_median</span><span class="p">,</span> <span class="n">xmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">this_palette</span><span class="p">[</span><span class="s2">&quot;2018&quot;</span><span class="p">],</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    
    <span class="c1"># plot the median and drop horzontal and vertical lines</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">([</span><span class="n">median_two</span><span class="p">],</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">this_palette</span><span class="p">[</span><span class="s2">&quot;2020&quot;</span><span class="p">],</span><span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Median IQAASL&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">vlines</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">median_two</span><span class="p">,</span> <span class="n">ymin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">this_palette</span><span class="p">[</span><span class="s2">&quot;2020&quot;</span><span class="p">],</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span><span class="n">xmax</span><span class="o">=</span><span class="n">median_two</span><span class="p">,</span> <span class="n">xmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">this_palette</span><span class="p">[</span><span class="s2">&quot;2020&quot;</span><span class="p">],</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Prozent der Standorte&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">lu</span><span class="p">[</span><span class="n">n</span><span class="p">],</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k</span><span class="p">)</span>
    
<span class="n">handles</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">ax</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">top</span><span class="o">=</span><span class="mf">.9</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% La</span><span class="s2">ndnutzung im Umkreis von 1500 m um den Erhebungsort&quot;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">.97</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>    
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">.99</span><span class="p">,</span><span class="mf">.99</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper right&quot;</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/slr_2017_de_5_0.png" src="_images/slr_2017_de_5_0.png" />
</div>
</div>
<p><em><strong>Oben</strong> Verteilung der Anzahl der Umfragen in Bezug auf das Landnutzungsprofil SLR - IQAASL</em></p>
<p>Die Stichprobenorte in der SLR hatten einen größeren Anteil an landwirtschaftlich genutzter Fläche und ein dichteres Straßennetz als die Orte in IQAASL. Der prozentuale Anteil der Wälder an der Gesamtfläche weicht nach dem Median ab. An diesem Punkt haben die Orte in IQAASL einen größeren Anteil an Wäldern im Vergleich zu SLR.</p>
<p>Die Einwohnerzahl (nicht gezeigt) stammt aus statpop 2018 <span id="id7">[<a class="reference internal" href="references.html#id8">Con</a>]</span>. Die kleinste Einwohnerzahl betrug 442 und die größte 415.357. Mindestens 50% der Stichproben stammten aus Gemeinden mit einer Einwohnerzahl von 13.000 oder weniger.</p>
<p>Wenn der prozentuale Anteil der Landwirtschaft an der Landnutzung ein Zeichen für Verstädterung ist, dann waren die untersuchten Gebiete im Jahr 2020 etwas städtischer als 2018.</p>
</div>
</div>
<div class="section" id="ergebnisse-seen-und-flusse">
<h2><span class="section-number">31.2. </span>Ergebnisse Seen und Flüsse<a class="headerlink" href="#ergebnisse-seen-und-flusse" title="Permalink to this headline">¶</a></h2>
<p>Betrachtet man nur die Seen und Flüsse, die in beiden Jahren Proben aufweisen, so wurden 2018 mehr Proben und Müll an weniger Orten gesammelt als 2020. Auf der Basis von Stücken pro Meter war der Median im Jahr 2020 jedoch größer.</p>
<div class="section" id="verteilung-der-ergebnisse-2018-und-2020">
<h3><span class="section-number">31.2.1. </span>Verteilung der Ergebnisse 2018 und 2020<a class="headerlink" href="#verteilung-der-ergebnisse-2018-und-2020" title="Permalink to this headline">¶</a></h3>
<p><em><strong>Oben links:</strong> Gesamtwerte der Umfrage nach Datum. <strong>Oben rechts:</strong> Median der monatlichen Gesamtzahl der Erhebungen. <strong>Unten links:</strong> Anzahl der Stichproben in Bezug auf die Gesamtzahl der Erhebungen. <strong>Unten rechts:</strong> empirische kumulative Verteilung der Gesamtzahlen der Erhebungen.</em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># group by survey and sum all the objects for each survey AKA: survey total</span>
<span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;survey year&quot;</span><span class="p">,</span><span class="s2">&quot;water_name_slug&quot;</span><span class="p">,</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="s2">&quot;date&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">data</span><span class="p">[</span><span class="s2">&quot;lakes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">water_name_slug</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">these_lakes</span><span class="p">)</span>

<span class="c1"># get the ecdf for both projects</span>
<span class="n">ecdf_2017</span> <span class="o">=</span> <span class="n">ECDF</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2018&quot;</span><span class="p">][</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">ecdf_2020</span> <span class="o">=</span> <span class="n">ECDF</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2020&quot;</span><span class="p">][</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

<span class="c1"># get the ecddf for the condition lakes in both years</span>
<span class="n">l2017</span> <span class="o">=</span> <span class="n">data</span><span class="p">[(</span><span class="n">data</span><span class="o">.</span><span class="n">water_name_slug</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">these_lakes</span><span class="p">))</span><span class="o">&amp;</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2018&quot;</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">l2020</span> <span class="o">=</span> <span class="n">data</span><span class="p">[(</span><span class="n">data</span><span class="o">.</span><span class="n">water_name_slug</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">these_lakes</span><span class="p">))</span><span class="o">&amp;</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2020&quot;</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="n">ecdf_2017l</span> <span class="o">=</span> <span class="n">ECDF</span><span class="p">(</span><span class="n">l2017</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">ecdf_2020l</span> <span class="o">=</span> <span class="n">ECDF</span><span class="p">(</span><span class="n">l2020</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

<span class="c1"># group by survey year and use pd.describe to get basic stats</span>
<span class="n">som_1720</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;survey year&quot;</span><span class="p">)[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># add total quantity and number of unique locations</span>
<span class="n">som_1720</span><span class="p">[</span><span class="s2">&quot;total objects&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">som_1720</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="n">som_1720</span><span class="p">[</span><span class="s2">&quot;# locations&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">som_1720</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">nunique</span><span class="p">())</span>

<span class="c1"># make columns names more descriptive</span>
<span class="n">som_1720</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">(</span><span class="n">sut</span><span class="o">.</span><span class="n">create_summary_table_index</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s2">&quot;DE&quot;</span><span class="p">)),</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ab</span> <span class="o">=</span> <span class="n">som_1720</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

<span class="c1"># melt that on survey year</span>
<span class="n">c_s</span> <span class="o">=</span> <span class="n">ab</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">id_vars</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">])</span>

<span class="c1"># pivot on survey year</span>
<span class="n">combined_summary</span> <span class="o">=</span> <span class="n">c_s</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;variable&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s2">&quot;survey year&quot;</span><span class="p">)</span>

<span class="c1"># change the index to date</span>
<span class="n">data</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># get the median monthly value</span>
<span class="n">monthly_2017</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2018&quot;</span><span class="p">][</span><span class="s2">&quot;p/100m&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s2">&quot;M&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>

<span class="c1"># change the date to the name of the month for charting</span>
<span class="n">months_2017</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;month&quot;</span><span class="p">:[</span><span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s2">&quot;%b&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">monthly_2017</span><span class="o">.</span><span class="n">index</span><span class="p">],</span> <span class="n">unit_label</span><span class="p">:</span><span class="n">monthly_2017</span><span class="o">.</span><span class="n">values</span><span class="p">})</span>

<span class="c1"># repeat for 2020</span>
<span class="n">monthly_2020</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2020&quot;</span><span class="p">][</span><span class="s2">&quot;p/100m&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s2">&quot;M&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>
<span class="n">months_2020</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;month&quot;</span><span class="p">:[</span><span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s2">&quot;%b&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">monthly_2020</span><span class="o">.</span><span class="n">index</span><span class="p">],</span> <span class="n">unit_label</span><span class="p">:</span><span class="n">monthly_2020</span><span class="o">.</span><span class="n">values</span><span class="p">})</span>

<span class="c1"># set the date intervals for the chart</span>
<span class="n">months</span> <span class="o">=</span> <span class="n">mdates</span><span class="o">.</span><span class="n">MonthLocator</span><span class="p">(</span><span class="n">interval</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">months_fmt</span> <span class="o">=</span> <span class="n">mdates</span><span class="o">.</span><span class="n">DateFormatter</span><span class="p">(</span><span class="s2">&quot;%b&quot;</span><span class="p">)</span>
<span class="n">years</span> <span class="o">=</span> <span class="n">mdates</span><span class="o">.</span><span class="n">YearLocator</span><span class="p">()</span>

<span class="c1"># set a y limit axis:</span>
<span class="n">the_90th</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;p/100m&quot;</span><span class="p">],</span> <span class="mi">95</span><span class="p">)</span>

<span class="c1"># chart that</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">9</span><span class="p">),</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># set axs and lables</span>
<span class="n">axone</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">axtwo</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">axthree</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">axfour</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>

<span class="n">axone</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span><span class="n">months</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">years</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>

<span class="n">axtwo</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="n">axtwo</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>
<span class="n">axtwo</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="n">the_90th</span><span class="p">)</span>

<span class="n">axthree</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;# der Erhebungen&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>
<span class="n">axthree</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k</span><span class="p">)</span>

<span class="n">axfour</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% d</span><span class="s2">er Erhebungen&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>
<span class="n">axfour</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k</span><span class="p">)</span>

<span class="c1"># histogram data:</span>
<span class="n">data_long</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">data</span><span class="p">[[</span><span class="s2">&quot;survey year&quot;</span><span class="p">,</span> <span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="n">unit_label</span><span class="p">]],</span><span class="n">id_vars</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">,</span><span class="s2">&quot;loc_date&quot;</span><span class="p">],</span> <span class="n">value_vars</span><span class="o">=</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,),</span> <span class="n">value_name</span><span class="o">=</span><span class="s2">&quot;survey total&quot;</span><span class="p">)</span>
<span class="n">data_long</span><span class="p">[</span><span class="s2">&quot;year_bin&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">data_long</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2018&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># scatter plot of surveys both years</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;p/100m&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Erhebungsjahr&quot;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;survey year&quot;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="n">this_palette</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axone</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper center&quot;</span><span class="p">)</span>

<span class="c1"># monthly median</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">months_2017</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;month&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">this_palette</span><span class="p">[</span><span class="s2">&quot;2018&quot;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">F</span><span class="s2">&quot;2018&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axtwo</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">months_2020</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;month&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">this_palette</span><span class="p">[</span><span class="s2">&quot;2020&quot;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">F</span><span class="s2">&quot;2020&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axtwo</span><span class="p">)</span>

<span class="c1"># histogram</span>
<span class="n">axthree</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data_long</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;survey total&quot;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;survey year&quot;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="n">multiple</span><span class="o">=</span><span class="s2">&quot;stack&quot;</span><span class="p">,</span><span class="n">palette</span><span class="o">=</span><span class="n">this_palette</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axthree</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="p">[</span><span class="n">x</span><span class="o">*</span><span class="mi">20</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">80</span><span class="p">)])</span>
<span class="n">axthreel</span> <span class="o">=</span> <span class="n">axthree</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span>
<span class="n">axthreel</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>

<span class="c1"># empirical cumulative distribution</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">ecdf_2017</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">ecdf_2017</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axfour</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">this_palette</span><span class="p">[</span><span class="s2">&quot;2018&quot;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;2018&quot;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">ecdf_2020</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">ecdf_2020</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axfour</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">this_palette</span><span class="p">[</span><span class="s2">&quot;2020&quot;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;2020&quot;</span><span class="p">)</span>

<span class="n">axfour</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">ticker</span><span class="o">.</span><span class="n">MultipleLocator</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span> 
<span class="n">axfour</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span><span class="n">ticker</span><span class="o">.</span><span class="n">MultipleLocator</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span> 

<span class="n">axfour</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;center right&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Erhebungsjahr&quot;</span><span class="p">)</span>
<span class="n">axfour</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">axfour</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s2">&quot;minor&quot;</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/slr_2017_de_12_01.png" src="_images/slr_2017_de_12_01.png" />
</div>
</div>
</div>
<div class="section" id="zusammenfassende-daten-und-materialtypen-2018-und-2020">
<h3><span class="section-number">31.2.2. </span>Zusammenfassende Daten und Materialtypen 2018 und 2020<a class="headerlink" href="#zusammenfassende-daten-und-materialtypen-2018-und-2020" title="Permalink to this headline">¶</a></h3>
<p><em><strong>Links:</strong> Zusammenfassung der Gesamtzahlen der Umfrage. <strong>Rechts:</strong> Materialtypen</em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># format for printing</span>
<span class="n">combined_summary</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">combined_summary</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">col_rder</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Anzahl der Standorte&#39;</span><span class="p">,</span>
    <span class="s1">&#39;# Erhebungen&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Durchschnitt p/100m&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Standardfehler&#39;</span><span class="p">,</span>
    <span class="s1">&#39;min p/100m&#39;</span><span class="p">,</span>
    <span class="s1">&#39;25%&#39;</span><span class="p">,</span>
    <span class="s1">&#39;50%&#39;</span><span class="p">,</span>
    <span class="s1">&#39;75%&#39;</span><span class="p">,</span>
    <span class="s1">&#39;max p/100m&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Totalobjekte&#39;</span>
<span class="p">]</span>
<span class="n">cy</span> <span class="o">=</span> <span class="n">combined_summary</span><span class="p">[</span><span class="n">col_rder</span><span class="p">]</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">cy</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

<span class="n">c</span><span class="p">[[</span><span class="s2">&quot;2018&quot;</span><span class="p">,</span> <span class="s2">&quot;2020&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">c</span><span class="p">[[</span><span class="s2">&quot;2018&quot;</span><span class="p">,</span> <span class="s2">&quot;2020&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;int&quot;</span><span class="p">)</span>

<span class="c1"># material totals</span>
<span class="n">mat_total</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;survey year&quot;</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># add material type:</span>
<span class="n">mat_total</span><span class="p">[</span><span class="s2">&quot;mat&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mat_total</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">code_material_map</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>

<span class="c1"># the cumulative sum of material by category</span>
<span class="n">mat_total</span> <span class="o">=</span> <span class="n">mat_total</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;survey year&quot;</span><span class="p">,</span> <span class="s2">&quot;mat&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># get the % of total and fail rate for each object from each year</span>
<span class="c1"># add the yearly total column</span>
<span class="n">mat_total</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mat_total</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2018&quot;</span><span class="p">,</span> <span class="s2">&quot;yt&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mat_total</span><span class="p">[</span><span class="n">mat_total</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2018&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">mat_total</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mat_total</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2020&quot;</span><span class="p">,</span> <span class="s2">&quot;yt&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mat_total</span><span class="p">[</span><span class="n">mat_total</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2020&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># get % of total</span>
<span class="n">mat_total</span><span class="p">[</span><span class="s2">&quot;pt&quot;</span><span class="p">]</span> <span class="o">=</span><span class="p">((</span><span class="n">mat_total</span><span class="o">.</span><span class="n">quantity</span><span class="o">/</span><span class="n">mat_total</span><span class="o">.</span><span class="n">yt</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># format for printing:</span>
<span class="n">mat_total</span><span class="p">[</span><span class="s2">&quot;pt&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mat_total</span><span class="o">.</span><span class="n">pt</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
<span class="n">mat_total</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mat_total</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># pivot and rename columns</span>
<span class="n">m_t</span> <span class="o">=</span> <span class="n">mat_total</span><span class="p">[[</span><span class="s2">&quot;survey year&quot;</span><span class="p">,</span><span class="s2">&quot;mat&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="s2">&quot;pt&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;survey year&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s2">&quot;mat&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s2">&quot;pt&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">m_t</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;mat&quot;</span><span class="p">:</span><span class="s2">&quot;material&quot;</span><span class="p">,</span> <span class="s2">&quot;pt&quot;</span><span class="p">:</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># put that in a table</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">10.5</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>

<span class="n">axone</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">axtwo</span><span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="c1"># convenience func</span>
<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">axone</span><span class="p">)</span>
<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">axtwo</span><span class="p">)</span>

<span class="n">a_table</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_a_table</span><span class="p">(</span><span class="n">axone</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>  <span class="n">colLabels</span><span class="o">=</span><span class="n">c</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">colWidths</span><span class="o">=</span><span class="p">[</span><span class="mf">.5</span><span class="p">,</span><span class="mf">.25</span><span class="p">,</span><span class="mf">.25</span><span class="p">],</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;lower center&quot;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">a_table</span><span class="o">.</span><span class="n">get_celld</span><span class="p">()[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>

<span class="c1"># material totals</span>
<span class="n">a_table</span> <span class="o">=</span> <span class="n">axtwo</span><span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="n">cellText</span><span class="o">=</span><span class="n">m_t</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>  <span class="n">colLabels</span><span class="o">=</span><span class="n">m_t</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">colWidths</span><span class="o">=</span><span class="p">[</span><span class="mf">.5</span><span class="p">,</span><span class="mf">.25</span><span class="p">,</span><span class="mf">.25</span><span class="p">],</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;lower center&quot;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">the_material_table_data</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_a_summary_table</span><span class="p">(</span><span class="n">a_table</span><span class="p">,</span><span class="n">m_t</span><span class="p">,</span><span class="n">m_t</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">s_et_bottom_row</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/slr_2017_de_15_0.png" src="_images/slr_2017_de_15_0.png" />
</div>
</div>
<p><em>Bei den Chemikalien handelt es sich hauptsächlich um Paraffin und beim Holz um verarbeitetes Holz</em></p>
<div class="section" id="differenz-der-mediane-2018-2020">
<h4><span class="section-number">31.2.2.1. </span>Differenz der Mediane 2018 - 2020<a class="headerlink" href="#differenz-der-mediane-2018-2020" title="Permalink to this headline">¶</a></h4>
<p>Der beobachtete Unterschied der Mediane zwischen den beiden Projekten beträgt 14p/100m. Unterschiede dieser Größenordnung würden nicht wahrgenommen und könnten auf Zufall zurückzuführen sein. Um die Hypothese zu testen, wurde ein Permutationstest durchgeführt:</p>
<blockquote>
<div><p>Nullhypothese: Der Median des Umfrageergebnisses von 2018 unterscheidet sich statistisch nicht von dem Median von 2020 und der beobachtete Unterschied ist auf Zufall zurückzuführen.</p>
</div></blockquote>
<blockquote>
<div><p>Alternativhypothese: Der Median des Umfrageergebnisses von 2018 unterscheidet sich statistisch von dem Median von 2020 und der beobachtete Unterschied ist nicht zufällig.</p>
</div></blockquote>
<p><em><strong>Unten:</strong> Die Verteilung der Differenz der Mediane zwischen 2018 und 2020. Die Umfrageergebnisse wurden gemischt und in der Spalte des Umfragejahres 5.000 Mal als Stichprobe gezogen. Die Nullhypothese kann nicht verworfen werden, was das Argument stützt, dass die Medianwerte der Umfrageergebnisse von Jahr zu Jahr ungefähr gleich sind.</em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># data for testing</span>
<span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># get the survey total for each survey keep the survey year column</span>
<span class="n">pre_shuffle</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;survey year&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># get the median from each year</span>
<span class="n">observed_median</span> <span class="o">=</span> <span class="n">pre_shuffle</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;survey year&quot;</span><span class="p">)[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>

<span class="c1"># get the dif mu_2020 - mu_2017</span>
<span class="n">observed_dif</span> <span class="o">=</span> <span class="n">observed_median</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;2020&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">observed_median</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;2018&quot;</span><span class="p">]</span>

<span class="c1"># a place to store the sample statistics</span>
<span class="n">new_medians</span><span class="o">=</span><span class="p">[]</span>

<span class="c1"># resampling:</span>
<span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5000</span><span class="p">):</span>
    
    <span class="c1"># shuffle the entire survey year column</span>
    <span class="n">pre_shuffle</span><span class="p">[</span><span class="s2">&quot;new_class&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pre_shuffle</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">frac</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">values</span>
    <span class="c1"># get the median for both &quot;survey years&quot;</span>
    <span class="n">b</span><span class="o">=</span><span class="n">pre_shuffle</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;new_class&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>
    <span class="c1"># get the change and store it    </span>
    <span class="n">new_medians</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">b</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;2018&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">b</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;2020&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="c1"># calculate the empirical p</span>
<span class="n">emp_p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">count_nonzero</span><span class="p">(</span><span class="n">new_medians</span> <span class="o">&lt;=</span> <span class="n">observed_dif</span> <span class="p">)</span><span class="o">/</span> <span class="mi">5000</span>

<span class="c1"># chart the results</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">new_medians</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">F</span><span class="s2">&quot;$</span><span class="se">\u0394</span><span class="s2">\mu$ = </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">observed_dif</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2">, perm=5000, p=</span><span class="si">{</span><span class="n">emp_p</span><span class="si">}</span><span class="s2"> &quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">title_k14</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Permutationen&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;$\mu$ 2020 - $\mu$ 2018&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/slr_2017_de_18_0.png" src="_images/slr_2017_de_18_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="die-haufigsten-objekte">
<h3><span class="section-number">31.2.3. </span>Die häufigsten Objekte<a class="headerlink" href="#die-haufigsten-objekte" title="Permalink to this headline">¶</a></h3>
<p><em><strong>Unten:</strong> Die häufigsten Objekte sind die zehn mengenmäßig am häufigsten vorkommenden UND/ODER Objekte, die in mindestens 50% aller Erhebungen identifiziert wurden. Das sind 60-80% aller Objekte, die in einem bestimmten Erhebungszeitraum identifiziert wurden. Die am häufigsten vorkommenden Objekte sind nicht von Jahr zu Jahr die gleichen. Um die Veränderungen zu bewerten, werden nur die Objekte berücksichtigt, die in beiden Jahren am häufigsten vorkamen. <strong>Links:</strong> häufigste Objekte 2018, <strong>rechts:</strong> häufigste Objekte 2020.</em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># code totals by project</span>
<span class="n">c_totals</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;survey year&quot;</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;fail&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="n">unit_label</span><span class="p">:</span><span class="s2">&quot;median&quot;</span><span class="p">})</span>

<span class="c1"># calculate the fail rate % of total for each code and survey year</span>
<span class="k">for</span> <span class="n">a_year</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;2018&quot;</span><span class="p">,</span> <span class="s2">&quot;2020&quot;</span><span class="p">]:</span>
    <span class="n">c_totals</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">c_totals</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">a_year</span><span class="p">,</span> <span class="s2">&quot;fail rate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span><span class="n">c_totals</span><span class="o">.</span><span class="n">fail</span><span class="o">/</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">a_year</span><span class="p">]</span><span class="o">.</span><span class="n">loc_date</span><span class="o">.</span><span class="n">nunique</span><span class="p">())</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;int&quot;</span><span class="p">)</span>
    <span class="n">c_totals</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">c_totals</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">a_year</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span><span class="n">c_totals</span><span class="o">.</span><span class="n">quantity</span><span class="o">/</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">a_year</span><span class="p">]</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;int&quot;</span><span class="p">)</span>
    
<span class="c1"># get all the instances where the fail rate is &gt; fail_rate</span>
<span class="n">c_50</span> <span class="o">=</span> <span class="n">c_totals</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">c_totals</span><span class="p">[</span><span class="s2">&quot;fail rate&quot;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">fail_rate</span><span class="p">]</span>

<span class="c1"># the top ten from each project</span>
<span class="n">ten_2017</span> <span class="o">=</span> <span class="n">c_totals</span><span class="p">[</span><span class="n">c_totals</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2018&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="n">ten_2020</span> <span class="o">=</span> <span class="n">c_totals</span><span class="p">[</span><span class="n">c_totals</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2020&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>

<span class="c1"># combine the most common from each year with the top ten from each year</span>
<span class="c1"># most common 2017</span>
<span class="n">mcom_2017</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">c_50</span><span class="p">[</span><span class="n">c_50</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;2018&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span><span class="o">|</span><span class="nb">set</span><span class="p">(</span><span class="n">ten_2017</span><span class="p">))</span>

<span class="c1"># most common 2020</span>
<span class="n">mcom_2020</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">c_50</span><span class="p">[</span><span class="n">c_50</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;2020&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span><span class="o">|</span><span class="nb">set</span><span class="p">(</span><span class="n">ten_2020</span><span class="p">))</span>

<span class="c1"># the set of objects that were the most common in both years:</span>
<span class="n">mcom</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">mcom_2017</span><span class="p">)</span><span class="o">&amp;</span><span class="nb">set</span><span class="p">(</span><span class="n">mcom_2020</span><span class="p">))</span>

<span class="c1"># get the data</span>
<span class="n">com_2017</span> <span class="o">=</span> <span class="n">c_totals</span><span class="p">[(</span><span class="n">c_totals</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2018&quot;</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">c_totals</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">mcom</span><span class="p">))]</span>
<span class="n">com_2020</span> <span class="o">=</span> <span class="n">c_totals</span><span class="p">[(</span><span class="n">c_totals</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2020&quot;</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">c_totals</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">mcom</span><span class="p">))]</span>

<span class="c1"># format values for table</span>
<span class="n">table_data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">chart_labels</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;2018&quot;</span><span class="p">,</span> <span class="s2">&quot;2020&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">som_data</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">([</span><span class="n">com_2017</span><span class="p">,</span> <span class="n">com_2020</span><span class="p">]):</span>
    <span class="n">som_data</span> <span class="o">=</span> <span class="n">som_data</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;code&quot;</span><span class="p">)</span>
    <span class="n">som_data</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">som_data</span><span class="p">[</span><span class="s2">&quot;item&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">som_data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">code_description_map</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
    <span class="n">som_data</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">som_data</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
    <span class="n">som_data</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">som_data</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">som_data</span><span class="p">[</span><span class="s2">&quot;fail rate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">som_data</span><span class="p">[</span><span class="s2">&quot;fail rate&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
    <span class="n">som_data</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span> <span class="o">=</span> <span class="n">som_data</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>    
    <span class="n">table_data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="n">chart_labels</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span><span class="n">som_data</span><span class="p">})</span>

<span class="c1"># the columns needed</span>
<span class="n">cols_to_use</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;item&quot;</span><span class="p">:</span><span class="s2">&quot;Objekte&quot;</span><span class="p">,</span><span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;Gesamt&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">:</span><span class="s2">&quot;</span><span class="si">% G</span><span class="s2">esamt&quot;</span><span class="p">,</span> <span class="s2">&quot;fail rate&quot;</span><span class="p">:</span><span class="s2">&quot;Pass fail&quot;</span><span class="p">,</span> <span class="n">unit_label</span><span class="p">:</span><span class="n">unit_label</span><span class="p">}</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">17.2</span><span class="p">,</span><span class="mi">10</span><span class="o">*</span><span class="mf">.6</span><span class="p">))</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">this_table</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">table_data</span><span class="p">):</span>
    <span class="n">this_ax</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    
    <span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">this_ax</span><span class="p">)</span>
    <span class="n">the_first_table_data</span> <span class="o">=</span> <span class="n">this_ax</span><span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="n">table_data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">chart_labels</span><span class="p">[</span><span class="n">i</span><span class="p">]][</span><span class="n">cols_to_use</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>  <span class="n">colLabels</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">cols_to_use</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span> <span class="n">colWidths</span><span class="o">=</span><span class="p">[</span><span class="mf">.48</span><span class="p">,</span> <span class="mf">.13</span><span class="p">,</span><span class="mf">.13</span><span class="p">,</span><span class="mf">.13</span><span class="p">,</span> <span class="mf">.13</span><span class="p">],</span> <span class="n">bbox</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">a_summary_table_one</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_a_summary_table</span><span class="p">(</span><span class="n">the_first_table_data</span><span class="p">,</span><span class="n">table_data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">chart_labels</span><span class="p">[</span><span class="n">i</span><span class="p">]][</span><span class="n">cols_to_use</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span><span class="nb">list</span><span class="p">(</span><span class="n">cols_to_use</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span> <span class="n">this_palette</span><span class="p">[</span><span class="s2">&quot;2020&quot;</span><span class="p">])</span>
    <span class="n">this_ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">chart_labels</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/slr_2017_de_20_0.png" src="_images/slr_2017_de_20_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="ergebnisse-seen-2018-und-2020">
<h2><span class="section-number">31.3. </span>Ergebnisse Seen 2018 und 2020<a class="headerlink" href="#ergebnisse-seen-2018-und-2020" title="Permalink to this headline">¶</a></h2>
<p>Die folgenden Seen wurden in beiden Projektjahren beprobt:</p>
<ol class="simple">
<li><p>Zurichsee</p></li>
<li><p>Bielersee</p></li>
<li><p>Neuenburgersee</p></li>
<li><p>Walensee</p></li>
<li><p>Lac Léman</p></li>
<li><p>Thunersee</p></li>
</ol>
<p>Bei der Betrachtung der sechs Seen (oben) gab es 2020 mehr Proben und Standorte und größere Mengen an gesammeltem Abfall, aber sowohl der Median als auch der Durchschnitt waren im Vergleich zu 2018 niedriger.</p>
<div class="cell tag_remove-input docutils container">
</div>
<p><em><strong>Oben links:</strong> Umfragesummen nach Datum, <strong>oben rechts:</strong> Median der monatlichen Umfragesumme, <strong>unten links:</strong> Anzahl der Stichproben in Bezug auf die Umfragesumme, <strong>unten rechts:</strong> empirische kumulative Verteilung der Umfragesummen</em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">=</span><span class="n">lks_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;survey year&quot;</span><span class="p">,</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;date&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">data</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># the empirical distributions for each year</span>
<span class="n">ecdf_2017</span> <span class="o">=</span> <span class="n">ECDF</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2018&quot;</span><span class="p">][</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">ecdf_2020</span> <span class="o">=</span> <span class="n">ECDF</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2020&quot;</span><span class="p">][</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

<span class="c1"># get the x,y vals for each year</span>
<span class="n">ecdf_2017_x</span><span class="p">,</span> <span class="n">ecdf_2017_y</span> <span class="o">=</span> <span class="n">ecdf_2017</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ecdf_2017</span><span class="o">.</span><span class="n">y</span>
<span class="n">ecdf_2020_x</span><span class="p">,</span> <span class="n">ecdf_2020_y</span> <span class="o">=</span> <span class="n">ecdf_2020</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ecdf_2020</span><span class="o">.</span><span class="n">y</span>

<span class="n">the_90th</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">unit_label</span><span class="p">],</span> <span class="mi">95</span><span class="p">)</span>

<span class="c1"># the monthly plots</span>
<span class="n">just_2017</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2018&quot;</span><span class="p">][</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s2">&quot;M&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>
<span class="n">monthly_2017</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">just_2017</span><span class="p">)</span>
<span class="n">monthly_2017</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">monthly_2017</span><span class="p">[</span><span class="s2">&quot;month&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">monthly_2017</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s2">&quot;%b&quot;</span><span class="p">))</span>

<span class="n">just_2020</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2020&quot;</span><span class="p">][</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s2">&quot;M&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>
<span class="n">monthly_2020</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">just_2020</span><span class="p">)</span>
<span class="n">monthly_2020</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">monthly_2020</span><span class="p">[</span><span class="s2">&quot;month&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">monthly_2020</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s2">&quot;%b&quot;</span><span class="p">))</span>

<span class="c1"># long form data for histogram</span>
<span class="n">data_long</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">data</span><span class="p">[[</span><span class="s2">&quot;survey year&quot;</span><span class="p">,</span> <span class="s2">&quot;p/100m&quot;</span><span class="p">]],</span><span class="n">id_vars</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">],</span> <span class="n">value_vars</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;p/100m&quot;</span><span class="p">,),</span> <span class="n">value_name</span><span class="o">=</span><span class="s2">&quot;survey total&quot;</span><span class="p">)</span>
<span class="n">data_long</span><span class="p">[</span><span class="s2">&quot;year_bin&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">data_long</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2018&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">data_long</span> <span class="o">=</span> <span class="n">data_long</span><span class="p">[</span><span class="n">data_long</span><span class="p">[</span><span class="s2">&quot;survey total&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">the_90th</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">9</span><span class="p">),</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># set axs and labels</span>
<span class="n">axone</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">axtwo</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">axthree</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">axfour</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>

<span class="n">axone</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;pieces of trash per 100m&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>

<span class="n">axone</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span><span class="n">months</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">years</span><span class="p">)</span>

<span class="n">axtwo</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="n">axtwo</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>

<span class="n">axthree</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;# der Erhebungen&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>
<span class="n">axthree</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k</span><span class="p">)</span>
<span class="n">axtwo</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">the_90th</span><span class="p">)</span>

<span class="n">axfour</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% d</span><span class="s2">er Erhebungen&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>
<span class="n">axfour</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k</span><span class="p">)</span>

<span class="c1"># scatter plot of surveys both years</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;p/100m&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Erhebungsjahr&quot;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;survey year&quot;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="n">this_palette</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axone</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper center&quot;</span><span class="p">)</span>

<span class="c1"># monthly median</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">monthly_2017</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;month&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">this_palette</span><span class="p">[</span><span class="s2">&quot;2018&quot;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">F</span><span class="s2">&quot;2018&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axtwo</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">monthly_2020</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;month&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">this_palette</span><span class="p">[</span><span class="s2">&quot;2020&quot;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">F</span><span class="s2">&quot;2020&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axtwo</span><span class="p">)</span>

<span class="c1"># histogram of survey results</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data_long</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;survey total&quot;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;survey year&quot;</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="n">multiple</span><span class="o">=</span><span class="s2">&quot;stack&quot;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="n">this_palette</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axthree</span><span class="p">)</span>
<span class="n">axthreel</span> <span class="o">=</span> <span class="n">axthree</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span>
<span class="n">axthreel</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>

<span class="c1"># ecdfs</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">ecdf_2017_x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">ecdf_2017_y</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axfour</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">this_palette</span><span class="p">[</span><span class="s2">&quot;2018&quot;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;2018&quot;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">ecdf_2020_x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">ecdf_2020_y</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axfour</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">this_palette</span><span class="p">[</span><span class="s2">&quot;2020&quot;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;2020&quot;</span><span class="p">)</span>

<span class="n">axfour</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">ticker</span><span class="o">.</span><span class="n">MultipleLocator</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span> 
<span class="n">axfour</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span><span class="n">ticker</span><span class="o">.</span><span class="n">MultipleLocator</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span> 
<span class="n">axfour</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;center right&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Erhebungsjahr&quot;</span><span class="p">)</span>
<span class="n">axfour</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">axfour</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s2">&quot;minor&quot;</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="n">axone</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper center&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/slr_2017_de_25_0.png" src="_images/slr_2017_de_25_0.png" />
</div>
</div>
<p><em><strong>Links:</strong> Zusammenfassung der Gesamterhebung, rechts: Materialtype</em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># group by survey year and use pd.describe to get basic stats</span>
<span class="n">som_1720</span> <span class="o">=</span> <span class="n">lks_dt</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;survey year&quot;</span><span class="p">)[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># add total quantity and number of unique locations</span>
<span class="n">som_1720</span><span class="p">[</span><span class="s2">&quot;total objects&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">som_1720</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="n">som_1720</span><span class="p">[</span><span class="s2">&quot;# locations&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">som_1720</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">nunique</span><span class="p">())</span>

<span class="c1"># make columns names more descriptive</span>
<span class="n">som_1720</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">(</span><span class="n">sut</span><span class="o">.</span><span class="n">create_summary_table_index</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s2">&quot;DE&quot;</span><span class="p">)),</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ab</span> <span class="o">=</span> <span class="n">som_1720</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

<span class="c1"># melt that on survey year</span>
<span class="n">c_s</span> <span class="o">=</span> <span class="n">ab</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">id_vars</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">])</span>

<span class="c1"># pivot on survey year</span>
<span class="n">combined_summary</span> <span class="o">=</span> <span class="n">c_s</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;variable&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s2">&quot;survey year&quot;</span><span class="p">)</span>

<span class="c1"># format for printing</span>
<span class="n">combined_summary</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">combined_summary</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">col_rder</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Anzahl der Standorte&#39;</span><span class="p">,</span>
    <span class="s1">&#39;# Erhebungen&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Durchschnitt p/100m&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Standardfehler&#39;</span><span class="p">,</span>
    <span class="s1">&#39;min p/100m&#39;</span><span class="p">,</span>
    <span class="s1">&#39;25%&#39;</span><span class="p">,</span>
    <span class="s1">&#39;50%&#39;</span><span class="p">,</span>
    <span class="s1">&#39;75%&#39;</span><span class="p">,</span>
    <span class="s1">&#39;max p/100m&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Totalobjekte&#39;</span>
<span class="p">]</span>
<span class="n">cy</span> <span class="o">=</span> <span class="n">combined_summary</span><span class="p">[</span><span class="n">col_rder</span><span class="p">]</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">cy</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">c</span><span class="p">[[</span><span class="s2">&quot;2018&quot;</span><span class="p">,</span><span class="s2">&quot;2020&quot;</span><span class="p">]]</span> <span class="o">=</span>  <span class="n">c</span><span class="p">[[</span><span class="s2">&quot;2018&quot;</span><span class="p">,</span> <span class="s2">&quot;2020&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;int&quot;</span><span class="p">)</span>

<span class="c1"># material totals</span>
<span class="n">mat_total</span> <span class="o">=</span> <span class="n">lks_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;survey year&quot;</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># add material type:</span>
<span class="n">mat_total</span><span class="p">[</span><span class="s2">&quot;mat&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mat_total</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">code_material_map</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>

<span class="c1"># the most common codes for each year</span>
<span class="n">mat_total</span> <span class="o">=</span> <span class="n">mat_total</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;survey year&quot;</span><span class="p">,</span> <span class="s2">&quot;mat&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># get the % of total and fail rate for each object from each year</span>
<span class="c1"># add the yearly total column</span>
<span class="n">mat_total</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mat_total</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2018&quot;</span><span class="p">,</span> <span class="s2">&quot;yt&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mat_total</span><span class="p">[</span><span class="n">mat_total</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2018&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">mat_total</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mat_total</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2020&quot;</span><span class="p">,</span> <span class="s2">&quot;yt&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mat_total</span><span class="p">[</span><span class="n">mat_total</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2020&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># get % of total</span>
<span class="n">mat_total</span><span class="p">[</span><span class="s2">&quot;pt&quot;</span><span class="p">]</span> <span class="o">=</span><span class="p">((</span><span class="n">mat_total</span><span class="o">.</span><span class="n">quantity</span><span class="o">/</span><span class="n">mat_total</span><span class="o">.</span><span class="n">yt</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># format for printing:</span>
<span class="n">mat_total</span><span class="p">[</span><span class="s2">&quot;pt&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mat_total</span><span class="o">.</span><span class="n">pt</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
<span class="n">mat_total</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mat_total</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">m_t</span> <span class="o">=</span> <span class="n">mat_total</span><span class="p">[[</span><span class="s2">&quot;survey year&quot;</span><span class="p">,</span><span class="s2">&quot;mat&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="s2">&quot;pt&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;survey year&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s2">&quot;mat&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s2">&quot;pt&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">m_t</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;mat&quot;</span><span class="p">:</span><span class="s2">&quot;material&quot;</span><span class="p">,</span> <span class="s2">&quot;pt&quot;</span><span class="p">:</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># put that in a table</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">10.5</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>

<span class="n">axone</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">axtwo</span><span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">axone</span><span class="p">)</span>
<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">axtwo</span><span class="p">)</span>

<span class="c1"># summary data table</span>
<span class="n">a_table</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_a_table</span><span class="p">(</span><span class="n">axone</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>  <span class="n">colLabels</span><span class="o">=</span><span class="n">c</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">colWidths</span><span class="o">=</span><span class="p">[</span><span class="mf">.5</span><span class="p">,</span><span class="mf">.25</span><span class="p">,</span><span class="mf">.25</span><span class="p">],</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;lower center&quot;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">a_table</span><span class="o">.</span><span class="n">get_celld</span><span class="p">()[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>

<span class="c1"># material totals</span>
<span class="n">a_table</span> <span class="o">=</span> <span class="n">axtwo</span><span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="n">cellText</span><span class="o">=</span><span class="n">m_t</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>  <span class="n">colLabels</span><span class="o">=</span><span class="n">m_t</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">colWidths</span><span class="o">=</span><span class="p">[</span><span class="mf">.5</span><span class="p">,</span><span class="mf">.25</span><span class="p">,</span><span class="mf">.25</span><span class="p">],</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;lower center&quot;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">the_material_table_data</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_a_summary_table</span><span class="p">(</span><span class="n">a_table</span><span class="p">,</span><span class="n">m_t</span><span class="p">,</span><span class="n">m_t</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">s_et_bottom_row</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/slr_2017_de_27_0.png" src="_images/slr_2017_de_27_0.png" />
</div>
</div>
<div class="section" id="seen-die-haufigsten-objekte-aus-2018">
<h3><span class="section-number">31.3.1. </span>Seen: Die häufigsten Objekte aus 2018<a class="headerlink" href="#seen-die-haufigsten-objekte-aus-2018" title="Permalink to this headline">¶</a></h3>
<p><em><strong>Unten:</strong> Die häufigsten Objekte waren 71% aller gezählten Objekte im Jahr 2018 gegenüber 60% im Jahr 2020. Zigarettenfilter und zerbrochene Plastikteile wurden 2018 fast doppelt so häufig gezählt wie 2020.</em></p>
<p><em>Lakes: key indicators of the most common objects 2018 - 2020</em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># compare the key indicators of the most common objects</span>
<span class="n">lks_codes</span> <span class="o">=</span> <span class="n">lks_df</span><span class="p">[</span><span class="n">lks_df</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">mcom</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">lks_codes</span> <span class="o">=</span> <span class="n">lks_df</span><span class="p">[</span><span class="n">lks_df</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">mcom</span><span class="p">)]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="s2">&quot;survey year&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="n">unit_label</span><span class="p">:</span><span class="s2">&quot;median&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;fail&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;loc_date&quot;</span><span class="p">:</span><span class="s2">&quot;nunique&quot;</span><span class="p">})</span>

<span class="c1"># get fail rate and % of total</span>
<span class="k">for</span> <span class="n">a_year</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;2020&quot;</span><span class="p">,</span> <span class="s2">&quot;2018&quot;</span><span class="p">]:</span>
    <span class="n">lks_codes</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">lks_codes</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">a_year</span><span class="p">,</span> <span class="s2">&quot;fail rate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lks_codes</span><span class="o">.</span><span class="n">fail</span><span class="o">/</span><span class="n">lks_df</span><span class="p">[</span><span class="n">lks_df</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span><span class="o">==</span><span class="n">a_year</span><span class="p">]</span><span class="o">.</span><span class="n">loc_date</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
    <span class="n">lks_codes</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">lks_codes</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">a_year</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lks_codes</span><span class="o">.</span><span class="n">quantity</span><span class="o">/</span><span class="n">lks_df</span><span class="p">[</span><span class="n">lks_df</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span><span class="o">==</span><span class="n">a_year</span><span class="p">]</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># pivot on the survey year column and keep all the values</span>
<span class="n">pivot_2017_2020</span> <span class="o">=</span> <span class="n">lks_codes</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;survey year&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="n">unit_label</span><span class="p">,</span> <span class="s2">&quot;fail rate&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="s2">&quot;code&quot;</span><span class="p">)</span>

<span class="c1"># map description to code</span>
<span class="n">pivot_2017_2020</span><span class="p">[</span><span class="s2">&quot;Item&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pivot_2017_2020</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">code_description_map</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>

<span class="c1"># set index and sort</span>
<span class="n">pivot_2017_2020</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;Item&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">pivot_2017_2020</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span><span class="s2">&quot;2018&quot;</span><span class="p">),</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># plot that</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span>

<span class="c1"># use gridspec to position</span>
<span class="n">spec</span> <span class="o">=</span> <span class="n">GridSpec</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">figure</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span>
<span class="n">axone</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">spec</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">])</span>
<span class="n">axtwo</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">spec</span><span class="p">[:,</span><span class="mi">3</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span>
<span class="n">axthree</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">spec</span><span class="p">[:,</span><span class="mi">5</span><span class="p">:</span><span class="mi">7</span><span class="p">])</span>

<span class="c1"># get an order to assign each ax</span>
<span class="n">an_order</span> <span class="o">=</span> <span class="n">pivot_2017_2020</span><span class="p">[</span><span class="s2">&quot;p/100m&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;2018&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>

<span class="c1"># index axtwo and and axthree to axone</span>
<span class="n">axtwo_data</span> <span class="o">=</span> <span class="n">pivot_2017_2020</span><span class="p">[</span><span class="s2">&quot;fail rate&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;2018&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">an_order</span><span class="p">)</span>
<span class="n">axthree_data</span> <span class="o">=</span> <span class="n">pivot_2017_2020</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;2018&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">an_order</span><span class="p">)</span>

<span class="c1"># pieces per meter</span>

<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">pivot_2017_2020</span><span class="p">[</span><span class="n">unit_label</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap2</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;.0f&quot;</span><span class="p">,</span> <span class="n">annot_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;fontsize&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">},</span>  <span class="n">ax</span><span class="o">=</span><span class="n">axone</span><span class="p">,</span> <span class="n">square</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cbar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">.05</span><span class="p">,</span>  <span class="n">linecolor</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="o">**</span><span class="nb">dict</span><span class="p">(</span><span class="n">labeltop</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">labelbottom</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">12</span><span class="p">),</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">no_xticks</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Median p/100m&quot;</span><span class="p">,</span><span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">title_k14r</span><span class="p">)</span>

<span class="c1"># fail rate</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">pivot_2017_2020</span><span class="p">[</span><span class="s2">&quot;fail rate&quot;</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap2</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">annot_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;fontsize&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">},</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;.0%&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axtwo</span><span class="p">,</span> <span class="n">square</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="n">cbar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">.05</span><span class="p">,</span>  <span class="n">linecolor</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>
<span class="n">axtwo</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="o">**</span><span class="nb">dict</span><span class="p">(</span><span class="n">labeltop</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">labelbottom</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">12</span><span class="p">),</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">no_xticks</span><span class="p">)</span>
<span class="n">axtwo</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelleft</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">axtwo</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="n">axtwo</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;fail rate&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">title_k14r</span><span class="p">)</span>

<span class="c1"># percent of total</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">pivot_2017_2020</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap2</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">annot_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;fontsize&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">},</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;.0%&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axthree</span><span class="p">,</span> <span class="n">square</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="n">cbar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">.05</span><span class="p">,</span>  <span class="n">linecolor</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>
<span class="n">axthree</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="o">**</span><span class="nb">dict</span><span class="p">(</span><span class="n">labeltop</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">labelbottom</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">12</span><span class="p">),</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">no_xticks</span><span class="p">)</span>
<span class="n">axthree</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelleft</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">axthree</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="n">axthree</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% G</span><span class="s2">esamt&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">title_k14r</span><span class="p">)</span>

<span class="k">for</span> <span class="n">anax</span> <span class="ow">in</span> <span class="p">[</span><span class="n">axone</span><span class="p">,</span> <span class="n">axtwo</span><span class="p">,</span> <span class="n">axthree</span><span class="p">]:</span>
    <span class="n">anax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/slr_2017_de_30_0.png" src="_images/slr_2017_de_30_0.png" />
</div>
</div>
</div>
<div class="section" id="differenz-der-durchschnittlichen-erhebungssumme">
<h3><span class="section-number">31.3.2. </span>Differenz der durchschnittlichen Erhebungssumme<a class="headerlink" href="#differenz-der-durchschnittlichen-erhebungssumme" title="Permalink to this headline">¶</a></h3>
<p>Bei der Betrachtung nur der Seen ist die Differenz der Mediane umgekehrt, es wurde 2020 weniger Abfall beobachtet als 2018 und die Differenz der Mittelwerte ist viel größer zugunsten von 2018. Das deutet darauf hin, dass auf der Ebene der Seen ein Rückgang der beobachteten Mengen zu verzeichnen war.</p>
<blockquote>
<div><p>Nullhypothese: Der Mittelwert der Umfrageergebnisse für Seen aus dem Jahr 2018 unterscheidet sich statistisch nicht von dem Mittelwert für 2020. Der beobachtete Unterschied ist auf Zufall zurückzuführen.</p>
</div></blockquote>
<blockquote>
<div><p>Zweite Hypothese: Der Mittelwert der Umfrageergebnisse für die Seen im Jahr 2018 ist nicht derselbe wie im Jahr 2020. Der beobachtete Unterschied in den Stichproben ist signifikant.</p>
</div></blockquote>
<p><em><strong>Unten:</strong> Die Verteilung der Differenz der Mittelwerte zwischen den beiden Stichprobenzeiträumen. Die Umfrageergebnisse wurden gemischt und in der Spalte des Umfragejahres 5.000 Mal als Stichprobe gezogen. Die Nullhypothese konnte verworfen werden, was die anfängliche Beobachtung stützt, dass im Jahr 2020 weniger beobachtet wurde als 2018.</em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># data for testing</span>
<span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">water_name_slug</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">these_lakes</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># get the survey total for each survey keep the survey year column</span>
<span class="n">pre_shuffle</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;survey year&quot;</span><span class="p">,</span> <span class="s2">&quot;loc_date&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># get the mean for each survey year</span>
<span class="n">observed_mean</span> <span class="o">=</span> <span class="n">pre_shuffle</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;survey year&quot;</span><span class="p">)[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="c1"># get the diff</span>
<span class="n">observed_dif</span> <span class="o">=</span> <span class="n">observed_mean</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;2020&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">observed_mean</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;2018&quot;</span><span class="p">]</span>

<span class="n">new_means</span><span class="o">=</span><span class="p">[]</span>
<span class="c1"># resampling:</span>
<span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5000</span><span class="p">):</span>
    
    <span class="c1"># shuffle the survey year column</span>
    <span class="n">pre_shuffle</span><span class="p">[</span><span class="s2">&quot;new_class&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pre_shuffle</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">frac</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">values</span>
    <span class="c1"># get the means for both years</span>
    <span class="n">b</span><span class="o">=</span><span class="n">pre_shuffle</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;new_class&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="c1"># get the change and store it</span>
    <span class="n">new_means</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">b</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;2020&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">b</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;2018&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="c1"># calculate p</span>
<span class="n">emp_p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">count_nonzero</span><span class="p">(</span><span class="n">new_means</span> <span class="o">&lt;=</span> <span class="n">observed_dif</span> <span class="p">)</span><span class="o">/</span> <span class="mi">5000</span>

<span class="c1"># chart the results</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">new_means</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">F</span><span class="s2">&quot;$</span><span class="se">\u0394</span><span class="s2">\mu$ = </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">observed_dif</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2">, perm=5000, p=</span><span class="si">{</span><span class="n">emp_p</span><span class="si">}</span><span class="s2"> &quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">title_k14</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;permutations&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;$\mu$ 2020 - $\mu$ 2018&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/slr_2017_de_32_0.png" src="_images/slr_2017_de_32_0.png" />
</div>
</div>
</div>
<div class="section" id="id8">
<h3><span class="section-number">31.3.3. </span>Differenz der durchschnittlichen Erhebungssumme<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>Bei der Betrachtung nur der Seen ist die Differenz der Mediane umgekehrt, es wurde 2020 weniger Abfall beobachtet als 2018 und die Differenz der Mittelwerte ist viel größer zugunsten von 2018. Das deutet darauf hin, dass auf der Ebene der Seen ein Rückgang der beobachteten Mengen zu verzeichnen war.</p>
<blockquote>
<div><p>Nullhypothese: Der Mittelwert der Umfrageergebnisse für Seen aus dem Jahr 2018 unterscheidet sich statistisch nicht von dem Mittelwert für 2020. Der beobachtete Unterschied ist auf Zufall zurückzuführen.</p>
</div></blockquote>
<blockquote>
<div><p>Zweite Hypothese: Der Mittelwert der Umfrageergebnisse für die Seen im Jahr 2018 ist nicht derselbe wie im Jahr 2020. Der beobachtete Unterschied in den Stichproben ist signifikant.</p>
</div></blockquote>
<p><em><strong>Unten:</strong> Die Verteilung der Differenz der Mittelwerte zwischen den beiden Stichprobenzeiträumen. Die Umfrageergebnisse wurden gemischt und in der Spalte des Umfragejahres 5.000 Mal als Stichprobe gezogen. Die Nullhypothese konnte verworfen werden, was die anfängliche Beobachtung stützt, dass im Jahr 2020 weniger beobachtet wurde als 2018.</em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># data testing</span>
<span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">water_name_slug</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">these_lakes</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># # the common codes from both years</span>
<span class="c1"># common_codes_both_years = list(set([*mcom_2017, *mcom_2020]))</span>

<span class="c1"># data to resample</span>
<span class="n">pre_shuffle</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">mcom</span><span class="p">)]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;survey year&quot;</span><span class="p">,</span> <span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># the observed mean from each year</span>
<span class="n">observed_mean</span> <span class="o">=</span> <span class="n">pre_shuffle</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;survey year&quot;</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">])[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="c1"># get the differences from one year to the next: check the inverse</span>
<span class="n">observed_dif</span> <span class="o">=</span> <span class="n">observed_mean</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;2020&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">observed_mean</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;2018&quot;</span><span class="p">]</span>
<span class="n">inv_diff</span> <span class="o">=</span> <span class="n">observed_mean</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;2018&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">observed_mean</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;2020&quot;</span><span class="p">]</span>

<span class="c1"># number of shuffles</span>
<span class="n">perms</span> <span class="o">=</span> <span class="mi">1000</span>

<span class="n">new_means</span><span class="o">=</span><span class="p">[]</span>
<span class="c1"># resample</span>
<span class="k">for</span> <span class="n">a_code</span> <span class="ow">in</span> <span class="n">mcom</span><span class="p">:</span>
    
    <span class="c1"># store the test statisitc</span>
    <span class="n">cdif</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">c_data</span> <span class="o">=</span> <span class="n">pre_shuffle</span><span class="p">[</span><span class="n">pre_shuffle</span><span class="o">.</span><span class="n">code</span> <span class="o">==</span> <span class="n">a_code</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">perms</span><span class="p">):</span>
        <span class="c1"># shuffle labels</span>
        <span class="n">c_data</span><span class="p">[</span><span class="s2">&quot;new_class&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">c_data</span><span class="p">[</span><span class="s2">&quot;survey year&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">frac</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">values</span>
        <span class="n">b</span><span class="o">=</span><span class="n">c_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;new_class&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
        <span class="n">cdif</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">b</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;2020&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">b</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;2018&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="n">emp_p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">count_nonzero</span><span class="p">(</span><span class="n">cdif</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="n">observed_dif</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">a_code</span><span class="p">]))</span> <span class="o">/</span> <span class="n">perms</span>
   
    <span class="c1"># store that result</span>
    <span class="n">new_means</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="n">a_code</span><span class="p">:{</span><span class="s2">&quot;p&quot;</span><span class="p">:</span><span class="n">emp_p</span><span class="p">,</span><span class="s2">&quot;difs&quot;</span><span class="p">:</span><span class="n">cdif</span><span class="p">}})</span>    

<span class="c1"># chart the results</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">code</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">mcom</span><span class="p">):</span>
    
    <span class="c1"># set up the ax</span>
    <span class="n">row</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">floor</span><span class="p">((</span><span class="n">i</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">%</span><span class="k">4</span>))
    <span class="n">col</span> <span class="o">=</span><span class="n">i</span><span class="o">%</span><span class="k">2</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">]</span>
    
    <span class="c1"># data for charts</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">new_means</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">code</span><span class="p">][</span><span class="s2">&quot;difs&quot;</span><span class="p">]</span>
    
    <span class="c1"># pvalues</span>
    <span class="n">p</span><span class="o">=</span><span class="n">new_means</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">code</span><span class="p">][</span><span class="s2">&quot;p&quot;</span><span class="p">]</span>
   
    
    <span class="c1"># set the facecolor based on the p value    </span>
    <span class="k">if</span> <span class="n">p</span> <span class="o">&lt;</span> <span class="mf">0.05</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s2">&quot;palegoldenrod&quot;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>        
    <span class="c1"># plot that    </span>
    <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">this_palette</span><span class="p">[</span><span class="s2">&quot;2020&quot;</span><span class="p">])</span>
    
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">code_description_map</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">code</span><span class="p">],</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">title_k</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">F</span><span class="s2">&quot;$</span><span class="se">\u0394</span><span class="s2">\mu$=</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">observed_dif</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">code</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2">, p=</span><span class="si">{</span><span class="n">new_means</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">code</span><span class="p">][</span><span class="s1">&#39;p&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;permutations&quot;</span><span class="p">)</span>

<span class="c1"># hide the unused axs</span>
<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">axs</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>

<span class="c1"># get some space for xaxis label</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.25</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/slr_2017_de_34_0.png" src="_images/slr_2017_de_34_0.png" />
</div>
</div>
<div class="cell tag_remove-input docutils container">
</div>
</div>
<div class="section" id="landnutzungsprofil-spearmans-rangierte-korrelation">
<h3><span class="section-number">31.3.4. </span>Landnutzungsprofil: Spearmans rangierte Korrelation<a class="headerlink" href="#landnutzungsprofil-spearmans-rangierte-korrelation" title="Permalink to this headline">¶</a></h3>
<p>Die Merkmale der Landnutzung wurden zuvor berechnet, um die Erhebungsorte zu vergleichen. Um die statistische Signifikanz der Landnutzung auf die Ergebnisse der Strandabfalluntersuchung zu testen, wurden die Gesamtzahlen und Standorte beider Projekte als eine Gruppe betrachtet. Die Umfrageergebnisse der häufigsten Objekte wurden mit den gemessenen Landnutzungsmerkmalen verglichen.</p>
<p>Spearman”s <span class="math notranslate nohighlight">\(\rho\)</span> orSpearmans Rangkorrelationskoeffizient ist ein nichtparametrischer Test der Rangkorrelation zwischen zwei Variablen <span id="id9">[<a class="reference internal" href="references.html#id10">Wikd</a>]</span> <span id="id10">[<a class="reference internal" href="references.html#id13">Inn</a>]</span>. Die Testergebnisse werden bei p&lt;0,05 und 454 Stichproben ausgewertet. Zur Implementierung des Tests wird SciPy verwendet <span id="id11">[<a class="reference internal" href="references.html#id11">scc</a>]</span>.</p>
<ol class="simple">
<li><p>rot/rose ist eine positive Assoziation: p&lt;0.05 AND <span class="math notranslate nohighlight">\(\rho\)</span> &gt; 0</p></li>
<li><p>gelb ist eine negative Assoziation: p&lt;0.05 AND <span class="math notranslate nohighlight">\(\rho\)</span> &lt; 0</p></li>
<li><p>weißen Medianen, die p&gt;0,05 sind, gibt es keine statistische Grundlage für die Annahme eines Zusammenhangs</p></li>
</ol>
<p>An association suggests that survey totals for that object will change in relation to the amount of space attributed to that feature, or in the case of roads or river intersections, the quantity. The magnitude of the relationship is not defined and any association is not linear.</p>
<p><em><strong>Unten:</strong> Eine Assoziation deutet darauf hin, dass sich die Erhebungssummen für das betreffende Objekt im Verhältnis zu der diesem Merkmal zugewiesenen Fläche oder - im Falle von Straßen oder Flusskreuzungen - der Menge ändern. Das Ausmaß der Beziehung ist nicht definiert, und jede Assoziation ist nicht linear.</em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corr_data</span> <span class="o">=</span> <span class="n">lks_df</span><span class="p">[(</span><span class="n">lks_df</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">mcom</span><span class="p">))]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># keys to the column names</span>
<span class="n">some_keys</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;% to buildings&quot;</span><span class="p">:</span><span class="s2">&quot;lu_build&quot;</span><span class="p">,</span>
    <span class="s2">&quot;% to agg&quot;</span><span class="p">:</span><span class="s2">&quot;lu_agg&quot;</span><span class="p">,</span>
    <span class="s2">&quot;% to woods&quot;</span><span class="p">:</span><span class="s2">&quot;lu_woods&quot;</span><span class="p">,</span>
    <span class="s2">&quot;% to recreation&quot;</span><span class="p">:</span><span class="s2">&quot;lu_rec&quot;</span><span class="p">,</span>
    <span class="s2">&quot;% to trans&quot;</span><span class="p">:</span><span class="s2">&quot;lu_trans&quot;</span><span class="p">,</span>
    <span class="s2">&quot;% to meadow&quot;</span><span class="p">:</span><span class="s2">&quot;lu_m&quot;</span><span class="p">,</span>
    <span class="s2">&quot;str_rank&quot;</span><span class="p">:</span><span class="s2">&quot;lu_trans&quot;</span>
<span class="p">}</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mcom</span><span class="p">),</span><span class="nb">len</span><span class="p">(</span><span class="n">luse_exp</span><span class="p">),</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">luse_exp</span><span class="p">)</span><span class="o">+</span><span class="mi">7</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">mcom</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="n">sharey</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">code</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">mcom</span><span class="p">):</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">corr_data</span><span class="p">[</span><span class="n">corr_data</span><span class="o">.</span><span class="n">code</span> <span class="o">==</span> <span class="n">code</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">luse_exp</span><span class="p">):</span>
        <span class="c1"># each grid is its own axis with a scatterplot</span>
        <span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span><span class="n">bottom</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">top</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">labelbottom</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">labelleft</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
       
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">sut</span><span class="o">.</span><span class="n">luse_ge</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">pass</span>
        
        <span class="k">if</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">code_description_map</span><span class="p">[</span><span class="n">code</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">corr</span><span class="p">,</span> <span class="n">a_p</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_plot_with_spearmans</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
        
        <span class="c1"># assign the facecolor based on the value of p and rho</span>
        <span class="k">if</span> <span class="n">a_p</span> <span class="o">&lt;</span> <span class="mf">0.05</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">corr</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s2">&quot;salmon&quot;</span><span class="p">)</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s2">&quot;palegoldenrod&quot;</span><span class="p">)</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">hspace</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/slr_2017_de_37_0.png" src="_images/slr_2017_de_37_0.png" />
</div>
</div>
<div class="section" id="interpretieren-sie-spearmans-rho">
<h4><span class="section-number">31.3.4.1. </span>Interpretieren Sie Spearmans <span class="math notranslate nohighlight">\(\rho\)</span><a class="headerlink" href="#interpretieren-sie-spearmans-rho" title="Permalink to this headline">¶</a></h4>
<p>Eine positive Assoziation deutet darauf hin, dass Landnutzungsattribute oder -merkmale die Untersuchungsergebnisse im Vergleich zu anderen Standorten erhöhen. Dies kann auf eine Kovarianz von Attributen zurückzuführen sein. In jedem Fall <strong>ist eine positive Assoziation ein Signal dafür, dass die Untersuchungsorte in der Nähe einer Akkumulationszone oder einer Quelle liegen.</strong> Dieses Signal sollte zusammen mit den anderen Schlüsselindikatoren von Untersuchungsstandorten mit ähnlichen Landnutzungsprofilen bewertet werden. Im Allgemeinen können Orte, die die Kriterien erfüllen, sowohl als Quelle als auch als Akkumulationsgebiet für alle Objekte, die positiv assoziiert sind, betrachtet werden.</p>
<p>Eine negative Assoziation bedeutet, dass das Landnutzungsmerkmal oder -attribut die Akkumulation des Objekts nicht erleichtert. Dieses Ergebnis ist für landwirtschaftliche und bewaldete Gebiete auf nationaler Ebene üblich. <strong>Eine negative Assoziation ist ein Signal dafür, dass die Orte keine Akkumulationszone für das Objekt sind</strong>.</p>
<p>Wenige oder keine Assoziationen bedeuten, dass die Landnutzungsmerkmale keinen Einfluss auf die Anhäufung dieses Objekts hatten. Die Umfrageergebnisse zu den häufigsten Objekten ohne oder mit wenigen Assoziationen lassen sich in zwei Kategorien einteilen:</p>
<ol class="simple">
<li><p>Allgegenwärtig: hohe Ausfallrate, hohe Stückzahl pro Meter. Im gesamten Untersuchungsgebiet in gleichbleibender Häufigkeit gefunden, unabhängig von der Landnutzung</p></li>
<li><p>Vorübergehend: geringe Ausfallrate, hohe Menge, hohe Stückzahl pro Meter, wenige Verbände. Gelegentlich in großen Mengen an bestimmten Orten gefunden  in large quantities at specific locations</p></li>
</ol>
</div>
</div>
</div>
<div class="section" id="fazit">
<h2><span class="section-number">31.4. </span>Fazit<a class="headerlink" href="#fazit" title="Permalink to this headline">¶</a></h2>
<p><strong>Per Saldo keine Änderung</strong></p>
<p>Die zusammenfassenden Statistiken und die Ergebnisse des Tests zur Differenz der Mediane deuten darauf hin, dass es auf nationaler Ebene keine statistisch messbare Veränderung von einem Projekt zum nächsten gab. Der 95%ige KI des Medianwertes der Umfrage im Jahr 2020 lag bei 137 - 188p/100m (Abschnitt Berechnung der Basislinien). Das Medianergebnis für 2018 lag bei 125p/100m mit einem CI von 112p/100m bis 146p/100m, was die untere Grenze des Medians von 2020 einschließt. <strong>Die Differenz der Mittelwerte für die häufigsten Objekte deutet jedoch auf ein realistischeres und dynamischeres Ergebnis hin:</strong></p>
<p>Es gab einen statistisch signifikanten Rückgang bei vier der sieben häufigsten Objekte aus beiden Jahren <strong>Liste 1:</strong></p>
<ol class="simple">
<li><p>There was a statistically significant decrease in four of seven most common objects from both years:</p>
<ul class="simple">
<li><p>Zigarettenfilter</p></li>
<li><p>Flaschenverschlüsse aus Metall</p></li>
<li><p>Kunststofffragmente &gt; 2,5 cm</p></li>
<li><p>Fragmente aus Schaumstoff &gt; 2,5 cm</p></li>
</ul>
</li>
</ol>
<p>Der Rückgang bei Tabak und Flaschenverschlüssen könnte mit den pandemischen Einschränkungen im Jahr 2020 zusammenhängen. Die Ergebnisse deuten darauf hin, dass der wahrgenommene lokale Rückgang der Abfallmengen höchstwahrscheinlich das Ergebnis eines allgemeinen Rückgangs der Nutzung und nicht einer umfassenden Verhaltensänderung war. Folglich werden die Umfrageergebnisse für Gegenstände der Liste 1 höchstwahrscheinlich wieder auf das Niveau von 2018 zurückkehren, wenn die pandemiebedingten Beschränkungen gelockert werden und sich die Nutzungsmuster wieder normalisieren.</p>
<p>Die Rückgänge bei fragmentierten Schaumstoffen und geschäumten Kunststoffen sind wahrscheinlich auf einen Unterschied in den Protokollen zwischen den beiden Jahren zurückzuführen.</p>
<div class="section" id="protokolle-angelegenheit">
<h3><span class="section-number">31.4.1. </span>Protokolle Angelegenheit<a class="headerlink" href="#protokolle-angelegenheit" title="Permalink to this headline">¶</a></h3>
<p>Es gab einen entscheidenden Unterschied zwischen den beiden Projekten:</p>
<ul class="simple">
<li><p>Das 2020-Protokoll zählt alle sichtbaren Objekte und klassifiziert Fragmente nach Größe</p></li>
<li><p>Das Protokoll von 2018 beschränkte die Anzahl der Objekte auf Gegenstände, die größer oder gleich 2,5 cm lang waren</p></li>
</ul>
<p>Die Gesamtmenge der im Jahr 2020 gesammelten Plastikteile beträgt 7.400 oder 18p/100m und 5.563 oder 5p/100m Schaumstofffragmente. Im Jahr 2020 wurden 3.662 Plastikteile zwischen 0,5 und 2,5 cm entfernt, was der Gesamtmenge von 2018 entspricht. Das Gleiche gilt für Schaumstoffteile zwischen 0,5 und 2,5 cm, siehe <a class="reference internal" href="lakes_rivers_de.html#allsurveysde"><span class="std std-ref"><em>Seen und Flüsse</em></span></a>.</p>
<p>Der Unterschied im Protokoll und die Ergebnisse von lassen2020 Zweifel an der Wahrscheinlichkeit eines Rückgangs von fragmentierten Kunststoffen und geschäumten Kunststoffen von 2018 bis 2020 aufkommen. Geschäumte Kunststoffe und fragmentierte Kunststoffe sind Gegenstände, deren ursprüngliche Verwendung unbekannt ist, aber das Material kann unterschieden werden. <strong>Fragmentierte Kunststoffe und Schaumstoffe, die größer als 0,5 cm sind, machen 27 % der gesamten Erhebungsergebnisse für die Seen im Jahr 2020 aus.</strong> Studien im Maas-/Rheindelta zeigen, dass diese kleinen, fragmentierten Objekte einen großen Teil des Gesamtaufkommens ausmachen <span id="id12">[<a class="reference internal" href="references.html#id53">vE</a>]</span>.</p>
<p>Wenn Sie den Vermessungsingenieuren erlauben, eine breitere Palette von Objektcodes zu verwenden, erhöht sich die Genauigkeit der Gesamtzahl der erfassten Objekte und es lassen sich zusätzliche Ebenen zur Unterscheidung ähnlicher Materialien einrichten. Expandiertes Polystyrol zum Beispiel ist ein Objekt, das leicht zersplittert. Ob die Vermesser einige größere Stücke &gt; 20 cm oder Tausende von Stücken &lt; 10 mm finden, ist ein wichtiges Detail, wenn das Ziel darin besteht, diese Objekte in der Umwelt zu reduzieren.</p>
<p><strong>Geringere Kosten und besserer Zugang</strong> sind ein weiteres Ergebnis eines harmonisierten Protokolls. Die vom SLR und IQAASL angewandten Verfahren waren fast identisch, abgesehen von der Größenbeschränkung kann man davon ausgehen, dass die Proben unter ähnlichen Bedingungen gesammelt wurden. Die SLR-Daten liefern die Ergebnisse von über 1.000 Beobachtungen von etwa 150 Personen und die IQAASL-Daten liefern die Ergebnisse von 350 Beobachtungen von etwa 10 Personen. Beide Methoden haben Schwächen und Stärken, die sehr unterschiedliche Themen ansprechen:</p>
<ul class="simple">
<li><p>Erfahrung des Vermessungsingenieurs</p></li>
<li><p>Konsistenz der Umfrageergebnisse</p></li>
<li><p>Aufsicht</p></li>
<li><p>beabsichtigte Verwendung der Daten</p></li>
<li><p>Zuweisung von Ressourcen</p></li>
</ul>
<p>All diese Themen sollten bei jedem Projekt berücksichtigt werden, ebenso wie der Umgang mit den Daten. Ungeachtet der Unterschiede konnten wir auf dem vom SLR vorgeschlagenen Modell aufbauen und zu den gemeinsamen Erfahrungen beitragen.</p>
</div>
<div class="section" id="plastikdeckel">
<h3><span class="section-number">31.4.2. </span>Plastikdeckel<a class="headerlink" href="#plastikdeckel" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p>Kunststoffdeckel werden bei der Zählung in drei Kategorien eingeteilt:</p></li>
<li><p>Essen, Trinken</p></li>
<li><p>Chemie/Haushalt</p></li>
<li><p>unbekannt</p></li>
</ol>
<p>Als Gruppe machen Kunststoffdeckel 2 % der gesamten Objekte im Jahr 2018 und 3 % im Jahr 2020 aus. Getränkedeckel machten ~51% aller gefundenen Deckel im Jahr 2018 aus, 45% im Jahr 2020. Auf der Basis von Stücken pro Meter gab es eine Abnahme der Menge an Getränkedeckeln und eine Zunahme von Nicht-Getränkedeckeln von 2018 - 2020.</p>
</div>
<div class="section" id="landnutzungsprofil">
<h3><span class="section-number">31.4.3. </span>Landnutzungsprofil<a class="headerlink" href="#landnutzungsprofil" title="Permalink to this headline">¶</a></h3>
<p>Das Flächennutzungsprofil für jeden Standort wurde unter Verwendung derselben Daten für beide Jahre berechnet. Wenn die Umfrageergebnisse aus beiden Jahren als Gruppe betrachtet werden, unterstützen die Ergebnisse von Spearmans 𝜌 die SLR-Schlussfolgerungen im Jahr 2018, dass die Umfrageergebnisse in städtischen und vorstädtischen Umgebungen erhöht waren, und dies galt auch für 2020. Gleichzeitig war die in <a class="reference internal" href="land_use_correlation_de.html#luseprofilede"><span class="std std-ref">Das Flächennutzungsprofil</span></a> festgestellte Allgegenwärtigkeit von zerkleinerten Kunststoffen, Industriefolien und Schaumstoffen im Jahr 2018 wahrscheinlich vorherrschend.</p>
<p>Bei den Flächen, die Freizeitaktivitäten zugeschrieben werden, handelt es sich um Orte in der Nähe des Erhebungsortes, die dazu bestimmt sind, Gruppen von Menschen für verschiedene Aktivitäten zu beherbergen. Die positive Assoziation von Tabak und Lebensmitteln/Getränken mit diesem Flächenattribut könnte als Ergebnis eines vorübergehenden Anstiegs der Bevölkerung in der Nähe des Untersuchungsgebiets interpretiert werden.</p>
</div>
<div class="section" id="schlussfolgerungen">
<h3><span class="section-number">31.4.4. </span>Schlussfolgerungen<a class="headerlink" href="#schlussfolgerungen" title="Permalink to this headline">¶</a></h3>
<p>Die Proben aus beiden Projekten wurden an Orten entnommen, in einigen Fällen am selben Ort, die ein ähnliches Niveau an Infrastruktur und wirtschaftlicher Entwicklung aufwiesen. Bei beiden Projekten wurde ein gemeinsames Protokoll verwendet. Die Proben wurden von zwei verschiedenen Gruppen entnommen und von zwei verschiedenen Verbänden verwaltet.</p>
<p>Von 2018 bis 2020 gab es eine statistisch signifikante Veränderung, nämlich einen Rückgang der Anzahl der Objekte, die direkt mit dem Verhalten am Erhebungsort in Verbindung stehen. Dies deutet darauf hin, dass die wahrgenommenen Rückgänge an Orten stattfanden, die einen höheren Anteil an Gebäuden und einen geringeren Anteil an Landwirtschafts- oder Waldflächen aufweisen.</p>
<p>Standorte mit einem entgegengesetzten oder anderen Landnutzungsprofil (weniger Gebäude, mehr Landwirtschaft oder Wälder) werden höchstwahrscheinlich überhaupt keinen Rückgang erfahren haben. An Standorten in der Nähe von Flusskreuzungen oder größeren Einleitungsstellen wäre kein Unterschied zwischen 2018 und 2020 erkennbar und eine Zunahme von zerbrochenen Kunststoffen, Schaumstoffen und Industriefolien wahrscheinlich. Sowohl der Test der Differenz der Mediane der häufigsten Objekte als auch die Ergebnisse von Spearmans 𝜌 der Umfrageergebnisse unterstützen diese Schlussfolgerung.</p>
<p>Beide Erhebungsjahre zeigen Spitzenwerte im Juni - Juli (Anhang) und Tiefstwerte im November. Die möglichen Ursachen für die Spitzen- und Tiefstwerte sind je nach Objekt unterschiedlich. Lebensmittel- und Tabakgegenstände sind in der Sommersaison aufgrund des verstärkten Gebrauchs häufiger anzutreffen. Objekte wie zerbrochene Kunststoffe hängen mehr von den hydrologischen Bedingungen ab und die Abflussspitzen der größten Flüsse in dieser Studie liegen zwischen Mai und Juli (Mitverantwortung).</p>
<p>Künftige Umfragen sollten sichtbare Objekte aller Größenordnungen umfassen. Die Datenaggregation kann auf dem Server anhand definierter Regeln erfolgen, die auf bekannten Beziehungen basieren. Die Gesamtzahl ist ein Schlüsselindikator in allen Statistiken, die auf Zähldaten beruhen, und für Modellierungszwecke unerlässlich.</p>
</div>
<div class="section" id="seen-monatliche-mediane-gemeinsame-objekte">
<h3><span class="section-number">31.4.5. </span>Seen; monatliche mediane gemeinsame Objekte:<a class="headerlink" href="#seen-monatliche-mediane-gemeinsame-objekte" title="Permalink to this headline">¶</a></h3>
<p>Bei beiden Projekten wurden alle Seen in allen Monaten beprobt. Im Jahr 2018 lag das Minimum der Proben pro Monat bei 12 und das Maximum bei 17, verglichen mit einem Minimum von 17 und einem Maximum von 34 im Jahr 2020.</p>
<p><em><strong>Unten</strong> Seen 2018: Durchschnittliche monatliche Umfrageergebnisse häufigste Objekte</em></p>
<div class="cell tag_hide-input tag_remove-input docutils container">
<div class="cell_output docutils container">
<img alt="_images/slr_2017_de_42_0.png" src="_images/slr_2017_de_42_0.png" />
</div>
</div>
<p><br></br>
<em><strong>Unten</strong> Seen 2020: Durchschnittliche monatliche Umfrageergebnisse häufigste Objekte</em></p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<img alt="_images/slr_2017_de_45_0.png" src="_images/slr_2017_de_45_0.png" />
</div>
</div>
<div class="section" id="erhebungsorte">
<h4><span class="section-number">31.4.5.1. </span>Erhebungsorte<a class="headerlink" href="#erhebungsorte" title="Permalink to this headline">¶</a></h4>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>latitude</th>
      <th>longitude</th>
      <th>Stadt</th>
    </tr>
    <tr>
      <th>Standort</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>aabach</th>
      <td>47.220989</td>
      <td>8.940365</td>
      <td>Schmerikon</td>
    </tr>
    <tr>
      <th>anarchy-beach</th>
      <td>46.447216</td>
      <td>6.859612</td>
      <td>La Tour-de-Peilz</td>
    </tr>
    <tr>
      <th>augustmutzenbergstrandweg</th>
      <td>46.686640</td>
      <td>7.689760</td>
      <td>Spiez</td>
    </tr>
    <tr>
      <th>baby-plage-geneva</th>
      <td>46.208558</td>
      <td>6.162923</td>
      <td>Genève</td>
    </tr>
    <tr>
      <th>baby-plage-ii-geneve</th>
      <td>46.208940</td>
      <td>6.164330</td>
      <td>Genève</td>
    </tr>
    <tr>
      <th>bain-des-dames</th>
      <td>46.450507</td>
      <td>6.858092</td>
      <td>La Tour-de-Peilz</td>
    </tr>
    <tr>
      <th>baye-de-montreux-g</th>
      <td>46.430834</td>
      <td>6.908778</td>
      <td>Montreux</td>
    </tr>
    <tr>
      <th>bielersee_vinelz_fankhausers</th>
      <td>47.038398</td>
      <td>7.108311</td>
      <td>Vinelz</td>
    </tr>
    <tr>
      <th>boiron</th>
      <td>46.491030</td>
      <td>6.480162</td>
      <td>Tolochenaz</td>
    </tr>
    <tr>
      <th>camp-des-peches</th>
      <td>47.052812</td>
      <td>7.074053</td>
      <td>Le Landeron</td>
    </tr>
    <tr>
      <th>camping-gwatt-strand</th>
      <td>46.727140</td>
      <td>7.629620</td>
      <td>Thun</td>
    </tr>
    <tr>
      <th>cully-plage</th>
      <td>46.488887</td>
      <td>6.741396</td>
      <td>Bourg-en-Lavaux</td>
    </tr>
    <tr>
      <th>delta-park</th>
      <td>46.720078</td>
      <td>7.635304</td>
      <td>Spiez</td>
    </tr>
    <tr>
      <th>erlach-camping-strand</th>
      <td>47.047159</td>
      <td>7.097854</td>
      <td>Erlach</td>
    </tr>
    <tr>
      <th>evole-plage</th>
      <td>46.989477</td>
      <td>6.923920</td>
      <td>Neuchâtel</td>
    </tr>
    <tr>
      <th>flibach-river-right-bank</th>
      <td>47.133742</td>
      <td>9.105461</td>
      <td>Weesen</td>
    </tr>
    <tr>
      <th>gals-reserve</th>
      <td>47.046272</td>
      <td>7.085007</td>
      <td>Gals</td>
    </tr>
    <tr>
      <th>gasi-strand</th>
      <td>47.128442</td>
      <td>9.110831</td>
      <td>Weesen</td>
    </tr>
    <tr>
      <th>grand-clos</th>
      <td>46.387746</td>
      <td>6.843686</td>
      <td>Saint-Gingolph</td>
    </tr>
    <tr>
      <th>hauterive-petite-plage</th>
      <td>47.010797</td>
      <td>6.980304</td>
      <td>Hauterive (NE)</td>
    </tr>
    <tr>
      <th>impromptu_cudrefin</th>
      <td>46.964496</td>
      <td>7.027936</td>
      <td>Cudrefin</td>
    </tr>
    <tr>
      <th>la-pecherie</th>
      <td>46.463919</td>
      <td>6.385732</td>
      <td>Allaman</td>
    </tr>
    <tr>
      <th>la-petite-plage</th>
      <td>46.785054</td>
      <td>6.656877</td>
      <td>Yverdon-les-Bains</td>
    </tr>
    <tr>
      <th>lacleman_gland_lecoanets</th>
      <td>46.402811</td>
      <td>6.281959</td>
      <td>Gland</td>
    </tr>
    <tr>
      <th>le-pierrier</th>
      <td>46.439727</td>
      <td>6.888968</td>
      <td>Montreux</td>
    </tr>
    <tr>
      <th>ligerz-strand</th>
      <td>47.083979</td>
      <td>7.135894</td>
      <td>Ligerz</td>
    </tr>
    <tr>
      <th>luscherz-plage</th>
      <td>47.047955</td>
      <td>7.151242</td>
      <td>Lüscherz</td>
    </tr>
    <tr>
      <th>luscherz-two</th>
      <td>47.047519</td>
      <td>7.152829</td>
      <td>Lüscherz</td>
    </tr>
    <tr>
      <th>maladaire</th>
      <td>46.446296</td>
      <td>6.876960</td>
      <td>La Tour-de-Peilz</td>
    </tr>
    <tr>
      <th>mols-rocks</th>
      <td>47.114343</td>
      <td>9.288174</td>
      <td>Quarten</td>
    </tr>
    <tr>
      <th>muhlehorn-dorf</th>
      <td>47.118448</td>
      <td>9.172124</td>
      <td>Glarus Nord</td>
    </tr>
    <tr>
      <th>mullermatte</th>
      <td>47.133339</td>
      <td>7.227907</td>
      <td>Biel/Bienne</td>
    </tr>
    <tr>
      <th>murg-bad</th>
      <td>47.115307</td>
      <td>9.215691</td>
      <td>Quarten</td>
    </tr>
    <tr>
      <th>nidau-strand</th>
      <td>47.127196</td>
      <td>7.232613</td>
      <td>Nidau</td>
    </tr>
    <tr>
      <th>nouvelle-plage</th>
      <td>46.856646</td>
      <td>6.848428</td>
      <td>Estavayer</td>
    </tr>
    <tr>
      <th>oyonne</th>
      <td>46.456682</td>
      <td>6.852262</td>
      <td>La Tour-de-Peilz</td>
    </tr>
    <tr>
      <th>parc-des-pierrettes</th>
      <td>46.515215</td>
      <td>6.575531</td>
      <td>Saint-Sulpice (VD)</td>
    </tr>
    <tr>
      <th>pecos-plage</th>
      <td>46.803590</td>
      <td>6.636650</td>
      <td>Grandson</td>
    </tr>
    <tr>
      <th>pfafikon-bad</th>
      <td>47.206766</td>
      <td>8.774182</td>
      <td>Freienbach</td>
    </tr>
    <tr>
      <th>plage-de-cheyres</th>
      <td>46.818689</td>
      <td>6.782256</td>
      <td>Cheyres-Châbles</td>
    </tr>
    <tr>
      <th>plage-de-st-sulpice</th>
      <td>46.513265</td>
      <td>6.570977</td>
      <td>Saint-Sulpice (VD)</td>
    </tr>
    <tr>
      <th>pointe-dareuse</th>
      <td>46.946190</td>
      <td>6.870970</td>
      <td>Boudry</td>
    </tr>
    <tr>
      <th>preverenges</th>
      <td>46.512690</td>
      <td>6.527657</td>
      <td>Préverenges</td>
    </tr>
    <tr>
      <th>preverenges-le-sout</th>
      <td>46.508905</td>
      <td>6.534526</td>
      <td>Préverenges</td>
    </tr>
    <tr>
      <th>quai-maria-belgia</th>
      <td>46.460156</td>
      <td>6.836718</td>
      <td>Vevey</td>
    </tr>
    <tr>
      <th>rastplatz-stampf</th>
      <td>47.215177</td>
      <td>8.844286</td>
      <td>Rapperswil-Jona</td>
    </tr>
    <tr>
      <th>rocky-plage</th>
      <td>46.209737</td>
      <td>6.164952</td>
      <td>Genève</td>
    </tr>
    <tr>
      <th>ruisseau-de-la-croix-plage</th>
      <td>46.813920</td>
      <td>6.774700</td>
      <td>Cheyres-Châbles</td>
    </tr>
    <tr>
      <th>schmerikon-bahnhof-strand</th>
      <td>47.224780</td>
      <td>8.944180</td>
      <td>Schmerikon</td>
    </tr>
    <tr>
      <th>seeflechsen</th>
      <td>47.130223</td>
      <td>9.103400</td>
      <td>Glarus Nord</td>
    </tr>
    <tr>
      <th>seemuhlestrasse-strand</th>
      <td>47.128640</td>
      <td>9.295100</td>
      <td>Walenstadt</td>
    </tr>
    <tr>
      <th>signalpain</th>
      <td>46.786200</td>
      <td>6.647360</td>
      <td>Yverdon-les-Bains</td>
    </tr>
    <tr>
      <th>strandboden-biel</th>
      <td>47.132510</td>
      <td>7.233142</td>
      <td>Biel/Bienne</td>
    </tr>
    <tr>
      <th>sundbach-strand</th>
      <td>46.684386</td>
      <td>7.794768</td>
      <td>Beatenberg</td>
    </tr>
    <tr>
      <th>thun-strandbad</th>
      <td>46.739939</td>
      <td>7.633520</td>
      <td>Thun</td>
    </tr>
    <tr>
      <th>thunersee_spiez_meierd_1</th>
      <td>46.704437</td>
      <td>7.657882</td>
      <td>Spiez</td>
    </tr>
    <tr>
      <th>tiger-duck-beach</th>
      <td>46.518256</td>
      <td>6.582546</td>
      <td>Saint-Sulpice (VD)</td>
    </tr>
    <tr>
      <th>tolochenaz</th>
      <td>46.497509</td>
      <td>6.482875</td>
      <td>Tolochenaz</td>
    </tr>
    <tr>
      <th>untertenzen</th>
      <td>47.115260</td>
      <td>9.254780</td>
      <td>Quarten</td>
    </tr>
    <tr>
      <th>versoix</th>
      <td>46.289194</td>
      <td>6.170569</td>
      <td>Versoix</td>
    </tr>
    <tr>
      <th>vidy-ruines</th>
      <td>46.516221</td>
      <td>6.596279</td>
      <td>Lausanne</td>
    </tr>
    <tr>
      <th>villa-barton</th>
      <td>46.222350</td>
      <td>6.152500</td>
      <td>Genève</td>
    </tr>
    <tr>
      <th>walensee_walenstadt_wysse</th>
      <td>47.121828</td>
      <td>9.299552</td>
      <td>Walenstadt</td>
    </tr>
    <tr>
      <th>weissenau-neuhaus</th>
      <td>46.676583</td>
      <td>7.817528</td>
      <td>Unterseen</td>
    </tr>
    <tr>
      <th>zuerichsee_richterswil_benkoem_2</th>
      <td>47.217646</td>
      <td>8.698713</td>
      <td>Richterswil</td>
    </tr>
    <tr>
      <th>zuerichsee_staefa_hennm</th>
      <td>47.234643</td>
      <td>8.769881</td>
      <td>Stäfa</td>
    </tr>
    <tr>
      <th>zuerichsee_waedenswil_colomboc_1</th>
      <td>47.219547</td>
      <td>8.691961</td>
      <td>Richterswil</td>
    </tr>
    <tr>
      <th>zurcher-strand</th>
      <td>47.364200</td>
      <td>8.537420</td>
      <td>Zürich</td>
    </tr>
    <tr>
      <th>zurichsee_kusnachterhorn_thirkell-whitej</th>
      <td>47.317685</td>
      <td>8.576860</td>
      <td>Küsnacht (ZH)</td>
    </tr>
    <tr>
      <th>zurichsee_wollishofen_langendorfm</th>
      <td>47.345890</td>
      <td>8.536155</td>
      <td>Zürich</td>
    </tr>
    <tr>
      <th>la-morges</th>
      <td>46.504063</td>
      <td>6.494099</td>
      <td>Morges</td>
    </tr>
    <tr>
      <th>lac-leman-hammerdirt</th>
      <td>46.450389</td>
      <td>6.858234</td>
      <td>La Tour-de-Peilz</td>
    </tr>
    <tr>
      <th>lacleman_gland_kubela</th>
      <td>46.402869</td>
      <td>6.281936</td>
      <td>Gland</td>
    </tr>
    <tr>
      <th>lacleman_vidy_santie</th>
      <td>46.518318</td>
      <td>6.589608</td>
      <td>Lausanne</td>
    </tr>
    <tr>
      <th>neuenburgersee_cudrefin_mattera</th>
      <td>46.962709</td>
      <td>7.025968</td>
      <td>Cudrefin</td>
    </tr>
    <tr>
      <th>zuerichsee_maennedorf_vanderkaadene</th>
      <td>47.254754</td>
      <td>8.687504</td>
      <td>Männedorf</td>
    </tr>
    <tr>
      <th>zuerichsee_zurich_kullg</th>
      <td>47.353957</td>
      <td>8.550474</td>
      <td>Zürich</td>
    </tr>
    <tr>
      <th>zurichsee-feldeggstr-banningersand</th>
      <td>47.359392</td>
      <td>8.547368</td>
      <td>Zürich</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="shared_responsibility_de.html" title="previous page"><span class="section-number">30. </span>Shared responsibility</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          <div class="extra_footer">
            <p>
   Im Auftrag des Bundesamtes für Umwelt (BAFU), © 2021
</p>

          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>