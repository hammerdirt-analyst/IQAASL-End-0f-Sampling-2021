
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>6. Baseline values &#8212; Summary and analysis</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.e8e5499552300ddf5d7adccae7cc3b70.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="7. Aare survey area" href="aare_sa.html" />
    <link rel="prev" title="5. Transport: an empirical approach" href="assessing_transport.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      <img src="../_static/new_logox.svg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Summary and analysis</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Identification, quantification and analysis of observable anthropogenic debris along swiss river and lakes (IQAASL)
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Tools and methods
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="key_indicators.html">
   1. Key statistical indicators
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="land_use_correlation.html">
   2. The land use profile
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../references.html">
   3. References
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Findings
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="slr_2017.html">
   4. More and less trash since 2017
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="assessing_transport.html">
   5. Transport: an empirical approach
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   6. Baseline values
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Survey results
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="aare_sa.html">
   7. Aare survey area
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="linth_sa.html">
   8. Linth survey area
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ticino_sa.html">
   9. Ticino survey area
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="rhone_sa.html">
   10. Rhône survey area
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/end_of_sampling_iqaasl/threshold.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/hammerdirt-analyst/IQAASL-End-0f-Sampling-2021"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/hammerdirt-analyst/IQAASL-End-0f-Sampling-2021/issues/new?title=Issue%20on%20page%20%2Fend_of_sampling_iqaasl/threshold.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/hammerdirt-analyst/IQAASL-End-0f-Sampling-2021/master?urlpath=tree/docs/end_of_sampling_iqaasl/threshold.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-data">
   6.1. The data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#most-common-objects">
     6.1.1. Most common objects
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#identifying-extreme-values">
   6.2. Identifying extreme values
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#adjusted-boxplots">
     6.2.1. Adjusted boxplots
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#modeling">
     6.2.2. Modeling
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#nb-method-of-moments">
       6.2.2.1. NB method of moments
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#nb-parameter-modeling">
       6.2.2.2. NB parameter modeling
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#confidence-intervals">
   6.3. Confidence intervals
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bootstrap-methods">
     6.3.1. Bootstrap methods:
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#thresholds">
     6.3.2. Thresholds
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#discussion">
   6.4. Discussion
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#weighting-data">
     6.4.1. Weighting data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#number-of-samples">
     6.4.2. Number of samples
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#quality-people-quality-data">
     6.4.3. Quality people = quality data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#objective-criteria-protocols-and-analysis">
     6.4.4. Objective criteria, protocols and analysis
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="cell tag_remove-input docutils container">
</div>
<div class="section" id="baseline-values">
<h1><span class="section-number">6. </span>Baseline values<a class="headerlink" href="#baseline-values" title="Permalink to this headline">¶</a></h1>
<p>Similar to survey results in the marine environment beach-litter-data in Switzerland is highly variable. With values ranging from zero (two surveys in 2020 had a quantity of zero), to thousands of objects and fragments within 100m coastline.</p>
<p>The <em>JRC Technical Report: A European threshold value</em> <span id="id1">[<a class="reference internal" href="../references.html#id33">VLW20</a>]</span> suggests several methods for calculating threshold values, confidence intervals and extreme values. These values are calculated here for the survey totals and the most comon objects identified in section 2.2.4.</p>
<p><strong>Assumptions:</strong></p>
<ul class="simple">
<li><p>The more trash there is on the ground the more a person is likely to find</p></li>
<li><p><strong>The survey results represent the minimum amount of trash at that site</strong></p></li>
<li><p>For each survey: finding one item does not effect the chance of finding another</p></li>
</ul>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define the final survey data set here:</span>
<span class="n">a_data</span> <span class="o">=</span> <span class="n">survey_data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># make a loc_date column from the survey data</span>
<span class="c1"># before converting to timestamp</span>
<span class="n">a_data</span><span class="p">[</span><span class="s1">&#39;loc_date&#39;</span><span class="p">]</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">a_data</span><span class="o">.</span><span class="n">location</span><span class="p">,</span> <span class="n">a_data</span><span class="o">.</span><span class="n">date</span><span class="p">))</span>

<span class="c1"># convert string dates from .csv to timestamp</span>
<span class="n">a_data</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">a_data</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># slice by start- end date</span>
<span class="n">a_data</span> <span class="o">=</span> <span class="n">a_data</span><span class="p">[(</span><span class="n">a_data</span><span class="o">.</span><span class="n">date</span> <span class="o">&gt;=</span> <span class="n">start_date</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">a_data</span><span class="o">.</span><span class="n">date</span> <span class="o">&lt;=</span> <span class="n">end_date</span><span class="p">)]</span>



<span class="c1"># combine lugano and maggiore</span>
<span class="c1"># if the river bassin name does not equal tresa leave it, else change it to ticino</span>
<span class="n">a_data</span><span class="p">[</span><span class="s1">&#39;river_bassin&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a_data</span><span class="o">.</span><span class="n">river_bassin</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">a_data</span><span class="o">.</span><span class="n">river_bassin</span> <span class="o">!=</span> <span class="s1">&#39;tresa&#39;</span><span class="p">,</span> <span class="s1">&#39;ticino&#39;</span> <span class="p">)</span>

<span class="c1"># assign the reporting value</span>
<span class="n">a_data</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">a_data</span><span class="o">.</span><span class="n">pcs_m</span> <span class="o">*</span> <span class="n">reporting_unit</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># scale the streets to kilometers</span>
<span class="n">a_data</span><span class="p">[</span><span class="s1">&#39;streets&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a_data</span><span class="o">.</span><span class="n">streets</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;int&#39;</span><span class="p">)</span>
<span class="n">a_data</span><span class="p">[</span><span class="s1">&#39;streets km&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a_data</span><span class="o">.</span><span class="n">streets</span><span class="o">/</span><span class="mi">1000</span>

<span class="c1"># save the data before aggregating to test</span>
<span class="n">before_agg</span> <span class="o">=</span> <span class="n">a_data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Combine the different sizes of fragmented plastics and styrofoam</span>
<span class="c1"># the codes for the foams</span>
<span class="n">some_foams</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;G81&#39;</span><span class="p">,</span> <span class="s1">&#39;G82&#39;</span><span class="p">,</span> <span class="s1">&#39;G83&#39;</span><span class="p">]</span>

<span class="c1"># the codes for the fragmented plastics</span>
<span class="n">some_frag_plas</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">a_data</span><span class="p">[</span><span class="n">a_data</span><span class="o">.</span><span class="n">groupname</span> <span class="o">==</span> <span class="s1">&#39;plastic pieces&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>

<span class="c1"># this extracts and aggregates the members of the two code groups, returns a dataframe</span>
<span class="n">the_plast_rows</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">create_aggregate_groups</span><span class="p">(</span><span class="n">a_data</span><span class="p">,</span> <span class="n">codes_to_agg</span><span class="o">=</span><span class="n">some_frag_plas</span><span class="p">,</span><span class="n">a_model_code</span><span class="o">=</span><span class="s2">&quot;G79&quot;</span><span class="p">,</span> <span class="n">a_new_code</span><span class="o">=</span><span class="s2">&quot;Gfrags&quot;</span><span class="p">)</span>
<span class="n">the_foam_rows</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">create_aggregate_groups</span><span class="p">(</span><span class="n">a_data</span><span class="p">,</span> <span class="n">codes_to_agg</span><span class="o">=</span><span class="n">some_foams</span><span class="p">,</span> <span class="n">a_model_code</span><span class="o">=</span><span class="s2">&quot;G82&quot;</span><span class="p">,</span> <span class="n">a_new_code</span><span class="o">=</span><span class="s2">&quot;Gfoam&quot;</span><span class="p">)</span>

<span class="c1"># the foam codes and fragmented plastic codes have been aggregated in to Gfrags and Gfoam</span>
<span class="n">a_data</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">replace_a_group_of_codes_with_one</span><span class="p">(</span><span class="n">a_data</span><span class="p">,</span> <span class="n">new_code_values</span><span class="o">=</span><span class="p">[</span><span class="n">the_plast_rows</span><span class="p">,</span> <span class="n">the_foam_rows</span><span class="p">],</span> <span class="n">codes_to_replace</span><span class="o">=</span><span class="p">[</span><span class="o">*</span><span class="n">some_frag_plas</span><span class="p">,</span> <span class="o">*</span><span class="n">some_foams</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="the-data">
<h2><span class="section-number">6.1. </span>The data<a class="headerlink" href="#the-data" title="Permalink to this headline">¶</a></h2>
<p>Only surveys with a length greater than ten meters are included in the baseline calculation. The available space to survey in urban or suburban environments is limited, changes in the lake level and wave action can have significant effects on the available space to survey, including reducing the length of available shoreline. In IQAASL the policy was to avoid doing surveys less than ten meters. Note that this does not exclude all surveys from a location, only those that were less than ten meters.</p>
<div class="section" id="most-common-objects">
<h3><span class="section-number">6.1.1. </span>Most common objects<a class="headerlink" href="#most-common-objects" title="Permalink to this headline">¶</a></h3>
<p>The most common objects were identifed in section 2.2  and the properties of these objects were assessed with respect to transport and deposition in section 5. The same objects and groups are used here in the assessment of base line values.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># gather the dimensional data for the time frame from dfDims</span>
<span class="c1"># match records to survey data</span>
<span class="n">fd_dims</span><span class="o">=</span> <span class="n">dfDims</span><span class="p">[(</span><span class="n">dfDims</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">a_data</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">()))</span><span class="o">&amp;</span><span class="p">(</span><span class="n">dfDims</span><span class="o">.</span><span class="n">date</span> <span class="o">&gt;=</span> <span class="n">start_date</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">dfDims</span><span class="o">.</span><span class="n">date</span> <span class="o">&lt;=</span> <span class="n">end_date</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># make a loc_date column and get the unique values</span>
<span class="n">fd_dims</span><span class="p">[</span><span class="s1">&#39;loc_date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">fd_dims</span><span class="o">.</span><span class="n">location</span><span class="p">,</span> <span class="n">fd_dims</span><span class="o">.</span><span class="n">date</span><span class="p">))</span>

<span class="c1"># map the survey area name to the dims data record</span>
<span class="n">a_map</span> <span class="o">=</span> <span class="n">fd_dims</span><span class="p">[[</span><span class="s1">&#39;loc_date&#39;</span><span class="p">,</span> <span class="s1">&#39;area&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;loc_date&#39;</span><span class="p">)</span>
<span class="n">l_map</span> <span class="o">=</span> <span class="n">fd_dims</span><span class="p">[[</span><span class="s1">&#39;loc_date&#39;</span><span class="p">,</span> <span class="s1">&#39;length&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;loc_date&#39;</span><span class="p">)</span>

<span class="c1"># map length and area from dims to survey data</span>
<span class="k">for</span> <span class="n">a_survey</span> <span class="ow">in</span> <span class="n">fd_dims</span><span class="o">.</span><span class="n">loc_date</span><span class="o">.</span><span class="n">unique</span><span class="p">():</span>
    <span class="n">a_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">a_data</span><span class="o">.</span><span class="n">loc_date</span> <span class="o">==</span> <span class="n">a_survey</span><span class="p">,</span> <span class="s1">&#39;length&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">l_map</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="n">a_survey</span><span class="p">],</span> <span class="s1">&#39;length&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">a_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">a_data</span><span class="o">.</span><span class="n">loc_date</span> <span class="o">==</span> <span class="n">a_survey</span><span class="p">,</span> <span class="s1">&#39;area&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a_map</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="n">a_survey</span><span class="p">],</span> <span class="s1">&#39;area&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># exclude surveys less than 10 meters</span>
<span class="n">gten_lhun</span> <span class="o">=</span> <span class="n">a_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">a_data</span><span class="o">.</span><span class="n">length</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># this is a common aggregation</span>
<span class="n">agg_pcs_quantity</span> <span class="o">=</span> <span class="p">{</span><span class="n">unit_label</span><span class="p">:</span><span class="s1">&#39;sum&#39;</span><span class="p">,</span> <span class="s1">&#39;quantity&#39;</span><span class="p">:</span><span class="s1">&#39;sum&#39;</span><span class="p">}</span>

<span class="c1"># the daily survey totals of all the data for the survey period</span>
<span class="c1"># a_dt = gten_lhun.groupby([&#39;loc_date&#39;, &#39;date&#39;,&#39;water_name_slug&#39;], as_index=False).agg(agg_pcs_quantity)</span>

<span class="c1"># survey totals by location</span>
<span class="n">dt_all</span> <span class="o">=</span> <span class="n">gten_lhun</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;loc_date&#39;</span><span class="p">,</span><span class="s1">&#39;location&#39;</span><span class="p">,</span><span class="s1">&#39;river_bassin&#39;</span><span class="p">,</span> <span class="s1">&#39;water_name_slug&#39;</span><span class="p">,</span><span class="s1">&#39;date&#39;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_quantity</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="identifying-extreme-values">
<h2><span class="section-number">6.2. </span>Identifying extreme values<a class="headerlink" href="#identifying-extreme-values" title="Permalink to this headline">¶</a></h2>
<p>The parallel use of three calculation methods, mean, median and trimean, on selected examples enabled a comparative analysis and an informed choice of a final agreed methodology among the experts in the TG ML. It was agreed to leave the extreme data in the dataset, while highlighting the need to check to verify extreme data case by case and to apply the median for calculating of averages. This allows the use of all data while not skewing results through singleextraordinary high litter count surveys.</p>
<p>The occurrence of extreme values can influence the average of the data and the interpretation of survey results. According the to the JRC report:</p>
<blockquote>
<div><p>The methodology for the identification of extreme values can be either expert judgement, or be based on statistical and modelling approaches, such as the application of Tukey’s box plots to detect potential outliers. For skewed distributions, the adjusted box plot is more appropriate.</p>
</div></blockquote>
<div class="section" id="adjusted-boxplots">
<h3><span class="section-number">6.2.1. </span>Adjusted boxplots<a class="headerlink" href="#adjusted-boxplots" title="Permalink to this headline">¶</a></h3>
<p>Tukey’s boxplot is used to visualize the distribution of a univariate data set. The samples that fall within the first quartile (<span class="math notranslate nohighlight">\(Q_1\)</span>) and the third quartile (<span class="math notranslate nohighlight">\(Q_3\)</span>) are considered to be within the innerquartial range (IQR) = <span class="math notranslate nohighlight">\(Q_3 - Q_1\)</span>. Points out side of the inner quartile range are considered outliers if their value is greater or less than one of two limits:</p>
<ul class="simple">
<li><p>lower limit = <span class="math notranslate nohighlight">\(Q_1 - (1.5*IQR)\)</span></p></li>
<li><p>upper limit = <span class="math notranslate nohighlight">\(Q_3 + (1.5*IQR)\)</span></p></li>
</ul>
<p>Adusting the boxplot involves replacing the constant 1.5 with another parameter. This parameter is calculated using a method called the <em>medcouple</em> (MC) and applying the result of that method to the constant 1.5. <span id="id2">[<a class="reference internal" href="../references.html#id47">HV08</a>]</span> <span id="id3">[<a class="reference internal" href="../references.html#id48">SP</a>]</span> The new calculation looks like this:</p>
<ul class="simple">
<li><p>lower limit = <span class="math notranslate nohighlight">\(Q_1 - (1.5e^{-4MC}*IQR)\)</span></p></li>
<li><p>upper limit = <span class="math notranslate nohighlight">\(Q_3 + (1.5e^{3MC}*IQR)\)</span></p></li>
</ul>
<p>The limit at which a survey is conisdered <em>extreme</em> extends to the 98th percentile when the boxplots are adjusted as opposed to the 90th percentile if the constant is left at 1.5.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># implementation of medcouple</span>
<span class="n">a_whis</span> <span class="o">=</span> <span class="n">medcouple</span><span class="p">(</span><span class="n">dt_all</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">())</span>

<span class="c1"># get the ecdf </span>
<span class="n">ecdf</span> <span class="o">=</span> <span class="n">ECDF</span><span class="p">(</span><span class="n">dt_all</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">())</span>

<span class="c1"># quantiles and IQR of the data</span>
<span class="n">q1</span> <span class="o">=</span> <span class="n">dt_all</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span>
<span class="n">q3</span> <span class="o">=</span><span class="n">dt_all</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.75</span><span class="p">)</span>
<span class="n">iqr</span> <span class="o">=</span> <span class="n">q3</span> <span class="o">-</span> <span class="n">q1</span>

<span class="c1"># the upper and lower limit of extreme values unadjusted:</span>
<span class="n">limit_lower</span> <span class="o">=</span> <span class="n">q1</span> <span class="o">-</span> <span class="mf">1.5</span><span class="o">*</span><span class="n">iqr</span>
<span class="n">limit_upper</span> <span class="o">=</span> <span class="n">q3</span> <span class="o">+</span> <span class="mf">1.5</span><span class="o">*</span><span class="n">iqr</span>

<span class="c1"># the upper and lower limit of extreme values adjusted:</span>
<span class="n">a_fence</span> <span class="o">=</span> <span class="n">q1</span> <span class="o">-</span> <span class="p">(</span><span class="mf">1.5</span><span class="o">*</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">((</span><span class="o">-</span><span class="mi">4</span><span class="o">*</span><span class="n">a_whis</span><span class="p">))))</span><span class="o">*</span><span class="n">iqr</span>
<span class="n">a_2fence</span> <span class="o">=</span> <span class="n">q3</span> <span class="o">+</span> <span class="p">(</span><span class="mf">1.5</span><span class="o">*</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">((</span><span class="mi">3</span><span class="o">*</span><span class="n">a_whis</span><span class="p">))))</span><span class="o">*</span><span class="n">iqr</span>

<span class="c1"># source = https://stackoverflow.com/questions/12127635/matplotlib-can-we-draw-a-histogram-and-a-box-plot-on-a-same-chart</span>
<span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax_box</span><span class="p">,</span> <span class="n">ax_hist</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">gridspec_kw</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;height_ratios&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mf">.15</span><span class="p">,</span> <span class="mf">.85</span><span class="p">)},</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>

<span class="c1"># Add a graph in each part</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">dt_all</span><span class="p">[</span><span class="n">unit_label</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax_box</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">dt_all</span><span class="p">[</span><span class="n">unit_label</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax_hist</span><span class="p">)</span>

<span class="c1"># get the limits of the x and y axix</span>
<span class="n">xamax</span> <span class="o">=</span> <span class="n">ax_hist</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()</span>
<span class="n">y_max</span><span class="o">=</span> <span class="n">ax_hist</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()</span>

<span class="c1"># no xlabel on the top axis</span>
<span class="n">ax_box</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>

<span class="c1"># fill the areas concerened by each limt</span>
<span class="n">ax_hist</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="n">limit_upper</span><span class="p">,</span><span class="n">xamax</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="n">y1</span><span class="o">=</span><span class="n">y_max</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;upper limit boxplot&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;dodgerblue&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">ax_hist</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="n">a_2fence</span><span class="p">,</span><span class="n">xamax</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="n">y1</span><span class="o">=</span><span class="n">y_max</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;upper limit adjusted&#39;</span><span class="p">,</span> <span class="n">hatch</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;magenta&#39;</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>

<span class="n">ax_box</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="n">limit_upper</span><span class="p">,</span><span class="n">xamax</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="n">y1</span><span class="o">=</span><span class="n">ax_box</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()[</span><span class="mi">1</span><span class="p">],</span> <span class="n">y2</span><span class="o">=</span><span class="n">ax_box</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span>  <span class="n">label</span><span class="o">=</span><span class="s1">&#39;upper limit boxplot&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;dodgerblue&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">ax_box</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="n">a_2fence</span><span class="p">,</span><span class="n">xamax</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="n">y1</span><span class="o">=</span><span class="n">ax_box</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()[</span><span class="mi">1</span><span class="p">],</span> <span class="n">y2</span><span class="o">=</span><span class="n">ax_box</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;upper limit adjusted&#39;</span><span class="p">,</span> <span class="n">hatch</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;magenta&#39;</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>

<span class="c1"># get legend</span>
<span class="n">handles</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">ax_box</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/threshold_7_0.png" src="../_images/threshold_7_0.png" />
</div>
</div>
<div class="cell tag_remove-input docutils container">
</div>
</div>
<div class="section" id="modeling">
<h3><span class="section-number">6.2.2. </span>Modeling<a class="headerlink" href="#modeling" title="Permalink to this headline">¶</a></h3>
<p>Extreme values can be indentified by assuming the data belong to some underlying known statistical distribution. Count data is often modeled using a poisson distribution, however this is only valid where variance is equal to the mean. The data from IQAASL and beach-litter data in general do not meet this criteria, the negative binomial (NB) distribution allows for the variance to be quadratic in the mean. <span id="id4">[<a class="reference internal" href="../references.html#id49">CT99</a>]</span> <span id="id5">[<a class="reference internal" href="../references.html#id50">Wei20</a>]</span></p>
<blockquote>
<div><p>The modelling approach for the identification of extreme values is then performed by fitting the NB-distribution to the data by means of maximum likelihood and tagging all values in the right tail as potentially extreme values if the probability that they belong to the fitted NB-distribution is less than, e.g. 0.001. <span id="id6">[<a class="reference internal" href="../references.html#id33">VLW20</a>]</span></p>
</div></blockquote>
<div class="section" id="nb-method-of-moments">
<h4><span class="section-number">6.2.2.1. </span>NB method of moments<a class="headerlink" href="#nb-method-of-moments" title="Permalink to this headline">¶</a></h4>
<p>Fitting the NB distribution has all to do with estimating parameters. Alot of research has gone into estimating the dispersion parameter k of the NB distribution <span id="id7">[<a class="reference internal" href="../references.html#id51">LS07</a>]</span>. One way to estimate the shape of the underlying distribution or dispersion, is to relate the mean to the variance. <span id="id8">[<a class="reference internal" href="../references.html#id52">nbi</a>]</span></p>
<p><em>Estimating the parameters of the underlying NB distribution using the mean and the variance from the observed values</em></p>
<p><em>implementation: <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.nbinom.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.nbinom.html</a></em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># the data to model</span>
<span class="n">vals</span> <span class="o">=</span> <span class="n">dt_all</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>

<span class="c1"># the variance</span>
<span class="n">var</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">vals</span><span class="p">)</span>

<span class="c1"># the average</span>
<span class="n">mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">vals</span><span class="p">)</span>

<span class="c1"># dispersion</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">mean</span><span class="o">/</span><span class="n">var</span>
<span class="n">n</span> <span class="o">=</span> <span class="n">mean</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="n">var</span><span class="o">-</span><span class="n">mean</span><span class="p">)</span>

<span class="c1"># point estimates from for the 98 and 90 %ile</span>
<span class="n">rv</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">nbinom</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
<span class="n">sim_98</span> <span class="o">=</span> <span class="n">rv</span><span class="o">.</span><span class="n">ppf</span><span class="p">(</span><span class="mf">.98</span><span class="p">)</span>
<span class="n">obs_98</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">vals</span><span class="p">,</span> <span class="mf">.98</span><span class="p">)</span>

<span class="n">sim_90</span> <span class="o">=</span> <span class="n">rv</span><span class="o">.</span><span class="n">ppf</span><span class="p">(</span><span class="mf">.9</span><span class="p">)</span>
<span class="n">obs_90</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">vals</span><span class="p">,</span> <span class="mf">.9</span><span class="p">)</span>

<span class="c1"># simulated data</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">nbinom</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">p</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vals</span><span class="p">))</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="n">unit_label</span><span class="p">:</span><span class="n">vals</span><span class="p">,</span> <span class="s1">&#39;group&#39;</span><span class="p">:</span><span class="s1">&#39;observed&#39;</span><span class="p">})</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="n">unit_label</span><span class="p">:</span><span class="n">r</span><span class="p">,</span> <span class="s1">&#39;group&#39;</span><span class="p">:</span><span class="s1">&#39;simulated&#39;</span><span class="p">}))</span>

<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;group&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;number of samples&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>

<span class="n">legend</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span>
<span class="n">handles</span> <span class="o">=</span> <span class="n">legend</span><span class="o">.</span><span class="n">legendHandles</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">legend</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_remove-input docutils container">
</div>
</div>
<div class="section" id="nb-parameter-modeling">
<h4><span class="section-number">6.2.2.2. </span>NB parameter modeling<a class="headerlink" href="#nb-parameter-modeling" title="Permalink to this headline">¶</a></h4>
<div class="cell tag_remove-input docutils container">
</div>
<div class="cell tag_remove-input docutils container">
</div>
<div class="cell tag_remove-input docutils container">
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">res</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="confidence-intervals">
<h2><span class="section-number">6.3. </span>Confidence intervals<a class="headerlink" href="#confidence-intervals" title="Permalink to this headline">¶</a></h2>
<p>The uncertainty of litter monitoring data used for deriving the percentile value of beach litter abundances is approximated through  the  calculation  of  confidence intervals. A minimum number of 40 surveys for a beach litter TV assessment is  recommended, because the addition of more surveys beyond this number provides only a limited gain in the improvement of the confidence interval.</p>
<div class="section" id="bootstrap-methods">
<h3><span class="section-number">6.3.1. </span>Bootstrap methods:<a class="headerlink" href="#bootstrap-methods" title="Permalink to this headline">¶</a></h3>
<p>There are several computational methods to choose from. percentile, BCa, and Student’s t to name a few. For this project the most important aspects are computational efficiency and the correct coverage of the confidence interval. <span id="id9">[<a class="reference internal" href="../references.html#id46">JLGC19</a>]</span></p>
</div>
<div class="section" id="thresholds">
<h3><span class="section-number">6.3.2. </span>Thresholds<a class="headerlink" href="#thresholds" title="Permalink to this headline">¶</a></h3>
<p>Considering uncertainties of data and the resulting confidence intervals, the resulting threshold value can be considered as reached statistically, <strong>if the lower 95% confidence limit of the aggregated monitoring values touches the upper 95% confidence limit of the 10th percentile</strong> of the baseline data. At this point, the assessment value and threshold value are not significantly differentany more(Cummings et al., 2006).</p>
</div>
</div>
<div class="section" id="discussion">
<h2><span class="section-number">6.4. </span>Discussion<a class="headerlink" href="#discussion" title="Permalink to this headline">¶</a></h2>
<p>This first-timeanalysis of a harmonised EU beach litter dataset allows numerous conclusions. These apply to the process and methodology for monitoring and baseline setting, the outcome from the scenario analysis based on the selection of parameters, i.e. the agreed baseline and the policy implications of the baselines.</p>
<p>These implications include the selection and prioritisation of measures, the setting of thresholds and the evaluation of the success of implemented measures.</p>
<ul class="simple">
<li><p>Data availability 2012-2016 allows the consideration of all EU regions, though with different coverage. All subregions, except for the Eastern Mediterranean Sea,can be evaluated.</p></li>
<li><p>Litter aggregate groups can be analysed across Europe.</p></li>
<li><p>Litter  category  analyses  are  possible  from  single  beaches at different  data  aggregation  levels (depending on the comparability of litter categories between surveys)</p></li>
</ul>
<div class="section" id="weighting-data">
<h3><span class="section-number">6.4.1. </span>Weighting data<a class="headerlink" href="#weighting-data" title="Permalink to this headline">¶</a></h3>
<p>Following discussion during the TG ML annual meeting 2019 and a consultation with TGML experts, it was concluded not to apply weighting to the beach litter survey results when aggregating them. While spatial weighting might be used for other purposes, it would not provide a benefit for assessing the environmental status on the beaches.</p>
</div>
<div class="section" id="number-of-samples">
<h3><span class="section-number">6.4.2. </span>Number of samples<a class="headerlink" href="#number-of-samples" title="Permalink to this headline">¶</a></h3>
<p>This corresponds to a median assessment value of approxmately  20,  for  a  range  of 40  to 100  assessment surveys. A similar statistical method is used in  the TV proposalfor plastics in fulmar stomachs (Van Franeker et al., 2019). See Annex 3 for more detailson the calculation of the confidence intervals.</p>
</div>
<div class="section" id="quality-people-quality-data">
<h3><span class="section-number">6.4.3. </span>Quality people = quality data<a class="headerlink" href="#quality-people-quality-data" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="objective-criteria-protocols-and-analysis">
<h3><span class="section-number">6.4.4. </span>Objective criteria, protocols and analysis<a class="headerlink" href="#objective-criteria-protocols-and-analysis" title="Permalink to this headline">¶</a></h3>
<div class="cell tag_remove-input docutils container">
</div>
<div class="cell tag_remove-input docutils container">
</div>
<div class="cell tag_remove-input docutils container">
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./end_of_sampling_iqaasl"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="assessing_transport.html" title="previous page"><span class="section-number">5. </span>Transport: an empirical approach</a>
    <a class='right-next' id="next-link" href="aare_sa.html" title="next page"><span class="section-number">7. </span>Aare survey area</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By hammerdirt staff<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>