
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2. The Alps and the Jura</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.e8e5499552300ddf5d7adccae7cc3b70.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3. Aare survey area" href="aare_sa.html" />
    <link rel="prev" title="1. Lakes and rivers" href="lakes_rivers.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      <img src="_static/iqaaslogo.png" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="titlepage.html">
   Identification, quantification and Analysis of Observable Anthropogenic Litter Along Swiss Freshwater Systems
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Executive summary
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   Foreword
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="esummary.html">
   Executive summary
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Survey results
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="lakes_rivers.html">
   1. Lakes and rivers
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   2. The Alps and the Jura
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Survey areas
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="aare_sa.html">
   3. Aare survey area
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="linth_sa.html">
   4. Linth survey area
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="rhone_sa.html">
   5. Rhone survey area
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ticino_sa.html">
   6. Ticino survey area
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Lakes
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="bielersee.html">
   7. Bielersee
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lac_leman.html">
   8. Lac Léman
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="neuenburgersee.html">
   9. Neuenburgersee
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="maggiore_lugano.html">
   10. Maggiore/Lugano
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="thunersee_brienzersee.html">
   11. Thunersee/Brienzersee
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="walensee.html">
   12. Walensee
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="zurichsee.html">
   13. Zurichsee
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Understand
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="baselines.html">
   14. Beach litter baselines
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="key_indicators.html">
   15. Key statistical indicators
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="code_groups.html">
   16. Code groups
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="land_use_correlation.html">
   17. The land use profile
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="references.html">
   18. Bibliografie
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Application
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="reuse_remake.html">
   19. Recycle and remake
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="shared_responsibility.html">
   20. Shared responsibility
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="slr_2017.html">
   21. More and less since 2018
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/alpes_valaisannes.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/hammerdirt-analyst/IQAASL-End-0f-Sampling-2021"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/hammerdirt-analyst/IQAASL-End-0f-Sampling-2021/issues/new?title=Issue%20on%20page%20%2Falpes_valaisannes.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/hammerdirt-analyst/IQAASL-End-0f-Sampling-2021/main?urlpath=tree/docs/alpes_valaisannes.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#survey-methods">
   2.1. Survey methods
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#survey-area-cumulative-totals">
   2.2. Survey area cumulative totals
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#litter-sample-totals">
     2.2.1. Litter sample totals
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#event-totals">
     2.2.2. Event totals
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#land-use-profile-of-the-survey-locations">
   2.3. Land use profile of the survey locations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#distribution-of-survey-results">
   2.4. Distribution of survey results
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#summary-data-and-material-types">
     2.4.1. Summary data and material types
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-most-common-objects">
     2.4.2. The most common objects
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#most-common-objects-results-by-survey-location">
     2.4.3. Most common objects results by survey location
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#utility-of-the-objects-found">
   2.5. Utility of the objects found
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#percentile-ranking-of-survey-results-with-respect-to-land-use">
     2.5.1. Percentile ranking of survey results with respect to land use
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#discussion">
   2.6. Discussion
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alps-survey-results-compared-to-shoreline-surveys">
     2.6.1. Alps survey results compared to shoreline surveys
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#most-common-objects">
       2.6.1.1. Most common objects
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#implementing-litter-surveys-in-the-existing-business-model">
     2.6.2. Implementing litter surveys in the existing business model
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#conclusions">
     2.6.3. Conclusions
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#annex">
   2.7. Annex
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fragmented-foams-and-plastics-by-size-group">
     2.7.1. Fragmented foams and plastics by size group
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#land-use-profile-of-survey-locations">
     2.7.2. Land use profile of survey locations
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#les-alps-with-respect-to-land-use">
     2.7.3. Les Alps with respect to land use
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#organisation-and-execution">
     2.7.4. Organisation and execution
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#survey-locations">
     2.7.5. Survey locations
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#inventory-of-all-items">
     2.7.6. Inventory of all items
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="cell tag_remove-input docutils container">
</div>
<div class="section" id="the-alps-and-the-jura">
<span id="lesalpes"></span><h1><span class="section-number">2. </span>The Alps and the Jura<a class="headerlink" href="#the-alps-and-the-jura" title="Permalink to this headline">¶</a></h1>
<p><a href="alpes_valaisannes_de.html" > Deutsch </a></p>
<p>The Alps and the Jura (les Alpes) is a  survey area configured and managed by the Summit Foundation. The Summit Foundation has conducted <a class="reference external" href="https://www.summit-foundation.org/en/">clean up events</a> throughout the Swiss Alps for many years. Included in the 2021 events were a series of litter-surveys conducted in parallel to the regularly scheduled events. Summit foundation had two questions with respect to IQAASL:</p>
<ol class="simple">
<li><p>How can data collection be integrated into the current business model?</p></li>
<li><p>How do surveys conducted on mountain trails compare to those on the waters edge?</p></li>
</ol>
<p>The purpose of clean-up events is to remove as much litter as possible from a defined area, the limits on how much can be removed is related to the resources at hand. A litter survey is used to identify and maintain a count of the objects within a defined area. <em>In this sense a clean-up event is approaching the litter problem from the perspective of attenuation or mitigation and litter-surveys provide the data necessary to improve prevention</em>.</p>
<div class="section" id="survey-methods">
<h2><span class="section-number">2.1. </span>Survey methods<a class="headerlink" href="#survey-methods" title="Permalink to this headline">¶</a></h2>
<p>In total there were twenty litter-surveys conducted by Summit foundation. Initially two methods were selected:</p>
<ol class="simple">
<li><p>Survey a section of trail for a defined distance and width</p></li>
<li><p>Survey the installations at the arrival/departure of the lift line</p></li>
</ol>
<p>The survey procedure remains the same under both conditions:</p>
<ol class="simple">
<li><p>A section of trail or surface area is measured</p></li>
<li><p>All visible pollutants are removed counted and classified.</p></li>
<li><p>The results and dimensions are recorded</p></li>
</ol>
<p>The difference between the two methods is the way the limits of survey area are defined. When a trail is used the limits of the survey area are defined by the trail itself, not the surveyor. In the summertime the barriers and signs that mark out the areas for lift lines have all been removed, making it difficult for the surveyor to accurately determine the correct limits.</p>
</div>
<div class="section" id="survey-area-cumulative-totals">
<h2><span class="section-number">2.2. </span>Survey area cumulative totals<a class="headerlink" href="#survey-area-cumulative-totals" title="Permalink to this headline">¶</a></h2>
<p><em><strong>Below:</strong> The Alpes and Jura survey area summer 2021</em></p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<img alt="_images/alpes_valaisannes_2_0.png" src="_images/alpes_valaisannes_2_0.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define the final survey data set here:</span>
<span class="c1"># combined the alps and the lakes and rivers data</span>
<span class="n">predata</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">aldata</span><span class="p">,</span> <span class="n">sdata</span><span class="p">])</span>

<span class="c1"># remove the prefix from the location names</span>
<span class="n">predata</span><span class="p">[</span><span class="s2">&quot;location&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">predata</span><span class="p">[</span><span class="s2">&quot;location&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">sut</span><span class="o">.</span><span class="n">get_rid_of_ix</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;clean-up-tour-&quot;</span><span class="p">))</span>

<span class="c1"># assign loc_date and make date stamp</span>
<span class="n">predata</span><span class="p">[</span><span class="s2">&quot;loc_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">predata</span><span class="o">.</span><span class="n">location</span><span class="p">,</span> <span class="n">predata</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]))</span>
<span class="n">predata</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">predata</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">])</span>

<span class="c1"># remove prefixes from the alps location names</span>
<span class="n">fd</span> <span class="o">=</span> <span class="n">predata</span><span class="p">[</span><span class="n">predata</span><span class="o">.</span><span class="n">river_bassin</span> <span class="o">==</span> <span class="s2">&quot;les-alpes&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">sd</span> <span class="o">=</span> <span class="n">predata</span><span class="p">[</span><span class="n">predata</span><span class="o">.</span><span class="n">river_bassin</span> <span class="o">!=</span> <span class="s2">&quot;les-alpes&quot;</span><span class="p">]</span>

<span class="c1"># merge it back in with the rest</span>
<span class="n">a_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">fd</span><span class="p">,</span> <span class="n">sd</span><span class="p">])</span>

<span class="c1"># scale the streets to kilometers</span>
<span class="n">a_data</span><span class="p">[</span><span class="s2">&quot;streets&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a_data</span><span class="o">.</span><span class="n">streets</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;int&quot;</span><span class="p">)</span>

<span class="c1"># the totals for each survey and the locations in the feature data</span>
<span class="n">fd_dt</span><span class="o">=</span><span class="n">fd</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;date&quot;</span><span class="p">,</span><span class="s2">&quot;month&quot;</span><span class="p">,</span> <span class="s2">&quot;location&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_quantity</span><span class="p">)</span>

<span class="c1"># survey totals</span>
<span class="n">dt_all</span> <span class="o">=</span> <span class="n">a_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;location&quot;</span><span class="p">,</span><span class="s2">&quot;river_bassin&quot;</span><span class="p">,</span> <span class="s2">&quot;date&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_quantity</span><span class="p">)</span>

<span class="c1"># the unique locations and samples</span>
<span class="n">t</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;samples&quot;</span><span class="p">:</span><span class="n">fd</span><span class="o">.</span><span class="n">loc_date</span><span class="o">.</span><span class="n">nunique</span><span class="p">(),</span>
     <span class="s2">&quot;locations&quot;</span><span class="p">:</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">(),</span>
     <span class="s2">&quot;nlocations&quot;</span><span class="p">:</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">nunique</span><span class="p">(),</span>
     <span class="s2">&quot;fdtotalq&quot;</span><span class="p">:</span> <span class="n">fd</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="p">}</span>

<span class="c1"># gather the municpalities and the population:</span>
<span class="n">fd_pop_map</span> <span class="o">=</span> <span class="n">dfBeaches</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">()][[</span><span class="s2">&quot;city&quot;</span><span class="p">,</span><span class="s2">&quot;population&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">fd_pop_map</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">fd_pop_map</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;city&quot;</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">t</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;nmunis&quot;</span><span class="p">:</span><span class="nb">len</span><span class="p">(</span><span class="n">fd_pop_map</span><span class="o">.</span><span class="n">index</span><span class="p">)})</span>

<span class="c1"># fancy print to jupyter:</span>
<span class="n">obj_string</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{:,}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="s2">&quot;fdtotalq&quot;</span><span class="p">])</span>
<span class="n">surv_string</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{:,}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="s2">&quot;samples&quot;</span><span class="p">])</span>
<span class="n">pop_string</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{:,}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">fd_pop_map</span><span class="o">.</span><span class="n">sum</span><span class="p">()[</span><span class="mi">0</span><span class="p">]))</span>

<span class="n">date_quantity_context</span> <span class="o">=</span> <span class="sa">F</span><span class="s2">&quot;Between </span><span class="si">{</span><span class="n">start_date</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span><span class="si">}</span><span class="s2"> and </span><span class="si">{</span><span class="n">end_date</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span><span class="si">}</span><span class="s2">, a total of </span><span class="si">{</span><span class="n">obj_string</span> <span class="si">}</span><span class="s2"> objects  were removed and identified over the course of </span><span class="si">{</span><span class="n">surv_string</span><span class="si">}</span><span class="s2"> surveys.&quot;</span>
<span class="n">geo_context</span> <span class="o">=</span> <span class="sa">F</span><span class="s2">&quot;This includes </span><span class="si">{</span><span class="n">t</span><span class="p">[</span><span class="s1">&#39;nlocations&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> different locations in </span><span class="si">{</span><span class="n">t</span><span class="p">[</span><span class="s1">&#39;nmunis&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> different municipalities with a combined population of </span><span class="si">{</span><span class="n">pop_string</span><span class="si">}</span><span class="s2">.&quot;</span>
<span class="n">munis_joined</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">fd_pop_map</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>

<span class="c1"># put that all together:</span>
<span class="n">lake_string</span> <span class="o">=</span> <span class="sa">F</span><span class="s2">&quot;&quot;&quot;</span>
<span class="si">{</span><span class="n">date_quantity_context</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">geo_context</span> <span class="si">}</span><span class="s2"></span>

<span class="se">\n\n</span><span class="s2"> &gt;</span><span class="si">{</span><span class="n">munis_joined</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<p>Between 2020-03 and 2021-09, a total of 7,776 objects  were removed and identified over the course of 20 surveys. This includes 20 different locations in 18 different municipalities with a combined population of 70,606.</p>
<blockquote>
<div><p>Airolo, Andermatt, Calanca, Châtel-Saint-Denis, Grindelwald, La Roche, Lens, Mesocco, Nendaz, Ollon, Ormont-Dessus, Riddes, Rovio, Troistorrents, Val de Bagnes, Val-d'Illiez, Val-de-Charmey, Val-de-Travers</p>
</div></blockquote>
</div>
</div>
<div class="section" id="litter-sample-totals">
<h3><span class="section-number">2.2.1. </span>Litter sample totals<a class="headerlink" href="#litter-sample-totals" title="Permalink to this headline">¶</a></h3>
<p><em><strong>Below:</strong> The aggregated results from the litter surveys. This does not include the event totals, see next section.</em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># gather the dimensional data for the time frame from dfDims</span>
<span class="c1"># match records to survey data</span>
<span class="c1"># the dimensional data, remove prefix and reassemble</span>
<span class="n">fd_dims</span> <span class="o">=</span> <span class="n">dfDims</span><span class="p">[(</span><span class="n">dfDims</span><span class="o">.</span><span class="n">river_bassin</span> <span class="o">==</span> <span class="s2">&quot;les-alpes&quot;</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">dfDims</span><span class="o">.</span><span class="n">date</span> <span class="o">&gt;=</span> <span class="n">start_date</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">dfDims</span><span class="o">.</span><span class="n">date</span> <span class="o">&lt;=</span> <span class="n">end_date</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">fd_dims</span><span class="p">[</span><span class="s2">&quot;location&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fd_dims</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;clean-up-tour-&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
<span class="n">fd_dims</span><span class="p">[</span><span class="s2">&quot;loc_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">fd_dims</span><span class="o">.</span><span class="n">location</span><span class="p">,</span> <span class="n">fd_dims</span><span class="o">.</span><span class="n">date</span><span class="p">))</span>

<span class="c1"># map the daily totals to the survey dimensions</span>
<span class="n">q_map</span> <span class="o">=</span> <span class="n">fd_dt</span><span class="p">[[</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;loc_date&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">quantity</span>
<span class="n">fd_dims</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fd_dims</span><span class="o">.</span><span class="n">loc_date</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">q_map</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="n">x</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="c1"># get the pieces per meter</span>
<span class="n">fd_dims</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span><span class="n">fd_dims</span><span class="o">.</span><span class="n">quantity</span><span class="o">/</span><span class="n">fd_dims</span><span class="p">[</span><span class="s2">&quot;length&quot;</span><span class="p">])</span><span class="o">*</span><span class="n">reporting_unit</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># make a loc_date column </span>
<span class="n">fd_dims</span><span class="p">[</span><span class="s2">&quot;loc_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">fd_dims</span><span class="o">.</span><span class="n">location</span><span class="p">,</span> <span class="n">fd_dims</span><span class="o">.</span><span class="n">date</span><span class="p">))</span>

<span class="n">agg_for_table</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span>
    <span class="n">unit_label</span><span class="p">:</span><span class="s2">&quot;mean&quot;</span><span class="p">,</span>
    <span class="s2">&quot;total_w&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;mac_plast_w&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;mic_plas_w&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;area&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;length&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;num_parts_other&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;num_parts_staff&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;time_minutes&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span>
    
<span class="p">}</span>

<span class="c1"># the table of cumulative values</span>
<span class="n">dims_table</span> <span class="o">=</span> <span class="n">fd_dims</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;location&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_for_table</span> <span class="p">)</span>

<span class="c1"># collect the number of samples from the survey total data:</span>
<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">dims_table</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
    <span class="n">dims_table</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;samples&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fd_dt</span><span class="p">[</span><span class="n">fd_dt</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span> <span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">loc_date</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>

<span class="c1"># get the sum of all the samples</span>
<span class="n">dims_table</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">level_names</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">=</span> <span class="n">dims_table</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">numeric_only</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># take the median pcs_m of all the samples</span>
<span class="n">dims_table</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">level_names</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">unit_label</span><span class="p">]</span> <span class="o">=</span> <span class="n">fd_dt</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;location&quot;</span><span class="p">])[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>

<span class="c1"># for display</span>
<span class="n">dims_table</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">new_col_names</span><span class="o">=</span><span class="p">{</span>
    <span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;items&quot;</span><span class="p">,</span>
    <span class="s2">&quot;total_w&quot;</span><span class="p">:</span><span class="s2">&quot;total kg&quot;</span><span class="p">,</span> 
    <span class="n">unit_label</span><span class="p">:</span><span class="n">unit_label</span><span class="p">,</span> 
    <span class="s2">&quot;mac_plast_w&quot;</span><span class="p">:</span><span class="s2">&quot;plastic kg&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;mic_plas_w&quot;</span><span class="p">:</span><span class="s2">&quot;sample total&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;area&quot;</span><span class="p">:</span><span class="s2">&quot;m²&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;length&quot;</span><span class="p">:</span><span class="s2">&quot;meters&quot;</span>
<span class="p">}</span>


<span class="n">dims_table</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">new_col_names</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># order the columns</span>
<span class="n">dims_table</span> <span class="o">=</span> <span class="n">dims_table</span><span class="p">[[</span><span class="s2">&quot;samples&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">dims_table</span><span class="o">.</span><span class="n">columns</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]]]</span>

<span class="c1"># format kilos</span>
<span class="n">dims_table</span><span class="p">[</span><span class="s2">&quot;plastic kg&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dims_table</span><span class="p">[</span><span class="s2">&quot;plastic kg&quot;</span><span class="p">]</span><span class="o">/</span><span class="mi">1000</span>

<span class="c1"># format for printing</span>
<span class="n">dims_table</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;num_parts_other&quot;</span><span class="p">:</span><span class="s2">&quot;participants&quot;</span><span class="p">,</span> <span class="s2">&quot;num_parts_staff&quot;</span><span class="p">:</span><span class="s2">&quot;staff&quot;</span><span class="p">,</span> <span class="s2">&quot;time_minutes&quot;</span><span class="p">:</span><span class="s2">&quot;time&quot;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># numerical types and columns</span>
<span class="n">tints</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;samples&quot;</span><span class="p">,</span> <span class="s2">&quot;items&quot;</span><span class="p">,</span> <span class="s2">&quot;total kg&quot;</span><span class="p">,</span> <span class="s2">&quot;sample total&quot;</span><span class="p">,</span> <span class="s2">&quot;m²&quot;</span><span class="p">,</span> <span class="s2">&quot;participants&quot;</span><span class="p">,</span> <span class="s2">&quot;staff&quot;</span><span class="p">,</span> <span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="s2">&quot;meters&quot;</span><span class="p">]</span>
<span class="n">twodec</span> <span class="o">=</span> <span class="p">[</span><span class="n">unit_label</span><span class="p">,</span> <span class="s2">&quot;plastic kg&quot;</span> <span class="p">]</span>

<span class="c1"># apply formatting</span>
<span class="n">dims_table</span><span class="p">[</span><span class="n">tints</span><span class="p">]</span> <span class="o">=</span> <span class="n">dims_table</span><span class="p">[</span><span class="n">tints</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;int&quot;</span><span class="p">)</span>
<span class="n">dims_table</span><span class="p">[</span><span class="n">twodec</span><span class="p">]</span> <span class="o">=</span> <span class="n">dims_table</span><span class="p">[</span><span class="n">twodec</span><span class="p">]</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">dims_table</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">dims_table</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span><span class="o">/</span><span class="mi">60</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;int&quot;</span><span class="p">)</span>

<span class="c1"># apply string formatting:</span>
<span class="n">commas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;items&quot;</span><span class="p">,</span><span class="s2">&quot;total kg&quot;</span><span class="p">,</span> <span class="s2">&quot;sample total&quot;</span><span class="p">,</span> <span class="s2">&quot;meters&quot;</span><span class="p">,</span> <span class="s2">&quot;m²&quot;</span><span class="p">,</span> <span class="n">unit_label</span><span class="p">]</span>
<span class="n">dims_table</span><span class="p">[</span><span class="n">commas</span><span class="p">]</span> <span class="o">=</span> <span class="n">dims_table</span><span class="p">[</span><span class="n">commas</span><span class="p">]</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># table one</span>
<span class="c1"># data = dims_table.reset_index()</span>
<span class="n">table_one</span> <span class="o">=</span> <span class="n">dims_table</span><span class="p">[[</span><span class="s2">&quot;samples&quot;</span><span class="p">,</span> <span class="s2">&quot;items&quot;</span><span class="p">,</span><span class="n">unit_label</span><span class="p">,</span><span class="s2">&quot;plastic kg&quot;</span><span class="p">,</span><span class="s2">&quot;sample total&quot;</span><span class="p">,</span> <span class="s2">&quot;m²&quot;</span><span class="p">,</span> <span class="s2">&quot;meters&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">table_one</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># make table</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">))</span>
<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
<span class="n">a_table</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_a_table</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span><span class="n">table_one</span><span class="o">.</span><span class="n">values</span> <span class="p">,</span> <span class="n">colLabels</span><span class="o">=</span><span class="n">table_one</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">colWidths</span><span class="o">=</span><span class="p">[</span><span class="mf">.23</span><span class="p">,</span> <span class="o">*</span><span class="p">[</span><span class="mf">.11</span><span class="p">]</span><span class="o">*</span><span class="mi">7</span><span class="p">],</span> <span class="n">bbox</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">bottom_row</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">a_table</span><span class="o">.</span><span class="n">get_celld</span><span class="p">()[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/alpes_valaisannes_6_0.png" src="_images/alpes_valaisannes_6_0.png" />
</div>
</div>
</div>
<div class="section" id="event-totals">
<h3><span class="section-number">2.2.2. </span>Event totals<a class="headerlink" href="#event-totals" title="Permalink to this headline">¶</a></h3>
<p><em><strong>Below:</strong> The total amount of trash collected in kilograms, the number of participants and staff and the time to complete the survey.</em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># table two event totals</span>
<span class="n">table_two</span> <span class="o">=</span> <span class="n">dims_table</span><span class="p">[[</span><span class="s2">&quot;total kg&quot;</span><span class="p">,</span> <span class="s2">&quot;participants&quot;</span><span class="p">,</span><span class="s2">&quot;staff&quot;</span><span class="p">,</span> <span class="s2">&quot;time&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">table_two</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="p">)</span>

<span class="c1"># make a table</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">table_two</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span><span class="mi">13</span><span class="p">))</span>
<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">axs</span><span class="p">)</span>

<span class="n">a_table</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_a_table</span><span class="p">(</span><span class="n">axs</span><span class="p">,</span> <span class="n">table_two</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">colLabels</span><span class="o">=</span><span class="n">table_two</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">colWidths</span><span class="o">=</span><span class="p">[</span><span class="mf">.44</span><span class="p">,</span> <span class="o">*</span><span class="p">[</span><span class="mf">.14</span><span class="p">]</span><span class="o">*</span><span class="mi">4</span><span class="p">])</span>
<span class="n">a_table</span><span class="o">.</span><span class="n">get_celld</span><span class="p">()[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/alpes_valaisannes_8_0.png" src="_images/alpes_valaisannes_8_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="land-use-profile-of-the-survey-locations">
<h2><span class="section-number">2.3. </span>Land use profile of the survey locations<a class="headerlink" href="#land-use-profile-of-the-survey-locations" title="Permalink to this headline">¶</a></h2>
<p>The land use profile is the percent of total area attributed to each land use category within a 1500m radius of each survey location.</p>
<ul class="simple">
<li><p>% to buildings</p></li>
<li><p>% to agriculture</p></li>
<li><p>% to forestry</p></li>
<li><p>% to recreation</p></li>
</ul>
<p>Streets are reported as the total number of kilometers of streets within the 1500m radius. Intersects are an ordinal ranking of the number of rivers/canals that intersect a lake within 1500m of the survey location.</p>
<p>The ratio of the number of samples completed at the different land use profiles is an objective indicator of the overall environmental and economic conditions that the samples were taken in. The distribution of the land use profile of all the surveys from the IQAASL project is used as a reference value.</p>
<p>See the section <a class="reference internal" href="land_use_correlation.html#luseprofile"><span class="std std-ref"><em>The land use profile</em></span></a> for more details.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># explanatory variables:</span>
<span class="n">luse_exp</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;% to buildings&quot;</span><span class="p">,</span> <span class="s2">&quot;% to recreation&quot;</span><span class="p">,</span> <span class="s2">&quot;% to agg&quot;</span><span class="p">,</span> <span class="s2">&quot;% to woods&quot;</span><span class="p">,</span> <span class="s2">&quot;streets&quot;</span><span class="p">,</span> <span class="s2">&quot;intersects&quot;</span><span class="p">]</span>

<span class="c1"># columns needed</span>
<span class="n">use_these_cols</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;loc_date&quot;</span> <span class="p">,</span><span class="s2">&quot;% to buildings&quot;</span><span class="p">,</span> <span class="s2">&quot;% to trans&quot;</span><span class="p">,</span> <span class="s2">&quot;% to recreation&quot;</span><span class="p">,</span> <span class="s2">&quot;% to agg&quot;</span><span class="p">,</span> <span class="s2">&quot;% to woods&quot;</span><span class="p">,</span><span class="s2">&quot;population&quot;</span><span class="p">,</span><span class="s2">&quot;location&quot;</span><span class="p">,</span><span class="s2">&quot;streets&quot;</span><span class="p">,</span> <span class="s2">&quot;intersects&quot;</span><span class="p">,</span> <span class="s2">&quot;groupname&quot;</span><span class="p">,</span><span class="s2">&quot;code&quot;</span><span class="p">]</span>

<span class="c1"># the land use data from all other locations</span>
<span class="n">datax</span> <span class="o">=</span> <span class="n">sd</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">use_these_cols</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_quantity</span><span class="p">)</span>

<span class="c1"># work off the copy</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">use_these_cols</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_quantity</span><span class="p">)</span>

<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">&quot;whitegrid&quot;</span><span class="p">)</span>


<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">luse_exp</span><span class="p">),</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">luse_exp</span><span class="p">):</span>    
    
    <span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>    
    <span class="c1"># get the empirical distribution of the independent variable</span>
    <span class="n">all_surveys</span> <span class="o">=</span> <span class="n">ECDF</span><span class="p">(</span><span class="n">datax</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
    <span class="n">les_alpes</span> <span class="o">=</span> <span class="n">ECDF</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
        
    <span class="c1"># plot that</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">all_surveys</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">all_surveys</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">a_color</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">level_names</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="c1"># plot that</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">les_alpes</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">les_alpes</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;magenta&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">level_names</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">the_median</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>
    
    <span class="c1"># get its position reference the surrounding survey area</span>
    <span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">stats</span><span class="o">.</span><span class="n">percentileofscore</span><span class="p">(</span><span class="n">les_alpes</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">the_median</span><span class="p">))</span><span class="o">/</span><span class="mi">100</span>
    
    <span class="c1"># plot the median and drop horzontal and vertical lines</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">([</span><span class="n">the_median</span><span class="p">],</span> <span class="n">a</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">level_names</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">vlines</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">the_median</span><span class="p">,</span> <span class="n">ymin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="n">a</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span><span class="n">xmax</span><span class="o">=</span><span class="n">the_median</span><span class="p">,</span> <span class="n">xmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">a</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    
    <span class="c1"># save the handels and labels but remove them from the ax    </span>
    <span class="n">handles</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
    
    <span class="c1"># format the % of total on the xaxis:</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>            
            <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Ration of samples&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">ticker</span><span class="o">.</span><span class="n">PercentFormatter</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;%&quot;</span><span class="p">))</span>        
    <span class="k">else</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% La</span><span class="s2">nduse within 1500m of the survey location&quot;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">.97</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">.99</span><span class="p">,</span> <span class="mf">.99</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper right&quot;</span><span class="p">,</span><span class="n">ncol</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>      
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/alpes_valaisannes_10_0.png" src="_images/alpes_valaisannes_10_0.png" />
</div>
</div>
<p><em><strong>Above:</strong> The locations in the Alps survey area had a higher percentage of land attributed to forestry and aggriculture and a lower percentage of land attributed to buildings and recreation than the locations in IQAASL.</em></p>
<p>The aggregated results demonstrate the difference between the two survey methods. The three locations with the highest p/100m also have the shortest length. In the case of Cabanes-des-Diablerets the meter² is equal to the length, suggesting that a small area was surveyed around a structure or building. Veysonnaz is located at the end of a ski lift line.</p>
<p>The difference in methods produces markedly different results. Furthermore, these two locations were selected specifically for inventory because of the surveyor’s previous experiences. Due to the differences in dimensions and methods the survey results from Veysonnaz, San-Beranardino and Cabanes-des-Diablerets are not considered in the proceeding analysis.</p>
</div>
<div class="section" id="distribution-of-survey-results">
<h2><span class="section-number">2.4. </span>Distribution of survey results<a class="headerlink" href="#distribution-of-survey-results" title="Permalink to this headline">¶</a></h2>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<p><em><strong>Left:</strong> All samples lakes/rivers and walking trails, 2020-03 through 2021-09, n=403. <strong>Right:</strong> Distribution of survey results, outliers removed.</em></p>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># months locator, can be confusing</span>
<span class="c1"># https://matplotlib.org/stable/api/dates_api.html</span>
<span class="n">months_fmt</span> <span class="o">=</span> <span class="n">mdates</span><span class="o">.</span><span class="n">DateFormatter</span><span class="p">(</span><span class="s2">&quot;%b&quot;</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># there is a big value in here, that should be seen.</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">dts_date</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">level_names</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">wt_dt</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">34</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="n">level_names</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>

<span class="c1"># ax.tick_params(axis=&quot;x&quot;, which=&quot;both&quot;, bottom=False )</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">months_fmt</span><span class="p">)</span>

<span class="n">axtwo</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="n">box_props</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;boxprops&quot;</span><span class="p">:{</span><span class="s2">&quot;facecolor&quot;</span><span class="p">:</span><span class="s2">&quot;none&quot;</span><span class="p">,</span> <span class="s2">&quot;edgecolor&quot;</span><span class="p">:</span><span class="s2">&quot;magenta&quot;</span><span class="p">},</span>
    <span class="s2">&quot;medianprops&quot;</span><span class="p">:{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span><span class="s2">&quot;magenta&quot;</span><span class="p">},</span>
    <span class="s2">&quot;whiskerprops&quot;</span><span class="p">:{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span><span class="s2">&quot;magenta&quot;</span><span class="p">},</span>
    <span class="s2">&quot;capprops&quot;</span><span class="p">:{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span><span class="s2">&quot;magenta&quot;</span><span class="p">}</span>
<span class="p">}</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">dts_date</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span>  <span class="n">ax</span><span class="o">=</span><span class="n">axtwo</span><span class="p">,</span> <span class="n">showfliers</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">box_props</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">stripplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">dts_date</span><span class="p">[</span><span class="n">dts_date</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">1000</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axtwo</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">jitter</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">stripplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">wt_dt</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axtwo</span><span class="p">,</span> <span class="n">jitter</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="n">axtwo</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">axtwo</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>

<span class="n">axtwo</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/alpes_valaisannes_15_0.png" src="_images/alpes_valaisannes_15_0.png" />
</div>
</div>
<div class="section" id="summary-data-and-material-types">
<h3><span class="section-number">2.4.1. </span>Summary data and material types<a class="headerlink" href="#summary-data-and-material-types" title="Permalink to this headline">¶</a></h3>
<p><em><strong>Left:</strong> Walking trails summary of survey totals. <strong>Right:</strong> Walking trails material type and percent of total.</em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># get the basic statistics from pd.describe</span>
<span class="n">cs</span> <span class="o">=</span> <span class="n">wt_dt</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># add project totals</span>
<span class="n">cs</span><span class="p">[</span><span class="s2">&quot;total objects&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fd</span><span class="p">[</span><span class="o">~</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">remove</span><span class="p">)]</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># change the names</span>
<span class="n">csx</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">change_series_index_labels</span><span class="p">(</span><span class="n">cs</span><span class="p">,</span> <span class="n">sut</span><span class="o">.</span><span class="n">create_summary_table_index</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s2">&quot;EN&quot;</span><span class="p">))</span>

<span class="c1"># format the text</span>
<span class="n">combined_summary</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">fmt_combined_summary</span><span class="p">(</span><span class="n">csx</span><span class="p">,</span> <span class="n">nf</span><span class="o">=</span><span class="p">[])</span>

<span class="c1"># the material totals</span>
<span class="n">code_totals</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">the_aggregated_object_values</span><span class="p">(</span><span class="n">wt_data</span><span class="p">,</span> <span class="n">agg</span><span class="o">=</span><span class="n">agg_pcs_median</span><span class="p">,</span> <span class="n">description_map</span><span class="o">=</span><span class="n">code_description_map</span><span class="p">,</span> <span class="n">material_map</span><span class="o">=</span><span class="n">code_material_map</span><span class="p">)</span>    
<span class="n">code_totals</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">fd_mat_totals</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">the_ratio_object_to_total</span><span class="p">(</span><span class="n">code_totals</span><span class="p">)</span>

<span class="n">fd_mat_totals</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">fmt_pct_of_total</span><span class="p">(</span><span class="n">fd_mat_totals</span><span class="p">)</span>
<span class="n">fd_mat_totals</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_string_format</span><span class="p">(</span><span class="n">fd_mat_totals</span><span class="p">)</span>

<span class="n">fd_mat_t</span> <span class="o">=</span> <span class="n">fd_mat_totals</span><span class="p">[[</span><span class="s2">&quot;material&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># make tables</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>

<span class="c1"># summary table</span>
<span class="c1"># names for the table columns</span>
<span class="n">a_col</span> <span class="o">=</span> <span class="p">[</span><span class="n">level_names</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;total&quot;</span><span class="p">]</span>

<span class="n">axone</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">axone</span><span class="p">)</span>

<span class="n">table_two</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_a_table</span><span class="p">(</span><span class="n">axone</span><span class="p">,</span> <span class="n">combined_summary</span><span class="p">,</span>  <span class="n">colLabels</span><span class="o">=</span><span class="n">a_col</span><span class="p">,</span> <span class="n">colWidths</span><span class="o">=</span><span class="p">[</span><span class="mf">.5</span><span class="p">,</span><span class="mf">.25</span><span class="p">,</span><span class="mf">.25</span><span class="p">],</span>  <span class="n">bbox</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="o">**</span><span class="p">{</span><span class="s2">&quot;loc&quot;</span><span class="p">:</span><span class="s2">&quot;lower center&quot;</span><span class="p">})</span>
<span class="c1"># table_two.get_celld()[(0,0)].get_text().set_text(&quot; &quot;)</span>

<span class="c1"># material table</span>
<span class="n">axtwo</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">axtwo</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">axtwo</span><span class="p">)</span>

<span class="c1"># column names for display</span>
<span class="n">cols_to_use</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;material&quot;</span><span class="p">:</span><span class="s2">&quot;material&quot;</span><span class="p">,</span><span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;total&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">:</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">}</span>

<span class="n">table_three</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_a_table</span><span class="p">(</span><span class="n">axtwo</span><span class="p">,</span> <span class="n">fd_mat_t</span><span class="p">,</span>  <span class="n">colLabels</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">cols_to_use</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span> <span class="n">colWidths</span><span class="o">=</span><span class="p">[</span><span class="mf">.4</span><span class="p">,</span> <span class="mf">.3</span><span class="p">,</span><span class="mf">.3</span><span class="p">],</span>  <span class="n">bbox</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="o">**</span><span class="p">{</span><span class="s2">&quot;loc&quot;</span><span class="p">:</span><span class="s2">&quot;lower center&quot;</span><span class="p">})</span>
<span class="n">table_three</span><span class="o">.</span><span class="n">get_celld</span><span class="p">()[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/alpes_valaisannes_17_0.png" src="_images/alpes_valaisannes_17_0.png" />
</div>
</div>
</div>
<div class="section" id="the-most-common-objects">
<h3><span class="section-number">2.4.2. </span>The most common objects<a class="headerlink" href="#the-most-common-objects" title="Permalink to this headline">¶</a></h3>
<p>The most common objects are <strong>the ten most abundant by quantity found</strong> AND/OR <strong>any object that was identified in at least 50% of all the surveys.</strong></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># code totals for les Alps not including veysonnaz</span>
<span class="n">code_totals</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;groupname&quot;</span><span class="p">:</span><span class="s2">&quot;utility&quot;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># objects with a fail rate of &gt; 50% in the survey area</span>
<span class="n">most_common</span> <span class="o">=</span> <span class="n">code_totals</span><span class="p">[</span><span class="n">code_totals</span><span class="p">[</span><span class="s2">&quot;fail rate&quot;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">50</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># the top ten by quantity</span>
<span class="n">most_abundant</span> <span class="o">=</span> <span class="n">code_totals</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>

<span class="c1"># merge with most_common and drop duplicates</span>
<span class="n">m_common</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">most_abundant</span><span class="p">,</span> <span class="n">most_common</span><span class="p">])</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>

<span class="c1"># get percent of total</span>
<span class="n">m_common_percent_of_total</span> <span class="o">=</span> <span class="n">m_common</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">/</span><span class="n">code_totals</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># format values for table</span>
<span class="n">m_common</span><span class="p">[</span><span class="s2">&quot;item&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">m_common</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">code_description_map</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<span class="n">m_common</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">m_common</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
<span class="n">m_common</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">m_common</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:,}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="n">m_common</span><span class="p">[</span><span class="s2">&quot;fail rate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">m_common</span><span class="p">[</span><span class="s2">&quot;fail rate&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
<span class="n">m_common</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span> <span class="o">=</span> <span class="n">m_common</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># final table wt_data</span>
<span class="n">cols_to_use</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;item&quot;</span><span class="p">:</span><span class="s2">&quot;item&quot;</span><span class="p">,</span><span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">:</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">,</span> <span class="s2">&quot;fail rate&quot;</span><span class="p">:</span><span class="s2">&quot;fail rate&quot;</span><span class="p">,</span> <span class="n">unit_label</span><span class="p">:</span><span class="n">unit_label</span><span class="p">}</span>
<span class="n">walking_trails</span> <span class="o">=</span> <span class="n">m_common</span><span class="p">[</span><span class="n">cols_to_use</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># figure caption</span>
<span class="n">rb_string</span> <span class="o">=</span> <span class="sa">F</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">*__Below:__ Walking trails most common objects: fail rate &gt;/= </span><span class="si">{</span><span class="n">a_fail_rate</span><span class="si">}</span><span class="s2">%  and/or top ten by quantity. </span>
<span class="s2">Combined, the ten most abundant objects represent </span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">m_common_percent_of_total</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="si">}</span><span class="s2">% of all objects found, </span><span class="si">{</span><span class="n">unit_label</span><span class="si">}</span><span class="s2">: median survey value.*</span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="n">md</span><span class="p">(</span><span class="n">rb_string</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<p><em><strong>Below:</strong> Walking trails most common objects: fail rate &gt;/= 50%  and/or top ten by quantity.
Combined, the ten most abundant objects represent 69% of all objects found, p/100m: median survey value.</em></p>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">m_common</span><span class="p">)</span><span class="o">*</span><span class="mf">.8</span><span class="p">))</span>

<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">axs</span><span class="p">)</span>

<span class="n">table_three</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_a_table</span><span class="p">(</span><span class="n">axs</span><span class="p">,</span> <span class="n">walking_trails</span><span class="p">,</span>  <span class="n">colLabels</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">cols_to_use</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span> <span class="n">colWidths</span><span class="o">=</span><span class="p">[</span><span class="mf">.48</span><span class="p">,</span> <span class="mf">.13</span><span class="p">,</span><span class="mf">.13</span><span class="p">,</span><span class="mf">.13</span><span class="p">,</span> <span class="mf">.13</span><span class="p">],</span>  <span class="n">bbox</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="o">**</span><span class="p">{</span><span class="s2">&quot;loc&quot;</span><span class="p">:</span><span class="s2">&quot;lower center&quot;</span><span class="p">})</span>
<span class="n">table_three</span><span class="o">.</span><span class="n">get_celld</span><span class="p">()[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/alpes_valaisannes_21_0.png" src="_images/alpes_valaisannes_21_0.png" />
</div>
</div>
</div>
<div class="section" id="most-common-objects-results-by-survey-location">
<h3><span class="section-number">2.4.3. </span>Most common objects results by survey location<a class="headerlink" href="#most-common-objects-results-by-survey-location" title="Permalink to this headline">¶</a></h3>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<p><em><strong>Below:</strong> Walking trails most common objects: median p/100m.</em></p>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># aggregated survey totals for the most common codes for all the water features </span>
<span class="n">m_common_st</span> <span class="o">=</span> <span class="n">wt_data</span><span class="p">[</span><span class="n">wt_data</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">m_common</span><span class="o">.</span><span class="n">index</span><span class="p">)]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;code&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_quantity</span><span class="p">)</span>
<span class="n">m_common_ft</span> <span class="o">=</span> <span class="n">m_common_st</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>

<span class="c1"># map the desctiption to the code</span>
<span class="n">m_common_ft</span><span class="p">[</span><span class="s2">&quot;item&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">m_common_ft</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">code_description_map</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>

<span class="c1"># pivot that</span>
<span class="n">m_c_p</span> <span class="o">=</span> <span class="n">m_common_ft</span><span class="p">[[</span><span class="s2">&quot;item&quot;</span><span class="p">,</span> <span class="n">unit_label</span><span class="p">,</span> <span class="s2">&quot;location&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s2">&quot;item&quot;</span><span class="p">)</span>

<span class="c1"># quash the hierarchal column index</span>
<span class="n">m_c_p</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">m_c_p</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># the aggregated totals for the survey area</span>
<span class="n">m_c_p</span><span class="p">[</span><span class="n">level_names</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">aggregate_to_code</span><span class="p">(</span><span class="n">wt_data</span><span class="p">[</span><span class="n">wt_data</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">m_common</span><span class="o">.</span><span class="n">index</span><span class="p">)],</span> <span class="n">code_description_map</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="n">level_names</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="c1"># a_s_a = a_data[(a_data[&quot;date&quot;] &gt;= start_date)&amp;(a_data[&quot;date&quot;] &lt;= end_date)&amp;(a_data.code.isin(m_common.index))].groupby([&quot;water_name_slug&quot;, &quot;loc_date&quot;, &quot;code&quot;], as_index=False).agg(agg_pcs_quantity)</span>
<span class="n">m_c_p</span><span class="p">[</span><span class="n">level_names</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">aggregate_to_code</span><span class="p">(</span><span class="n">a_data</span><span class="p">[</span><span class="n">a_data</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">m_common</span><span class="o">.</span><span class="n">index</span><span class="p">)],</span> <span class="n">code_description_map</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="n">level_names</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

<span class="c1"># chart that</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span>  <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">m_c_p</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="o">*</span><span class="mf">.8</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">m_c_p</span><span class="p">)</span><span class="o">*</span><span class="mf">.9</span><span class="p">))</span>

<span class="n">axone</span> <span class="o">=</span> <span class="n">ax</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">m_c_p</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axone</span><span class="p">,</span>  <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">vmax</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">annot_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;fontsize&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">},</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap2</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;.1f&quot;</span><span class="p">,</span> <span class="n">square</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cbar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">.1</span><span class="p">,</span> <span class="n">linecolor</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>

<span class="n">axone</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">labeltop</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">labelbottom</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="n">axone</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/alpes_valaisannes_24_0.png" src="_images/alpes_valaisannes_24_0.png" />
</div>
</div>
<p><em><strong>Below:</strong> Brosse de télésiège/ski-lift brushes, used to remove ice and snow from ski lifts can get separated from the installation, producing thousands of heavy gage plastic filaments.</em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">teamv</span> <span class="o">=</span> <span class="n">PILImage</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;resources/images/alpes_valaisanne/veysonnaz_brosse.jpg&quot;</span><span class="p">)</span>

<span class="c1"># display images</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mf">4.5</span><span class="p">))</span>

<span class="n">axone</span><span class="o">=</span><span class="n">ax</span>
<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">axone</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">teamv</span><span class="p">);</span>
<span class="n">axone</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Brosses de télésiège&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">title_k14</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/alpes_valaisannes_26_0.png" src="_images/alpes_valaisannes_26_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="utility-of-the-objects-found">
<h2><span class="section-number">2.5. </span>Utility of the objects found<a class="headerlink" href="#utility-of-the-objects-found" title="Permalink to this headline">¶</a></h2>
<p>The utility type is based on the utilization of the object prior to it being discarded or item description if the original use is undetermined. Identified objects are classified into one of the predefined categories. The categories are grouped according to utilization or item description.</p>
<ul class="simple">
<li><p><strong>wastewater</strong>: items released from water treatment plants includes items likely toilet flushed</p></li>
<li><p><strong>micro plastics (&lt; 5mm)</strong>: fragmented plastics and pre-production plastic resins</p></li>
<li><p><strong>infrastructure</strong>: items related to construction and maintenance of buildings, roads and water/power supplies</p></li>
<li><p><strong>food and drink</strong>: all materials related to consuming food and drink</p></li>
<li><p><strong>agriculture</strong>: primarily industrial sheeting i.e., mulch and row covers, greenhouses, soil fumigation, bale wraps. Includes hard plastics for agricultural fencing, flowerpots etc.</p></li>
<li><p><strong>tobacco</strong>: primarily cigarette filters, includes all smoking related material</p></li>
<li><p><strong>recreation</strong>: objects related to sports and leisure i.e., fishing, hunting, hiking etc.</p></li>
<li><p><strong>packaging non food and drink</strong>: packaging material not identified as food, drink nor tobacco related</p></li>
<li><p><strong>plastic fragments</strong>: plastic pieces of undetermined origin or use</p></li>
<li><p><strong>personal items</strong>: accessories, hygiene and clothing related</p></li>
</ul>
<p>See the annex for the complete list of objects identified, includes descriptions and group classification. The section <a class="reference internal" href="code_groups.html#codegroups"><span class="std std-ref">Code groups</span></a> describes each code group in detail and provides a comprehensive list of all objects in a group.</p>
<p><em><strong>Below:</strong> Walking trails utility of objects found: % of total by water feature. Fragmented objects with no clear identification remain classified by size.</em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># the median survey total and % of total for codegroups</span>
<span class="n">cg_t</span> <span class="o">=</span> <span class="n">wt_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;location&quot;</span><span class="p">,</span><span class="s2">&quot;groupname&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_quantity</span><span class="p">)</span>

<span class="c1"># aggregate all that for each water feature</span>
<span class="n">cg_t</span> <span class="o">=</span> <span class="n">cg_t</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="s2">&quot;groupname&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="n">unit_label</span><span class="p">:</span><span class="s2">&quot;median&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">})</span>

<span class="c1"># quantity per water feature</span>
<span class="n">cg_tq</span> <span class="o">=</span> <span class="n">cg_t</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;location&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># assign the water feature total to each record</span>
<span class="k">for</span> <span class="n">a_feature</span> <span class="ow">in</span> <span class="n">cg_tq</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
    <span class="n">cg_t</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">cg_t</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span> <span class="n">a_feature</span><span class="p">,</span> <span class="s2">&quot;f_total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cg_tq</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">a_feature</span><span class="p">]</span>

<span class="c1"># get the percent of total for each group for each water feature</span>
<span class="n">cg_t</span><span class="p">[</span><span class="s2">&quot;pt&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">cg_t</span><span class="o">.</span><span class="n">quantity</span><span class="o">/</span><span class="n">cg_t</span><span class="o">.</span><span class="n">f_total</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># pivot that</span>
<span class="n">data_table</span> <span class="o">=</span> <span class="n">cg_t</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s2">&quot;groupname&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s2">&quot;pt&quot;</span><span class="p">)</span>

<span class="c1"># make a column for the survey area and all data</span>
<span class="n">data_table</span><span class="p">[</span><span class="n">level_names</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">aggregate_to_group_name</span><span class="p">(</span><span class="n">wt_data</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="n">level_names</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">data_table</span><span class="p">[</span><span class="n">level_names</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">aggregate_to_group_name</span><span class="p">(</span><span class="n">sd</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">level_names</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

<span class="c1"># chart that</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data_table</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="o">*</span><span class="mf">.8</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">data_table</span><span class="p">)</span><span class="o">*</span><span class="mf">.9</span><span class="p">))</span>

<span class="n">axone</span> <span class="o">=</span> <span class="n">ax</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">data_table</span> <span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axone</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap2</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">annot_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;fontsize&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">},</span> <span class="n">cbar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;.0%&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">.1</span><span class="p">,</span> <span class="n">square</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">linecolor</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>

<span class="n">axone</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">labeltop</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">labelbottom</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="n">axone</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="n">axone</span><span class="o">.</span><span class="n">get_yticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/alpes_valaisannes_29_0.png" src="_images/alpes_valaisannes_29_0.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># median p/50m solve cg_t for unit_label</span>
<span class="n">data_table</span> <span class="o">=</span> <span class="n">cg_t</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s2">&quot;groupname&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="n">unit_label</span><span class="p">)</span>

<span class="c1"># survey area median</span>
<span class="n">data_table</span><span class="p">[</span><span class="n">level_names</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">aggregate_to_group_name</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">level_names</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;med&quot;</span><span class="p">)</span>

<span class="c1"># all survey area median</span>
<span class="n">data_table</span><span class="p">[</span><span class="n">level_names</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">aggregate_to_group_name</span><span class="p">(</span><span class="n">sd</span><span class="p">,</span> <span class="n">unit_label</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">level_names</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;med&quot;</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><em><strong>Below:</strong> Walking trails utility of objects found: median p/100m.</em></p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<img alt="_images/alpes_valaisannes_32_0.png" src="_images/alpes_valaisannes_32_0.png" />
</div>
</div>
<div class="section" id="percentile-ranking-of-survey-results-with-respect-to-land-use">
<h3><span class="section-number">2.5.1. </span>Percentile ranking of survey results with respect to land use<a class="headerlink" href="#percentile-ranking-of-survey-results-with-respect-to-land-use" title="Permalink to this headline">¶</a></h3>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># get the percentile ranking under each condition:</span>
<span class="c1"># define land use ranges based on the sample data</span>
<span class="n">l_f</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;% to agg&quot;</span><span class="p">,</span> <span class="s2">&quot;% to woods&quot;</span><span class="p">,</span> <span class="s2">&quot;population&quot;</span><span class="p">]</span>

<span class="n">this_range</span> <span class="o">=</span> <span class="p">(</span><span class="n">fd</span><span class="p">[</span><span class="n">l_f</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">fd</span><span class="p">[</span><span class="n">l_f</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
<span class="n">this_range_w</span> <span class="o">=</span> <span class="p">(</span><span class="n">fd</span><span class="p">[</span><span class="n">l_f</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">fd</span><span class="p">[</span><span class="n">l_f</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
<span class="n">this_range_p</span> <span class="o">=</span> <span class="p">(</span><span class="n">fd</span><span class="p">[</span><span class="n">l_f</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">fd</span><span class="p">[</span><span class="n">l_f</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>

<span class="c1"># apply them to all the data</span>
<span class="c1"># one test for agg -- a dominant land use feature of the sample data</span>
<span class="n">some_data</span> <span class="o">=</span> <span class="n">a_data</span><span class="p">[(</span><span class="n">a_data</span><span class="p">[</span><span class="n">l_f</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">&gt;=</span> <span class="n">this_range</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">&amp;</span><span class="p">(</span><span class="n">a_data</span><span class="p">[</span><span class="n">l_f</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">&lt;=</span> <span class="n">this_range</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># one test for woods -- the dominant land use feature of the sample data</span>
<span class="n">some_data_w</span> <span class="o">=</span> <span class="n">a_data</span><span class="p">[(</span><span class="n">a_data</span><span class="p">[</span><span class="n">l_f</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">&gt;=</span> <span class="n">this_range_w</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">&amp;</span><span class="p">(</span><span class="n">a_data</span><span class="p">[</span><span class="n">l_f</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">&lt;=</span> <span class="n">this_range_w</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># one test for population -- </span>
<span class="n">some_data_p</span> <span class="o">=</span> <span class="n">a_data</span><span class="p">[(</span><span class="n">a_data</span><span class="p">[</span><span class="n">l_f</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span> <span class="o">&gt;=</span> <span class="n">this_range_p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">&amp;</span><span class="p">(</span><span class="n">a_data</span><span class="p">[</span><span class="n">l_f</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span> <span class="o">&lt;=</span> <span class="n">this_range_p</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># remove Alps valaisannes</span>
<span class="n">some_data</span> <span class="o">=</span> <span class="n">some_data</span><span class="p">[</span><span class="o">~</span><span class="n">some_data</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">())]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">some_data_w</span> <span class="o">=</span> <span class="n">some_data_w</span><span class="p">[</span><span class="o">~</span><span class="n">some_data_w</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">())]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">some_data_p</span> <span class="o">=</span> <span class="n">some_data_p</span><span class="p">[</span><span class="o">~</span><span class="n">some_data_p</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">())]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># the number of samples and locations that have similar land use profiles as AV:</span>
<span class="c1"># agg to loc_date for each criteria</span>
<span class="c1"># data for charting and comparing</span>
<span class="n">data</span><span class="o">=</span><span class="n">some_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;location&quot;</span><span class="p">,</span><span class="n">l_f</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">data_w</span> <span class="o">=</span><span class="n">some_data_w</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;location&quot;</span><span class="p">,</span><span class="n">l_f</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">data_p</span> <span class="o">=</span> <span class="n">some_data_p</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;location&quot;</span><span class="p">,</span><span class="o">*</span><span class="n">l_f</span><span class="p">[</span><span class="mi">1</span><span class="p">:]],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># get the percentile ranking for each location under each condtion:</span>
<span class="n">table_data</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nvsn</span><span class="p">):</span>
    <span class="n">this_num</span> <span class="o">=</span> <span class="n">wt_dt</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">wt_dt</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span> <span class="n">x</span><span class="p">,</span> <span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">stats</span><span class="o">.</span><span class="n">percentileofscore</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(),</span> <span class="n">this_num</span><span class="p">))</span>
    <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">stats</span><span class="o">.</span><span class="n">percentileofscore</span><span class="p">(</span><span class="n">data_p</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(),</span> <span class="n">this_num</span><span class="p">))</span>
    <span class="n">c</span> <span class="o">=</span> <span class="p">(</span><span class="n">stats</span><span class="o">.</span><span class="n">percentileofscore</span><span class="p">(</span><span class="n">data_w</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(),</span> <span class="n">this_num</span><span class="p">))</span>
    <span class="n">table_data</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">x</span><span class="p">:{</span><span class="s2">&quot;agriculture&quot;</span><span class="p">:</span><span class="n">a</span><span class="p">,</span> <span class="s2">&quot;woods&quot;</span><span class="p">:</span><span class="n">b</span><span class="p">,</span> <span class="s2">&quot;population&quot;</span><span class="p">:</span><span class="n">c</span><span class="p">}})</span>

<span class="c1"># make df and format</span>
<span class="n">t_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">table_data</span><span class="p">)</span>
<span class="n">t_data</span> <span class="o">=</span> <span class="n">t_data</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;int&quot;</span><span class="p">)</span>
<span class="n">t_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">t_data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="p">:</span><span class="s2">&quot;variable&quot;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">t_data</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;variable&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nvsn</span><span class="p">)</span><span class="o">*</span><span class="mf">.8</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>

<span class="n">axone</span> <span class="o">=</span> <span class="n">ax</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">t_data</span> <span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axone</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap2</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">annot_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;fontsize&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">},</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;g&quot;</span><span class="p">,</span> <span class="n">cbar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">.1</span><span class="p">,</span> <span class="n">square</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">linecolor</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>

<span class="n">axone</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">labeltop</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">labelbottom</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="n">axone</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="n">axone</span><span class="o">.</span><span class="n">get_yticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/alpes_valaisannes_34_0.png" src="_images/alpes_valaisannes_34_0.png" />
</div>
</div>
<p><em><strong>Above:</strong> The ranking of the alpes survey locations with respect to land use.  For example, the survey results at Airolo were greater than 83% of all the surveys (lakes, rivers and alpes). At Andermatt the survey results are lower than 95% of all surveys with a comparable land use profile.</em></p>
</div>
</div>
<div class="section" id="discussion">
<h2><span class="section-number">2.6. </span>Discussion<a class="headerlink" href="#discussion" title="Permalink to this headline">¶</a></h2>
<div class="section" id="alps-survey-results-compared-to-shoreline-surveys">
<h3><span class="section-number">2.6.1. </span>Alps survey results compared to shoreline surveys<a class="headerlink" href="#alps-survey-results-compared-to-shoreline-surveys" title="Permalink to this headline">¶</a></h3>
<p>The median value is 110 p/100m for the 17 locations that met the length and width criteria in the Alps survey area, less than the median value of all the other survey areas (189p/100m). Objects related to consumption such as food, drink and tobacco were a smaller percent of the total and had a lower p/100m rate compared to locations along water systems. This difference could be in part due to the low levels of urbanization that characterizes the Alps survey area with respect to all other survey areas.</p>
<p>Objects related to infrastructure are 36% of the total or twice the rate encountered when all the survey areas are considered. This is largely attributed to ski-lift brush filaments identified in substantial quantities at Les-Crosets. Ski lift brushes are used to remove the snow from the top of covered ski-lift-chairs as they approach the embarkation site. Similar to industrial pellets or expanded foam beads in the aquatic environment, ski brush pieces will likely be a recurring item to be identified in occasionally large quantities at very specific sites.</p>
<p>The ratio of infrastructure objects to food and tobacco objects is almost 1, results like these are typical of environments that have a more developed infrastructure, see <a class="reference internal" href="shared_responsibility.html#transport"><span class="std std-ref">Shared Responsibility</span></a>. Fragmented plastics are found at rates similar to the other survey areas. Cable ties and masking tape are new additions to the most common list, both objects are found on the shoreline but at rates below 50%.</p>
<p>Recall that these surveys were conducted along the ski-lift line or a walking trail on the domain of a ski-area.  While use may be greater in winter, many domains are excellent vtt and hiking areas, establishing a use case year-round for these regions.</p>
<div class="section" id="most-common-objects">
<h4><span class="section-number">2.6.1.1. </span>Most common objects<a class="headerlink" href="#most-common-objects" title="Permalink to this headline">¶</a></h4>
<p>The most common objects are 74% of the total identified. Cigarette ends did not exceed the national median in the Alpes survey area, however there were significant values recorded at Verbier, Grindelwald and Airolo. Specific items from the infrastructure group are represented such as:</p>
<ol class="simple">
<li><p>screws and bolts</p></li>
<li><p>cable ties</p></li>
<li><p>masking tape</p></li>
<li><p>bricks and pipes</p></li>
</ol>
<p>However, the absence of expanded or extruded polystyrene from the Alps survey areas most common list is a sharp contrast to all other survey areas where this product alone is approximately 13% of the total, see <a class="reference internal" href="lakes_rivers.html#allsurveys"><span class="std std-ref"><em>Lakes and rivers</em></span></a>.</p>
</div>
</div>
<div class="section" id="implementing-litter-surveys-in-the-existing-business-model">
<h3><span class="section-number">2.6.2. </span>Implementing litter surveys in the existing business model<a class="headerlink" href="#implementing-litter-surveys-in-the-existing-business-model" title="Permalink to this headline">¶</a></h3>
<p>A clean-up event covers a relatively large geographic area compared to a beach-litter survey. Volunteers to these events are drawn by the opportunity to take care of the environment AND enjoy some moderate exercise in the company of others. Beach-litter surveys do not offer the same type of activity level and may not be of interest to all volunteers.</p>
<p>Implementing beach litter surveys means offering the experience to volunteers at the event but maintaining the resources internally to ensure that the survey is completed according to protocol. This includes identifying, counting and entering data. Summit foundation was able to do this by ensuring that there was one person present at each event that could complete the survey.</p>
<p>The surveyors from summit foundation preferred to sample along the lift lines and starting at the arrival and departure of ski lifts. Samples taken this way follow the flow of the event: downhill and within the areas of high traffic.</p>
<p>Samples that were taken around buildings or other installations produced higher survey results. Confirming what Summit foundation members had identified in previous years. From these experiences the Project manager, Téo Gursoy, explained:</p>
<blockquote>
<div><p>Indeed, the surveyors concentrate mainly on the sections under the chairlifts, gondolas or at the departure and arrival of these installations which are highly frequented places.</p>
</div></blockquote>
<p>In some instances, the density of the objects is so great that the surveyor felt compelled to concentrate on one area by expanding the width of the survey area. M Gursoy described what happened when a surveyor happened on a location that had large quantities of ski-lift brushes:</p>
<blockquote>
<div><p>However, the surveyor started the trail section at the arrival station of the gondola. The ski-lift brushes quickly caught the surveyor”s attention who decided to focus on this area alone in order to find out how many of them could be found in this type of area…</p>
</div></blockquote>
<p>The survey results around infrastructure or buildings are not indicative of the state of the environment throughout the domain. Surveys around these structures tend to have higher counts, however they make up only a small portion of the total land use.</p>
<p>Adjustments had to be made to the software and reporting scheme in order to handle the different types of data that are produced from clean-up events. That included creating new identification codes for specific objects that are found in the Alps survey area. Furthermore, Summit foundation provided the resources so that one foundation staff member could be trained using the project protocol and software.</p>
</div>
<div class="section" id="conclusions">
<h3><span class="section-number">2.6.3. </span>Conclusions<a class="headerlink" href="#conclusions" title="Permalink to this headline">¶</a></h3>
<p>The surveys conducted along the trails and lift lines in the Alps survey area produced data that was very similar to the data produced from surveys done on the shoreline. However, when surveyors focused their attention around specific infrastructure items the survey counts return extreme values. Survey results on the shoreline would produce the same results if surveys were only conducted at locations where high litter counts were more probable.</p>
<p>Food and drink objects are only 11% of the total objects found compared to 36% from the other survey areas. However, infrastructure objects are 75% of the total in the Alps versus 18% at all other survey areas. This is in part due to the difference in human presence when compared to locations at lower altitudes where human presence is a constant throughout the year, thus more of a pressure from food and tobacco objects as opposed to infrastructure.</p>
<p>This first project also demonstrated the feasibility of combining monitoring with popular events. In preparation to monitoring, the members of both teams exchanged ideas and sorted samples together. This permitted both organizations to better understand each other and determine baseline services that could be provided while collecting data for a national report:</p>
<ol class="simple">
<li><p>Assist in the collection and identification</p></li>
<li><p>Assist in the data entry</p></li>
<li><p>Provide charts, graphs and data that can be used by the participating organizations</p></li>
</ol>
<p>A beach-litter survey requires 2-4 hours to complete, depending on how many different objects there are. This resource was not accounted for in the operating budget of either organization. Therefore, Summit foundation provided the coordination and infrastructure and hammerdirt provided an additional surveyor and IT support.</p>
<p>The data provided allows for direct comparisons between locations, provided that the same survey method is used. The abundance of infrastructure items relative to food and tobacco items is indicative of surveys completed in rural locations. How well this data compares to surveys done on the shoreline needs to be explored further. However, cigarette ends, broken glass, fragmented plastics and snack wrappers are among the most common items found on the shoreline.</p>
<p>We thank all the members of Summit Foundation for their help and specifically Olivier Kressmann and Téo Gursoy.</p>
</div>
</div>
<div class="section" id="annex">
<h2><span class="section-number">2.7. </span>Annex<a class="headerlink" href="#annex" title="Permalink to this headline">¶</a></h2>
<div class="section" id="fragmented-foams-and-plastics-by-size-group">
<h3><span class="section-number">2.7.1. </span>Fragmented foams and plastics by size group<a class="headerlink" href="#fragmented-foams-and-plastics-by-size-group" title="Permalink to this headline">¶</a></h3>
<p>The table below contains the components of Gfoam and Gfrags. Objects labeled “Expanded foams” are grouped as Gfoam the rest are grouped as Gfrags for analysis.</p>
<p><em><strong>Below:</strong> fragmented foams and plastics by size group. Median {unit_label}, number of pieces, percent of total.</em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># collect the data before aggregating foams for all locations in the survye area</span>
<span class="n">h</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;resources/checked_alpes_survey_data_be.csv&quot;</span><span class="p">)</span>

<span class="c1"># remove prefix</span>
<span class="n">h</span><span class="p">[</span><span class="s2">&quot;location&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">h</span><span class="p">[</span><span class="s2">&quot;location&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">sut</span><span class="o">.</span><span class="n">get_rid_of_ix</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;clean-up-tour-&quot;</span><span class="p">))</span>

<span class="c1"># remove prefixes from survey data</span>
<span class="n">lAlps</span> <span class="o">=</span> <span class="n">h</span><span class="p">[</span><span class="n">h</span><span class="o">.</span><span class="n">river_bassin</span> <span class="o">==</span> <span class="n">bassin_name</span><span class="p">][[</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;code&quot;</span><span class="p">,</span><span class="s2">&quot;location&quot;</span><span class="p">,</span><span class="s2">&quot;river_bassin&quot;</span><span class="p">,</span><span class="s2">&quot;groupname&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="s2">&quot;pcs_m&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># convert to reporting unit</span>
<span class="n">lAlps</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">=</span> <span class="p">(</span><span class="n">lAlps</span><span class="o">.</span><span class="n">pcs_m</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># the fragmented plastics and foams</span>
<span class="n">some_foams</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;G81&quot;</span><span class="p">,</span> <span class="s2">&quot;G82&quot;</span><span class="p">,</span> <span class="s2">&quot;G83&quot;</span><span class="p">,</span> <span class="s2">&quot;G74&quot;</span><span class="p">]</span>
<span class="n">some_frag_plas</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">lAlps</span><span class="p">[</span><span class="n">lAlps</span><span class="o">.</span><span class="n">groupname</span> <span class="o">==</span> <span class="s2">&quot;plastic pieces&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>

<span class="c1"># get just the foams and plastics and aggregate to code</span>
<span class="n">conditions</span> <span class="o">=</span> <span class="p">((</span><span class="n">lAlps</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="o">*</span><span class="n">some_frag_plas</span><span class="p">,</span> <span class="o">*</span><span class="n">some_foams</span><span class="p">]))</span><span class="o">&amp;</span><span class="p">(</span><span class="o">~</span><span class="n">lAlps</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">remove</span><span class="p">)))</span>
<span class="n">fd_frags_foams</span> <span class="o">=</span> <span class="n">lAlps</span><span class="p">[</span><span class="n">conditions</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;code&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_quantity</span><span class="p">)</span>
<span class="n">fd_frags_foams</span> <span class="o">=</span> <span class="n">fd_frags_foams</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_pcs_median</span><span class="p">)</span>

<span class="c1"># add code description and format for printing</span>
<span class="n">fd_frags_foams</span><span class="p">[</span><span class="s2">&quot;item&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fd_frags_foams</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">code_description_map</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<span class="n">fd_frags_foams</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">fd_frags_foams</span><span class="o">.</span><span class="n">quantity</span><span class="o">/</span><span class="n">fd</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">fd_frags_foams</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fd_frags_foams</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
<span class="n">fd_frags_foams</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fd_frags_foams</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># table data</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">fd_frags_foams</span><span class="p">[[</span><span class="s2">&quot;item&quot;</span><span class="p">,</span><span class="n">unit_label</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;Gesamt&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">:</span><span class="s2">&quot;</span><span class="si">% G</span><span class="s2">esamt&quot;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="o">*</span><span class="mf">2.1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">*</span><span class="mf">.8</span><span class="p">))</span>
<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">axs</span><span class="p">)</span>

<span class="n">this_table</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_a_table</span><span class="p">(</span><span class="n">axs</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>  <span class="n">colLabels</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">colWidths</span><span class="o">=</span><span class="p">[</span><span class="mf">.6</span><span class="p">,</span> <span class="mf">.13</span><span class="p">,</span> <span class="mf">.13</span><span class="p">,</span> <span class="mf">.13</span><span class="p">],</span> <span class="n">bbox</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">this_table</span><span class="o">.</span><span class="n">get_celld</span><span class="p">()[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/alpes_valaisannes_39_0.png" src="_images/alpes_valaisannes_39_0.png" />
</div>
</div>
</div>
<div class="section" id="land-use-profile-of-survey-locations">
<h3><span class="section-number">2.7.2. </span>Land use profile of survey locations<a class="headerlink" href="#land-use-profile-of-survey-locations" title="Permalink to this headline">¶</a></h3>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># get the land use profile of AV</span>
<span class="n">lu_prof</span> <span class="o">=</span> <span class="n">fd</span><span class="p">[[</span><span class="s2">&quot;location&quot;</span><span class="p">,</span><span class="s2">&quot;% to buildings&quot;</span><span class="p">,</span> <span class="s2">&quot;% to recreation&quot;</span><span class="p">,</span> <span class="s2">&quot;% to agg&quot;</span><span class="p">,</span> <span class="s2">&quot;% to woods&quot;</span><span class="p">,</span><span class="s2">&quot;population&quot;</span><span class="p">,</span><span class="s2">&quot;streets&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>

<span class="c1"># format for printing</span>
<span class="n">lu_prof</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="n">lu_prof</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">]]</span> <span class="o">=</span> <span class="n">lu_prof</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="n">lu_prof</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">]]</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">int</span><span class="p">((</span><span class="n">x</span><span class="o">*</span><span class="mi">100</span><span class="p">))</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
<span class="n">lu_prof</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">lu_prof</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">5</span><span class="p">:]]</span> <span class="o">=</span> <span class="n">lu_prof</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">lu_prof</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">5</span><span class="p">:]]</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">F</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># put that to a table</span>
<span class="n">data</span><span class="o">=</span><span class="n">lu_prof</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">table_one</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="o">*</span><span class="mf">1.6</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">table_one</span><span class="p">)</span><span class="o">*</span><span class="mf">.5</span><span class="p">))</span>
<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">axs</span><span class="p">)</span>

<span class="n">this_table</span> <span class="o">=</span> <span class="n">sut</span><span class="o">.</span><span class="n">make_a_table</span><span class="p">(</span><span class="n">axs</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>  <span class="n">colLabels</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">colWidths</span><span class="o">=</span><span class="p">[</span><span class="mf">.3</span><span class="p">,</span> <span class="o">*</span><span class="p">[</span><span class="mf">.13</span><span class="p">]</span><span class="o">*</span><span class="mi">6</span><span class="p">],</span> <span class="n">bbox</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">this_table</span><span class="o">.</span><span class="n">get_celld</span><span class="p">()[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/alpes_valaisannes_41_0.png" src="_images/alpes_valaisannes_41_0.png" />
</div>
</div>
</div>
<div class="section" id="les-alps-with-respect-to-land-use">
<h3><span class="section-number">2.7.3. </span>Les Alps with respect to land use<a class="headerlink" href="#les-alps-with-respect-to-land-use" title="Permalink to this headline">¶</a></h3>
<p>The results from AV are compared to the other survey results that have either <em>% to woods</em> or <em>% to agg</em> within the same range as AV. The ranges for AV are:</p>
<ul class="simple">
<li><p>% to agg: 0 to 66%</p></li>
<li><p>% to woods: 0 to 83%</p></li>
<li><p>population: 199 to 10,668</p></li>
</ul>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define land use ranges based on the sample data</span>
<span class="n">this_range</span> <span class="o">=</span> <span class="p">(</span><span class="n">fd</span><span class="p">[</span><span class="n">l_f</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">fd</span><span class="p">[</span><span class="n">l_f</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
<span class="n">this_range_w</span> <span class="o">=</span> <span class="p">(</span><span class="n">fd</span><span class="p">[</span><span class="n">l_f</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">fd</span><span class="p">[</span><span class="n">l_f</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
<span class="n">this_range_p</span> <span class="o">=</span> <span class="p">(</span><span class="n">fd</span><span class="p">[</span><span class="n">l_f</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">fd</span><span class="p">[</span><span class="n">l_f</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>

<span class="c1"># apply them to all the data</span>
<span class="c1"># one test for agg -- a dominant land use feature of the sample data</span>
<span class="n">some_data</span> <span class="o">=</span> <span class="n">a_data</span><span class="p">[(</span><span class="n">a_data</span><span class="p">[</span><span class="n">l_f</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">&gt;=</span> <span class="n">this_range</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">&amp;</span><span class="p">(</span><span class="n">a_data</span><span class="p">[</span><span class="n">l_f</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">&lt;=</span> <span class="n">this_range</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># one test for woods -- the dominant land use feature of the sample data</span>
<span class="n">some_data_w</span> <span class="o">=</span> <span class="n">a_data</span><span class="p">[(</span><span class="n">a_data</span><span class="p">[</span><span class="n">l_f</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">&gt;=</span> <span class="n">this_range_w</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">&amp;</span><span class="p">(</span><span class="n">a_data</span><span class="p">[</span><span class="n">l_f</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">&lt;=</span> <span class="n">this_range_w</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># one test for population -- </span>
<span class="n">some_data_p</span> <span class="o">=</span> <span class="n">a_data</span><span class="p">[(</span><span class="n">a_data</span><span class="p">[</span><span class="n">l_f</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span> <span class="o">&gt;=</span> <span class="n">this_range_p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">&amp;</span><span class="p">(</span><span class="n">a_data</span><span class="p">[</span><span class="n">l_f</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span> <span class="o">&lt;=</span> <span class="n">this_range_p</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># remove Alps valaisannes</span>
<span class="n">some_data</span> <span class="o">=</span> <span class="n">some_data</span><span class="p">[</span><span class="o">~</span><span class="n">some_data</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">())]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">some_data_w</span> <span class="o">=</span> <span class="n">some_data_w</span><span class="p">[</span><span class="o">~</span><span class="n">some_data_w</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">())]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">some_data_p</span> <span class="o">=</span> <span class="n">some_data_p</span><span class="p">[</span><span class="o">~</span><span class="n">some_data_p</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">())]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># the number of samples and locations that have similar land use profiles as AV:</span>
<span class="c1"># agg to loc_date for each criteria</span>
<span class="c1"># data for charting and comparing</span>
<span class="n">data</span><span class="o">=</span><span class="n">some_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;location&quot;</span><span class="p">,</span><span class="n">l_f</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">data_w</span> <span class="o">=</span><span class="n">some_data_w</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="n">l_f</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">data_p</span> <span class="o">=</span> <span class="n">some_data_p</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;location&quot;</span><span class="p">,</span><span class="n">l_f</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;population&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">regional</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">l_f</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># locations that share the characteristics</span>
<span class="n">commonsamps</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">loc_date</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span> <span class="o">&amp;</span> <span class="nb">set</span><span class="p">(</span><span class="n">data_w</span><span class="o">.</span><span class="n">loc_date</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span><span class="o">&amp;</span> <span class="nb">set</span><span class="p">(</span><span class="n">data_p</span><span class="o">.</span><span class="n">loc_date</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="n">commonlocs</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span> <span class="o">&amp;</span> <span class="nb">set</span><span class="p">(</span><span class="n">data_w</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span><span class="o">&amp;</span><span class="nb">set</span><span class="p">(</span><span class="n">data_p</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>

<span class="c1"># print these out to get the comparison</span>

<span class="c1"># print(&quot;agg&quot;)</span>
<span class="c1"># print(this_range)</span>
<span class="c1"># print(len(data.location.unique()))</span>
<span class="c1"># print(data.loc_date.nunique())</span>
<span class="c1"># print(&quot;woods&quot;)</span>
<span class="c1"># print(this_range_w)</span>
<span class="c1"># print(len(data_w.location.unique()))</span>
<span class="c1"># print(data_w.loc_date.nunique())</span>
<span class="c1"># print(&quot;p&quot;)</span>
<span class="c1"># print(this_range_p)</span>
<span class="c1"># print(len(data_p.location.unique()))</span>
<span class="c1"># print(data_p.loc_date.nunique())</span>
<span class="c1"># print(len(commonsamps))</span>
<span class="c1"># print(commonlocs)</span>

<span class="c1"># make a categorical df for mapping</span>
<span class="n">mat_agg</span> <span class="o">=</span> <span class="n">dfBeaches</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">()]</span>
<span class="n">mat_agg</span><span class="p">[</span><span class="s2">&quot;match&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;agg&quot;</span>
<span class="n">mat_w</span> <span class="o">=</span> <span class="n">dfBeaches</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data_w</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">()]</span>
<span class="n">mat_w</span><span class="p">[</span><span class="s2">&quot;match&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;woods&quot;</span>
<span class="n">mat_p</span> <span class="o">=</span> <span class="n">dfBeaches</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data_p</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">()]</span>
<span class="n">mat_p</span><span class="p">[</span><span class="s2">&quot;match&quot;</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;pop&quot;</span>

<span class="c1"># merge all that and export to .csv</span>
<span class="n">landusemap</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">mat_agg</span><span class="p">,</span> <span class="n">mat_w</span><span class="p">,</span> <span class="n">mat_p</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="c1"># landusemap.to_csv(&quot;output/Alps-valaisannes/lu_comparison.csv&quot;, index=False)</span>
</pre></div>
</div>
</div>
</div>
<p><em><strong>Top left:</strong> survey total with respect to % to agg, range=(0%, 66%). <strong>Top right:</strong> survey total with respect to % to woods, range=(0%, 65%). <strong>Bottom left:</strong> survey total with respect to population, range=(199, 10,668)</em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">axone</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">axtwo</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">axthree</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">axfour</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>

<span class="c1"># plot the samples from all the data that meet the x criteria</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;% to agg&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;All surveys&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axone</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># point estimates of the percentile ranking based off the edcf of all surveys</span>
<span class="c1"># place to store the rankings</span>
<span class="n">rankings</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c1"># plot the values for AV</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">regional</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">():</span>
    <span class="n">this_y</span> <span class="o">=</span> <span class="n">regional</span><span class="p">[</span><span class="n">regional</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span> <span class="n">x</span><span class="p">][</span><span class="n">unit_label</span><span class="p">]</span>
    <span class="n">this_x</span> <span class="o">=</span> <span class="n">regional</span><span class="p">[</span><span class="n">regional</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span> <span class="n">x</span><span class="p">][</span><span class="s2">&quot;% to agg&quot;</span><span class="p">]</span>
    <span class="n">axone</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">this_x</span><span class="p">,</span> <span class="n">this_y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># handle extreme values</span>
<span class="n">axone</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">max</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()))</span>

<span class="c1"># set labels</span>
<span class="n">axone</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;% to agg&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>

<span class="c1"># gather up legend handles</span>
<span class="n">axone</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>

<span class="c1"># start axtwo</span>
<span class="c1"># plot the samples from all the data that meet the x criteria</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data_w</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;% to woods&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;All surveys&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axtwo</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># plot the values from AV</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">regional</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">():</span>
    <span class="n">this_y</span> <span class="o">=</span> <span class="n">regional</span><span class="p">[</span><span class="n">regional</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span> <span class="n">x</span><span class="p">][</span><span class="n">unit_label</span><span class="p">]</span>
    <span class="n">this_x</span> <span class="o">=</span> <span class="n">regional</span><span class="p">[</span><span class="n">regional</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span> <span class="n">x</span><span class="p">][</span><span class="s2">&quot;% to woods&quot;</span><span class="p">]</span>
    <span class="n">rankings</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">x</span><span class="p">:(</span><span class="n">this_x</span><span class="p">,</span> <span class="n">this_y</span><span class="p">)})</span>
    <span class="n">axtwo</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">this_x</span><span class="p">,</span> <span class="n">this_y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># handle extreme values</span>
<span class="n">axtwo</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">max</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()))</span>

<span class="c1"># set labels</span>
<span class="n">axtwo</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>
<span class="n">axtwo</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;% to woods&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>
<span class="n">axtwo</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>

<span class="c1"># start axthree</span>
<span class="c1"># plot the samples from all the data that meet the x criteria</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data_p</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;population&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">unit_label</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;All surveys&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axthree</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># plot the values from AV</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">regional</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">():</span>
    <span class="n">this_y</span> <span class="o">=</span> <span class="n">regional</span><span class="p">[</span><span class="n">regional</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span> <span class="n">x</span><span class="p">][</span><span class="n">unit_label</span><span class="p">]</span>
    <span class="n">this_x</span> <span class="o">=</span> <span class="n">regional</span><span class="p">[</span><span class="n">regional</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span> <span class="n">x</span><span class="p">][</span><span class="s2">&quot;population&quot;</span><span class="p">]</span>
    <span class="n">rankings</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">x</span><span class="p">:(</span><span class="n">this_x</span><span class="p">,</span> <span class="n">this_y</span><span class="p">)})</span>
    <span class="n">axthree</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">this_x</span><span class="p">,</span> <span class="n">this_y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Alps survey area&quot;</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># handle extreme values</span>
<span class="n">axthree</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="nb">max</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">unit_label</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()))</span>

<span class="c1"># start axfour,# clear axfour</span>
<span class="n">sut</span><span class="o">.</span><span class="n">hide_spines_ticks_grids</span><span class="p">(</span><span class="n">axfour</span><span class="p">)</span>

<span class="c1"># set labels</span>
<span class="n">axthree</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">unit_label</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>
<span class="n">axthree</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;population&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">ck</span><span class="o">.</span><span class="n">xlab_k14</span><span class="p">)</span>
<span class="n">handles</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">axthree</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
<span class="n">axthree</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>

<span class="n">fig</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="p">[:</span><span class="mi">2</span><span class="p">],</span> <span class="n">labels</span><span class="p">[:</span><span class="mi">2</span><span class="p">],</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">.75</span><span class="p">,</span><span class="mf">.25</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;lower center&quot;</span><span class="p">,</span>  <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/alpes_valaisannes_45_0.png" src="_images/alpes_valaisannes_45_0.png" />
</div>
</div>
</div>
<div class="section" id="organisation-and-execution">
<h3><span class="section-number">2.7.4. </span>Organisation and execution<a class="headerlink" href="#organisation-and-execution" title="Permalink to this headline">¶</a></h3>
<p>Summit foundation: Téo Gürsoy</p>
<p>Hammerdirt: Bettina Siegenthaler</p>
</div>
<div class="section" id="survey-locations">
<h3><span class="section-number">2.7.5. </span>Survey locations<a class="headerlink" href="#survey-locations" title="Permalink to this headline">¶</a></h3>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># display the survey locations</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s2">&quot;display.max_rows&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">disp_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;latitude&quot;</span><span class="p">,</span> <span class="s2">&quot;longitude&quot;</span><span class="p">,</span> <span class="s2">&quot;city&quot;</span><span class="p">,</span> <span class="s2">&quot;population&quot;</span><span class="p">,</span> <span class="s2">&quot;streets&quot;</span><span class="p">,</span> <span class="s2">&quot;% to buildings&quot;</span><span class="p">]</span>
<span class="n">disp_beaches</span> <span class="o">=</span> <span class="n">dfBeaches</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">t</span><span class="p">[</span><span class="s2">&quot;locations&quot;</span><span class="p">]][</span><span class="n">disp_columns</span><span class="p">]</span>
<span class="n">disp_beaches</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>latitude</th>
      <th>longitude</th>
      <th>city</th>
      <th>population</th>
      <th>streets</th>
      <th>% to buildings</th>
    </tr>
    <tr>
      <th>slug</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>cabanes-des-diablerets</th>
      <td>46.338604</td>
      <td>7.215525</td>
      <td>Ormont-Dessus</td>
      <td>1448.0</td>
      <td>9417.0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>val-calanca</th>
      <td>46.330718</td>
      <td>9.120103</td>
      <td>Calanca</td>
      <td>199.0</td>
      <td>38365.0</td>
      <td>0.021708</td>
    </tr>
    <tr>
      <th>san-bernardino</th>
      <td>46.445947</td>
      <td>9.191344</td>
      <td>Mesocco</td>
      <td>1347.0</td>
      <td>43273.0</td>
      <td>0.022523</td>
    </tr>
    <tr>
      <th>airolo</th>
      <td>46.514257</td>
      <td>8.607884</td>
      <td>Airolo</td>
      <td>1501.0</td>
      <td>51349.0</td>
      <td>0.027221</td>
    </tr>
    <tr>
      <th>nendaz</th>
      <td>46.162099</td>
      <td>7.283486</td>
      <td>Nendaz</td>
      <td>6623.0</td>
      <td>49738.0</td>
      <td>0.019886</td>
    </tr>
    <tr>
      <th>veysonnaz</th>
      <td>46.180334</td>
      <td>7.366005</td>
      <td>Nendaz</td>
      <td>6623.0</td>
      <td>65355.0</td>
      <td>0.024148</td>
    </tr>
    <tr>
      <th>andermatt</th>
      <td>46.618327</td>
      <td>8.598803</td>
      <td>Andermatt</td>
      <td>1390.0</td>
      <td>22019.0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>verbier</th>
      <td>46.103981</td>
      <td>7.224760</td>
      <td>Val de Bagnes</td>
      <td>10185.0</td>
      <td>84078.0</td>
      <td>0.271693</td>
    </tr>
    <tr>
      <th>crans-montana</th>
      <td>46.334214</td>
      <td>7.479386</td>
      <td>Lens</td>
      <td>4198.0</td>
      <td>44197.0</td>
      <td>0.008439</td>
    </tr>
    <tr>
      <th>villars</th>
      <td>46.321937</td>
      <td>7.073841</td>
      <td>Ollon</td>
      <td>7463.0</td>
      <td>38704.0</td>
      <td>0.008633</td>
    </tr>
    <tr>
      <th>les-crosets</th>
      <td>46.183591</td>
      <td>6.832916</td>
      <td>Val-d'Illiez</td>
      <td>1961.0</td>
      <td>50272.0</td>
      <td>0.019886</td>
    </tr>
    <tr>
      <th>morgins</th>
      <td>46.236681</td>
      <td>6.858132</td>
      <td>Troistorrents</td>
      <td>4684.0</td>
      <td>66409.0</td>
      <td>0.082504</td>
    </tr>
    <tr>
      <th>la-berra</th>
      <td>46.677399</td>
      <td>7.178738</td>
      <td>La Roche</td>
      <td>1711.0</td>
      <td>26591.0</td>
      <td>0.001418</td>
    </tr>
    <tr>
      <th>grindelwald</th>
      <td>46.658523</td>
      <td>8.065323</td>
      <td>Grindelwald</td>
      <td>3802.0</td>
      <td>34188.0</td>
      <td>0.005722</td>
    </tr>
    <tr>
      <th>la-tzoumaz</th>
      <td>46.144287</td>
      <td>7.232897</td>
      <td>Riddes</td>
      <td>3133.0</td>
      <td>74080.0</td>
      <td>0.131915</td>
    </tr>
    <tr>
      <th>la-robella</th>
      <td>46.875905</td>
      <td>6.548577</td>
      <td>Val-de-Travers</td>
      <td>10668.0</td>
      <td>52625.0</td>
      <td>0.029703</td>
    </tr>
    <tr>
      <th>les-diablerets</th>
      <td>46.346141</td>
      <td>7.151228</td>
      <td>Ormont-Dessus</td>
      <td>1448.0</td>
      <td>63782.0</td>
      <td>0.136947</td>
    </tr>
    <tr>
      <th>charmey</th>
      <td>46.622641</td>
      <td>7.189341</td>
      <td>Val-de-Charmey</td>
      <td>2483.0</td>
      <td>36786.0</td>
      <td>0.041311</td>
    </tr>
    <tr>
      <th>monte-generoso</th>
      <td>45.929625</td>
      <td>9.019921</td>
      <td>Rovio</td>
      <td>839.0</td>
      <td>17366.0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>les-paccots</th>
      <td>46.512592</td>
      <td>6.949421</td>
      <td>Châtel-Saint-Denis</td>
      <td>6971.0</td>
      <td>35501.0</td>
      <td>0.074074</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="inventory-of-all-items">
<h3><span class="section-number">2.7.6. </span>Inventory of all items<a class="headerlink" href="#inventory-of-all-items" title="Permalink to this headline">¶</a></h3>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s2">&quot;display.max_rows&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="c1"># code totals for the river bassin</span>
<span class="n">fd_code_t</span><span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="s2">&quot;groupname&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;fail&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="n">unit_label</span><span class="p">:</span><span class="s2">&quot;median&quot;</span><span class="p">})</span>
<span class="n">fd_code_t</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;groupname&quot;</span><span class="p">:</span><span class="s2">&quot;utility&quot;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">fd_code_t</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fd_code_t</span><span class="o">.</span><span class="n">quantity</span><span class="o">/</span><span class="n">fd_code_t</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">fd_code_t</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">fd_code_t</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">fd_code_t</span><span class="p">[</span><span class="s2">&quot;material&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fd_code_t</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">code_material_map</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<span class="n">fd_code_t</span><span class="p">[</span><span class="s2">&quot;item&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fd_code_t</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">code_description_map</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<span class="n">fd_code_t</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">fd_code_t</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">fd_code_t</span><span class="p">[</span><span class="s2">&quot;fail rate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span><span class="n">fd_code_t</span><span class="p">[</span><span class="s2">&quot;fail&quot;</span><span class="p">]</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">loc_date</span><span class="o">.</span><span class="n">unique</span><span class="p">()))</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">complete_inventory</span> <span class="o">=</span> <span class="n">fd_code_t</span><span class="p">[</span><span class="n">fd_code_t</span><span class="o">.</span><span class="n">quantity</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">][[</span><span class="s2">&quot;item&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="s2">&quot;utility&quot;</span><span class="p">,</span>  <span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">,</span><span class="s2">&quot;fail rate&quot;</span><span class="p">]]</span>
<span class="n">complete_inventory</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>item</th>
      <th>quantity</th>
      <th>utility</th>
      <th>% of total</th>
      <th>fail rate</th>
    </tr>
    <tr>
      <th>code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>G704</th>
      <td>Brosse de télésiège</td>
      <td>5181</td>
      <td>infrastructure</td>
      <td>66.6</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>G27</th>
      <td>Cigarette filters</td>
      <td>317</td>
      <td>tobacco</td>
      <td>4.1</td>
      <td>95.0</td>
    </tr>
    <tr>
      <th>Gfrags</th>
      <td>Fragmented plastics</td>
      <td>294</td>
      <td>plastic pieces</td>
      <td>3.8</td>
      <td>50.0</td>
    </tr>
    <tr>
      <th>G30</th>
      <td>Food wrappers; candy, snacks</td>
      <td>253</td>
      <td>food and drink</td>
      <td>3.3</td>
      <td>95.0</td>
    </tr>
    <tr>
      <th>G705</th>
      <td>Screws and bolts</td>
      <td>206</td>
      <td>infrastructure</td>
      <td>2.6</td>
      <td>65.0</td>
    </tr>
    <tr>
      <th>G936</th>
      <td>Sheeting ag. greenhouse film</td>
      <td>132</td>
      <td>agriculture</td>
      <td>1.7</td>
      <td>15.0</td>
    </tr>
    <tr>
      <th>Gfoam</th>
      <td>Expanded polystyrene</td>
      <td>121</td>
      <td>infrastructure</td>
      <td>1.6</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>G93</th>
      <td>Cable ties; steggel, zip, zap straps</td>
      <td>104</td>
      <td>infrastructure</td>
      <td>1.3</td>
      <td>60.0</td>
    </tr>
    <tr>
      <th>G200</th>
      <td>Glass drink bottles, pieces</td>
      <td>84</td>
      <td>food and drink</td>
      <td>1.1</td>
      <td>45.0</td>
    </tr>
    <tr>
      <th>G177</th>
      <td>Foil wrappers, aluminum foil</td>
      <td>68</td>
      <td>food and drink</td>
      <td>0.9</td>
      <td>60.0</td>
    </tr>
    <tr>
      <th>G124</th>
      <td>Other plastic or foam products</td>
      <td>60</td>
      <td>unclassified</td>
      <td>0.8</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G941</th>
      <td>Packaging films nonfood or unknown</td>
      <td>57</td>
      <td>packaging non food</td>
      <td>0.7</td>
      <td>30.0</td>
    </tr>
    <tr>
      <th>G87</th>
      <td>Tape, masking/duct/packing</td>
      <td>53</td>
      <td>infrastructure</td>
      <td>0.7</td>
      <td>60.0</td>
    </tr>
    <tr>
      <th>G204</th>
      <td>Bricks, pipes not plastic</td>
      <td>49</td>
      <td>infrastructure</td>
      <td>0.6</td>
      <td>40.0</td>
    </tr>
    <tr>
      <th>G117</th>
      <td>Expanded foams &lt; 5mm</td>
      <td>37</td>
      <td>micro plastics (&lt; 5mm)</td>
      <td>0.5</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G33</th>
      <td>Lids for togo drinks plastic</td>
      <td>36</td>
      <td>food and drink</td>
      <td>0.5</td>
      <td>40.0</td>
    </tr>
    <tr>
      <th>G12</th>
      <td>Cosmetics, non-beach use personal care containers</td>
      <td>34</td>
      <td>personal items</td>
      <td>0.4</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G89</th>
      <td>Plastic construction waste</td>
      <td>34</td>
      <td>infrastructure</td>
      <td>0.4</td>
      <td>15.0</td>
    </tr>
    <tr>
      <th>G142</th>
      <td>Rope , string or nets</td>
      <td>33</td>
      <td>recreation</td>
      <td>0.4</td>
      <td>40.0</td>
    </tr>
    <tr>
      <th>G122</th>
      <td>Plastic fragments ( &gt;1mm)</td>
      <td>32</td>
      <td>micro plastics (&lt; 5mm)</td>
      <td>0.4</td>
      <td>30.0</td>
    </tr>
    <tr>
      <th>G919</th>
      <td>Nails, screws, bolts etc.</td>
      <td>31</td>
      <td>infrastructure</td>
      <td>0.4</td>
      <td>20.0</td>
    </tr>
    <tr>
      <th>G922</th>
      <td>Labels, bar codes</td>
      <td>27</td>
      <td>packaging non food</td>
      <td>0.3</td>
      <td>40.0</td>
    </tr>
    <tr>
      <th>G923</th>
      <td>Tissue, toilet paper, napkins, paper towels</td>
      <td>26</td>
      <td>personal items</td>
      <td>0.3</td>
      <td>40.0</td>
    </tr>
    <tr>
      <th>G703</th>
      <td>piquet de ballisage</td>
      <td>21</td>
      <td>infrastructure</td>
      <td>0.3</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>G24</th>
      <td>Plastic lid rings</td>
      <td>20</td>
      <td>food and drink</td>
      <td>0.3</td>
      <td>35.0</td>
    </tr>
    <tr>
      <th>G178</th>
      <td>Metal bottle caps and lids</td>
      <td>18</td>
      <td>food and drink</td>
      <td>0.2</td>
      <td>40.0</td>
    </tr>
    <tr>
      <th>G146</th>
      <td>Paper, cardboard</td>
      <td>18</td>
      <td>packaging non food</td>
      <td>0.2</td>
      <td>25.0</td>
    </tr>
    <tr>
      <th>G926</th>
      <td>Chewing gum, often contains plastics</td>
      <td>17</td>
      <td>food and drink</td>
      <td>0.2</td>
      <td>25.0</td>
    </tr>
    <tr>
      <th>G934</th>
      <td>Sandbag, plastic for flood, erosion control etc..</td>
      <td>17</td>
      <td>agriculture</td>
      <td>0.2</td>
      <td>15.0</td>
    </tr>
    <tr>
      <th>G10</th>
      <td>Food containers single use foamed or plastic</td>
      <td>17</td>
      <td>food and drink</td>
      <td>0.2</td>
      <td>15.0</td>
    </tr>
    <tr>
      <th>G34</th>
      <td>Cutlery, plates and trays</td>
      <td>16</td>
      <td>food and drink</td>
      <td>0.2</td>
      <td>20.0</td>
    </tr>
    <tr>
      <th>G25</th>
      <td>Tobacco; plastic packaging, containers</td>
      <td>16</td>
      <td>tobacco</td>
      <td>0.2</td>
      <td>25.0</td>
    </tr>
    <tr>
      <th>G905</th>
      <td>Hair clip,  hair ties, personal accessories pl...</td>
      <td>16</td>
      <td>personal items</td>
      <td>0.2</td>
      <td>40.0</td>
    </tr>
    <tr>
      <th>G710</th>
      <td>Ski / Snowboards (ski, fixations et autres piè...</td>
      <td>15</td>
      <td>recreation</td>
      <td>0.2</td>
      <td>30.0</td>
    </tr>
    <tr>
      <th>G707</th>
      <td>étiquette d’équipement de ski</td>
      <td>13</td>
      <td>recreation</td>
      <td>0.2</td>
      <td>25.0</td>
    </tr>
    <tr>
      <th>G208</th>
      <td>Glass or ceramic fragments &gt; 2.5 cm</td>
      <td>13</td>
      <td>unclassified</td>
      <td>0.2</td>
      <td>25.0</td>
    </tr>
    <tr>
      <th>G901</th>
      <td>Mask medical, synthetic</td>
      <td>13</td>
      <td>personal items</td>
      <td>0.2</td>
      <td>20.0</td>
    </tr>
    <tr>
      <th>G198</th>
      <td>Other metal pieces &lt; 50cm</td>
      <td>12</td>
      <td>infrastructure</td>
      <td>0.2</td>
      <td>40.0</td>
    </tr>
    <tr>
      <th>G170</th>
      <td>Wood (processed)</td>
      <td>11</td>
      <td>agriculture</td>
      <td>0.1</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>G145</th>
      <td>Other textiles</td>
      <td>11</td>
      <td>personal items</td>
      <td>0.1</td>
      <td>20.0</td>
    </tr>
    <tr>
      <th>G152</th>
      <td>Cigarette boxes, tobacco related paper/cardboard</td>
      <td>11</td>
      <td>tobacco</td>
      <td>0.1</td>
      <td>25.0</td>
    </tr>
    <tr>
      <th>G7</th>
      <td>Drink bottles &lt; = 0.5L</td>
      <td>11</td>
      <td>food and drink</td>
      <td>0.1</td>
      <td>40.0</td>
    </tr>
    <tr>
      <th>G709</th>
      <td>Batons de ski parties (rondelles, attaches)</td>
      <td>11</td>
      <td>recreation</td>
      <td>0.1</td>
      <td>30.0</td>
    </tr>
    <tr>
      <th>G66</th>
      <td>Straps/bands;  hard, plastic package fastener</td>
      <td>10</td>
      <td>infrastructure</td>
      <td>0.1</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>G48</th>
      <td>Rope, synthetic</td>
      <td>10</td>
      <td>recreation</td>
      <td>0.1</td>
      <td>20.0</td>
    </tr>
    <tr>
      <th>G100</th>
      <td>Medical; containers/tubes/ packaging</td>
      <td>9</td>
      <td>waste water</td>
      <td>0.1</td>
      <td>40.0</td>
    </tr>
    <tr>
      <th>G31</th>
      <td>Lollypop sticks</td>
      <td>9</td>
      <td>food and drink</td>
      <td>0.1</td>
      <td>25.0</td>
    </tr>
    <tr>
      <th>G702</th>
      <td>piquet de ballisage</td>
      <td>9</td>
      <td>infrastructure</td>
      <td>0.1</td>
      <td>20.0</td>
    </tr>
    <tr>
      <th>G74</th>
      <td>Insulation foams</td>
      <td>8</td>
      <td>infrastructure</td>
      <td>0.1</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>G129</th>
      <td>Inner tubes and rubber sheets</td>
      <td>8</td>
      <td>unclassified</td>
      <td>0.1</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G921</th>
      <td>Ceramic tile and pieces</td>
      <td>7</td>
      <td>infrastructure</td>
      <td>0.1</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>G105</th>
      <td>Plastic fragments subangular &lt;5mm</td>
      <td>6</td>
      <td>micro plastics (&lt; 5mm)</td>
      <td>0.1</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G23</th>
      <td>Lids unidentified</td>
      <td>6</td>
      <td>packaging non food</td>
      <td>0.1</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>G20</th>
      <td>Caps and lids</td>
      <td>6</td>
      <td>packaging non food</td>
      <td>0.1</td>
      <td>20.0</td>
    </tr>
    <tr>
      <th>G156</th>
      <td>Paper fragments</td>
      <td>6</td>
      <td>packaging non food</td>
      <td>0.1</td>
      <td>25.0</td>
    </tr>
    <tr>
      <th>G123</th>
      <td>Polyurethane granules &lt; 5mm</td>
      <td>6</td>
      <td>micro plastics (&lt; 5mm)</td>
      <td>0.1</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G918</th>
      <td>Safety pins, paper clips, small metal utility ...</td>
      <td>6</td>
      <td>personal items</td>
      <td>0.1</td>
      <td>15.0</td>
    </tr>
    <tr>
      <th>G706</th>
      <td>Abonnement de ski</td>
      <td>5</td>
      <td>recreation</td>
      <td>0.1</td>
      <td>25.0</td>
    </tr>
    <tr>
      <th>G149</th>
      <td>Paper packaging</td>
      <td>5</td>
      <td>packaging non food</td>
      <td>0.1</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>G191</th>
      <td>Wire and mesh</td>
      <td>5</td>
      <td>agriculture</td>
      <td>0.1</td>
      <td>20.0</td>
    </tr>
    <tr>
      <th>G943</th>
      <td>Fencing agriculture, plastic</td>
      <td>4</td>
      <td>agriculture</td>
      <td>0.1</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>G915</th>
      <td>Reflectors, plastic mobility items</td>
      <td>4</td>
      <td>personal items</td>
      <td>0.1</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G175</th>
      <td>Cans, beverage</td>
      <td>4</td>
      <td>food and drink</td>
      <td>0.1</td>
      <td>15.0</td>
    </tr>
    <tr>
      <th>G73</th>
      <td>Foamed items &amp; pieces (non packaging/insulatio...</td>
      <td>4</td>
      <td>recreation</td>
      <td>0.1</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G211</th>
      <td>Swabs, bandaging, medical</td>
      <td>4</td>
      <td>personal items</td>
      <td>0.1</td>
      <td>15.0</td>
    </tr>
    <tr>
      <th>G35</th>
      <td>Straws and stirrers</td>
      <td>3</td>
      <td>food and drink</td>
      <td>0.0</td>
      <td>15.0</td>
    </tr>
    <tr>
      <th>G158</th>
      <td>Other paper items</td>
      <td>3</td>
      <td>packaging non food</td>
      <td>0.0</td>
      <td>15.0</td>
    </tr>
    <tr>
      <th>G95</th>
      <td>Cotton bud/swab sticks</td>
      <td>3</td>
      <td>waste water</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G171</th>
      <td>Other wood &lt; 50cm</td>
      <td>3</td>
      <td>agriculture</td>
      <td>0.0</td>
      <td>15.0</td>
    </tr>
    <tr>
      <th>G194</th>
      <td>Cables, metal wire(s) often inside rubber or p...</td>
      <td>3</td>
      <td>infrastructure</td>
      <td>0.0</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>G712</th>
      <td>Gants de ski</td>
      <td>3</td>
      <td>recreation</td>
      <td>0.0</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>G711</th>
      <td>Chaufferette</td>
      <td>3</td>
      <td>recreation</td>
      <td>0.0</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>G139</th>
      <td>Backpacks</td>
      <td>3</td>
      <td>personal items</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G3</th>
      <td>Plastic bags, carier bags</td>
      <td>3</td>
      <td>packaging non food</td>
      <td>0.0</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>G159</th>
      <td>Corks</td>
      <td>3</td>
      <td>food and drink</td>
      <td>0.0</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>G210</th>
      <td>Other glass/ceramic</td>
      <td>2</td>
      <td>unclassified</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G90</th>
      <td>Plastic flower pots</td>
      <td>2</td>
      <td>agriculture</td>
      <td>0.0</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>G28</th>
      <td>Pens, lids, mechanical pencils etc.</td>
      <td>2</td>
      <td>personal items</td>
      <td>0.0</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>G928</th>
      <td>Ribbons and bows</td>
      <td>2</td>
      <td>personal items</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G931</th>
      <td>Tape-caution for barrier, police, construction...</td>
      <td>2</td>
      <td>infrastructure</td>
      <td>0.0</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>G713</th>
      <td>Carpet from ski lift</td>
      <td>2</td>
      <td>infrastructure</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G26</th>
      <td>Cigarette lighters</td>
      <td>2</td>
      <td>tobacco</td>
      <td>0.0</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>G155</th>
      <td>Fireworks paper tubes and fragments</td>
      <td>2</td>
      <td>recreation</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G181</th>
      <td>Tableware metal;  cups, cutlery etc.</td>
      <td>2</td>
      <td>food and drink</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G167</th>
      <td>Matches or fireworks</td>
      <td>2</td>
      <td>recreation</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G168</th>
      <td>Wood boards</td>
      <td>2</td>
      <td>agriculture</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G935</th>
      <td>Walking stick pads and pieces, often elastomer...</td>
      <td>1</td>
      <td>personal items</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G71</th>
      <td>Shoes sandals</td>
      <td>1</td>
      <td>personal items</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G67</th>
      <td>Industrial sheeting</td>
      <td>1</td>
      <td>agriculture</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G148</th>
      <td>Cardboard (boxes and fragments)</td>
      <td>1</td>
      <td>packaging non food</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G65</th>
      <td>Buckets</td>
      <td>1</td>
      <td>agriculture</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G131</th>
      <td>Rubber bands</td>
      <td>1</td>
      <td>personal items</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G8</th>
      <td>Drink bottles  &gt; 0.5L</td>
      <td>1</td>
      <td>food and drink</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G128</th>
      <td>Tires and belts</td>
      <td>1</td>
      <td>unclassified</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G916</th>
      <td>Pencils and pieces</td>
      <td>1</td>
      <td>personal items</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G917</th>
      <td>Terracotta balls</td>
      <td>1</td>
      <td>unclassified</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G929</th>
      <td>Electronics and pieces; sensors, headsets etc.</td>
      <td>1</td>
      <td>personal items</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G21</th>
      <td>Drink lids</td>
      <td>1</td>
      <td>food and drink</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G708</th>
      <td>Batons de ski</td>
      <td>1</td>
      <td>recreation</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G195</th>
      <td>Batteries - household</td>
      <td>1</td>
      <td>personal items</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G101</th>
      <td>Dog feces bag</td>
      <td>1</td>
      <td>personal items</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G199</th>
      <td>Other metal pieces &gt; 50cm</td>
      <td>1</td>
      <td>infrastructure</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G96</th>
      <td>Sanitary-pads/tampons, applicators</td>
      <td>1</td>
      <td>waste water</td>
      <td>0.0</td>
      <td>5.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="lakes_rivers.html" title="previous page"><span class="section-number">1. </span>Lakes and rivers</a>
    <a class='right-next' id="next-link" href="aare_sa.html" title="next page"><span class="section-number">3. </span>Aare survey area</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          <div class="extra_footer">
            <p>
   Comissioned by the Swiss Federal Office for the Environment (FOEN), © 2021
</p>

          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>